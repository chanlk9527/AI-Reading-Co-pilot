var ih=Object.defineProperty;var oh=(l,i,o)=>i in l?ih(l,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[i]=o;var Se=(l,i,o)=>oh(l,typeof i!="symbol"?i+"":i,o);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))u(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&u(p)}).observe(document,{childList:!0,subtree:!0});function o(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function u(c){if(c.ep)return;c.ep=!0;const d=o(c);fetch(c.href,d)}})();function Rd(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Na={exports:{}},Gr={},ba={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zc;function ah(){if(Zc)return ce;Zc=1;var l=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.iterator;function k(x){return x===null||typeof x!="object"?null:(x=C&&x[C]||x["@@iterator"],typeof x=="function"?x:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,z={};function T(x,R,U){this.props=x,this.context=R,this.refs=z,this.updater=U||P}T.prototype.isReactComponent={},T.prototype.setState=function(x,R){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,R,"setState")},T.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function M(){}M.prototype=T.prototype;function D(x,R,U){this.props=x,this.context=R,this.refs=z,this.updater=U||P}var A=D.prototype=new M;A.constructor=D,b(A,T.prototype),A.isPureReactComponent=!0;var V=Array.isArray,Q=Object.prototype.hasOwnProperty,te={current:null},ie={key:!0,ref:!0,__self:!0,__source:!0};function se(x,R,U){var Y,X={},oe=null,ne=null;if(R!=null)for(Y in R.ref!==void 0&&(ne=R.ref),R.key!==void 0&&(oe=""+R.key),R)Q.call(R,Y)&&!ie.hasOwnProperty(Y)&&(X[Y]=R[Y]);var ue=arguments.length-2;if(ue===1)X.children=U;else if(1<ue){for(var de=Array(ue),Re=0;Re<ue;Re++)de[Re]=arguments[Re+2];X.children=de}if(x&&x.defaultProps)for(Y in ue=x.defaultProps,ue)X[Y]===void 0&&(X[Y]=ue[Y]);return{$$typeof:l,type:x,key:oe,ref:ne,props:X,_owner:te.current}}function pe(x,R){return{$$typeof:l,type:x.type,key:R,ref:x.ref,props:x.props,_owner:x._owner}}function ve(x){return typeof x=="object"&&x!==null&&x.$$typeof===l}function fe(x){var R={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(U){return R[U]})}var je=/\/+/g;function me(x,R){return typeof x=="object"&&x!==null&&x.key!=null?fe(""+x.key):R.toString(36)}function $e(x,R,U,Y,X){var oe=typeof x;(oe==="undefined"||oe==="boolean")&&(x=null);var ne=!1;if(x===null)ne=!0;else switch(oe){case"string":case"number":ne=!0;break;case"object":switch(x.$$typeof){case l:case i:ne=!0}}if(ne)return ne=x,X=X(ne),x=Y===""?"."+me(ne,0):Y,V(X)?(U="",x!=null&&(U=x.replace(je,"$&/")+"/"),$e(X,R,U,"",function(Re){return Re})):X!=null&&(ve(X)&&(X=pe(X,U+(!X.key||ne&&ne.key===X.key?"":(""+X.key).replace(je,"$&/")+"/")+x)),R.push(X)),1;if(ne=0,Y=Y===""?".":Y+":",V(x))for(var ue=0;ue<x.length;ue++){oe=x[ue];var de=Y+me(oe,ue);ne+=$e(oe,R,U,de,X)}else if(de=k(x),typeof de=="function")for(x=de.call(x),ue=0;!(oe=x.next()).done;)oe=oe.value,de=Y+me(oe,ue++),ne+=$e(oe,R,U,de,X);else if(oe==="object")throw R=String(x),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return ne}function Ie(x,R,U){if(x==null)return x;var Y=[],X=0;return $e(x,Y,"","",function(oe){return R.call(U,oe,X++)}),Y}function ge(x){if(x._status===-1){var R=x._result;R=R(),R.then(function(U){(x._status===0||x._status===-1)&&(x._status=1,x._result=U)},function(U){(x._status===0||x._status===-1)&&(x._status=2,x._result=U)}),x._status===-1&&(x._status=0,x._result=R)}if(x._status===1)return x._result.default;throw x._result}var q={current:null},$={transition:null},O={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:$,ReactCurrentOwner:te};function L(){throw Error("act(...) is not supported in production builds of React.")}return ce.Children={map:Ie,forEach:function(x,R,U){Ie(x,function(){R.apply(this,arguments)},U)},count:function(x){var R=0;return Ie(x,function(){R++}),R},toArray:function(x){return Ie(x,function(R){return R})||[]},only:function(x){if(!ve(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},ce.Component=T,ce.Fragment=o,ce.Profiler=c,ce.PureComponent=D,ce.StrictMode=u,ce.Suspense=y,ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,ce.act=L,ce.cloneElement=function(x,R,U){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var Y=b({},x.props),X=x.key,oe=x.ref,ne=x._owner;if(R!=null){if(R.ref!==void 0&&(oe=R.ref,ne=te.current),R.key!==void 0&&(X=""+R.key),x.type&&x.type.defaultProps)var ue=x.type.defaultProps;for(de in R)Q.call(R,de)&&!ie.hasOwnProperty(de)&&(Y[de]=R[de]===void 0&&ue!==void 0?ue[de]:R[de])}var de=arguments.length-2;if(de===1)Y.children=U;else if(1<de){ue=Array(de);for(var Re=0;Re<de;Re++)ue[Re]=arguments[Re+2];Y.children=ue}return{$$typeof:l,type:x.type,key:X,ref:oe,props:Y,_owner:ne}},ce.createContext=function(x){return x={$$typeof:p,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:d,_context:x},x.Consumer=x},ce.createElement=se,ce.createFactory=function(x){var R=se.bind(null,x);return R.type=x,R},ce.createRef=function(){return{current:null}},ce.forwardRef=function(x){return{$$typeof:h,render:x}},ce.isValidElement=ve,ce.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:ge}},ce.memo=function(x,R){return{$$typeof:m,type:x,compare:R===void 0?null:R}},ce.startTransition=function(x){var R=$.transition;$.transition={};try{x()}finally{$.transition=R}},ce.unstable_act=L,ce.useCallback=function(x,R){return q.current.useCallback(x,R)},ce.useContext=function(x){return q.current.useContext(x)},ce.useDebugValue=function(){},ce.useDeferredValue=function(x){return q.current.useDeferredValue(x)},ce.useEffect=function(x,R){return q.current.useEffect(x,R)},ce.useId=function(){return q.current.useId()},ce.useImperativeHandle=function(x,R,U){return q.current.useImperativeHandle(x,R,U)},ce.useInsertionEffect=function(x,R){return q.current.useInsertionEffect(x,R)},ce.useLayoutEffect=function(x,R){return q.current.useLayoutEffect(x,R)},ce.useMemo=function(x,R){return q.current.useMemo(x,R)},ce.useReducer=function(x,R,U){return q.current.useReducer(x,R,U)},ce.useRef=function(x){return q.current.useRef(x)},ce.useState=function(x){return q.current.useState(x)},ce.useSyncExternalStore=function(x,R,U){return q.current.useSyncExternalStore(x,R,U)},ce.useTransition=function(){return q.current.useTransition()},ce.version="18.3.1",ce}var Jc;function Ha(){return Jc||(Jc=1,ba.exports=ah()),ba.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ed;function sh(){if(ed)return Gr;ed=1;var l=Ha(),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,c=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function p(h,y,m){var v,C={},k=null,P=null;m!==void 0&&(k=""+m),y.key!==void 0&&(k=""+y.key),y.ref!==void 0&&(P=y.ref);for(v in y)u.call(y,v)&&!d.hasOwnProperty(v)&&(C[v]=y[v]);if(h&&h.defaultProps)for(v in y=h.defaultProps,y)C[v]===void 0&&(C[v]=y[v]);return{$$typeof:i,type:h,key:k,ref:P,props:C,_owner:c.current}}return Gr.Fragment=o,Gr.jsx=p,Gr.jsxs=p,Gr}var td;function uh(){return td||(td=1,Na.exports=sh()),Na.exports}var g=uh(),S=Ha();const ch=Rd(S);var mi={},Ta={exports:{}},ut={},ja={exports:{}},Ia={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nd;function dh(){return nd||(nd=1,(function(l){function i($,O){var L=$.length;$.push(O);e:for(;0<L;){var x=L-1>>>1,R=$[x];if(0<c(R,O))$[x]=O,$[L]=R,L=x;else break e}}function o($){return $.length===0?null:$[0]}function u($){if($.length===0)return null;var O=$[0],L=$.pop();if(L!==O){$[0]=L;e:for(var x=0,R=$.length,U=R>>>1;x<U;){var Y=2*(x+1)-1,X=$[Y],oe=Y+1,ne=$[oe];if(0>c(X,L))oe<R&&0>c(ne,X)?($[x]=ne,$[oe]=L,x=oe):($[x]=X,$[Y]=L,x=Y);else if(oe<R&&0>c(ne,L))$[x]=ne,$[oe]=L,x=oe;else break e}}return O}function c($,O){var L=$.sortIndex-O.sortIndex;return L!==0?L:$.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var p=Date,h=p.now();l.unstable_now=function(){return p.now()-h}}var y=[],m=[],v=1,C=null,k=3,P=!1,b=!1,z=!1,T=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A($){for(var O=o(m);O!==null;){if(O.callback===null)u(m);else if(O.startTime<=$)u(m),O.sortIndex=O.expirationTime,i(y,O);else break;O=o(m)}}function V($){if(z=!1,A($),!b)if(o(y)!==null)b=!0,ge(Q);else{var O=o(m);O!==null&&q(V,O.startTime-$)}}function Q($,O){b=!1,z&&(z=!1,M(se),se=-1),P=!0;var L=k;try{for(A(O),C=o(y);C!==null&&(!(C.expirationTime>O)||$&&!fe());){var x=C.callback;if(typeof x=="function"){C.callback=null,k=C.priorityLevel;var R=x(C.expirationTime<=O);O=l.unstable_now(),typeof R=="function"?C.callback=R:C===o(y)&&u(y),A(O)}else u(y);C=o(y)}if(C!==null)var U=!0;else{var Y=o(m);Y!==null&&q(V,Y.startTime-O),U=!1}return U}finally{C=null,k=L,P=!1}}var te=!1,ie=null,se=-1,pe=5,ve=-1;function fe(){return!(l.unstable_now()-ve<pe)}function je(){if(ie!==null){var $=l.unstable_now();ve=$;var O=!0;try{O=ie(!0,$)}finally{O?me():(te=!1,ie=null)}}else te=!1}var me;if(typeof D=="function")me=function(){D(je)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,Ie=$e.port2;$e.port1.onmessage=je,me=function(){Ie.postMessage(null)}}else me=function(){T(je,0)};function ge($){ie=$,te||(te=!0,me())}function q($,O){se=T(function(){$(l.unstable_now())},O)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function($){$.callback=null},l.unstable_continueExecution=function(){b||P||(b=!0,ge(Q))},l.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<$?Math.floor(1e3/$):5},l.unstable_getCurrentPriorityLevel=function(){return k},l.unstable_getFirstCallbackNode=function(){return o(y)},l.unstable_next=function($){switch(k){case 1:case 2:case 3:var O=3;break;default:O=k}var L=k;k=O;try{return $()}finally{k=L}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function($,O){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var L=k;k=$;try{return O()}finally{k=L}},l.unstable_scheduleCallback=function($,O,L){var x=l.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?x+L:x):L=x,$){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=L+R,$={id:v++,callback:O,priorityLevel:$,startTime:L,expirationTime:R,sortIndex:-1},L>x?($.sortIndex=L,i(m,$),o(y)===null&&$===o(m)&&(z?(M(se),se=-1):z=!0,q(V,L-x))):($.sortIndex=R,i(y,$),b||P||(b=!0,ge(Q))),$},l.unstable_shouldYield=fe,l.unstable_wrapCallback=function($){var O=k;return function(){var L=k;k=O;try{return $.apply(this,arguments)}finally{k=L}}}})(Ia)),Ia}var rd;function fh(){return rd||(rd=1,ja.exports=dh()),ja.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ld;function ph(){if(ld)return ut;ld=1;var l=Ha(),i=fh();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,c={};function d(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(c[e]=t,e=0;e<t.length;e++)u.add(t[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},C={};function k(e){return y.call(C,e)?!0:y.call(v,e)?!1:m.test(e)?C[e]=!0:(v[e]=!0,!1)}function P(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b(e,t,n,r){if(t===null||typeof t>"u"||P(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function z(e,t,n,r,a,s,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=f}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new z(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new z(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new z(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new z(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new z(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new z(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new z(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new z(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new z(e,5,!1,e.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function D(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(M,D);T[t]=new z(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(M,D);T[t]=new z(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(M,D);T[t]=new z(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new z(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new z(e,1,!1,e.toLowerCase(),null,!0,!0)});function A(e,t,n,r){var a=T.hasOwnProperty(t)?T[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b(t,n,a,r)&&(n=null),r||a===null?k(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var V=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),te=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),ve=Symbol.for("react.provider"),fe=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),$=Symbol.iterator;function O(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var L=Object.assign,x;function R(e){if(x===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);x=t&&t[1]||""}return`
`+x+e}var U=!1;function Y(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(I){var r=I}Reflect.construct(e,[],t)}else{try{t.call()}catch(I){r=I}e.call(t.prototype)}else{try{throw Error()}catch(I){r=I}e()}}catch(I){if(I&&r&&typeof I.stack=="string"){for(var a=I.stack.split(`
`),s=r.stack.split(`
`),f=a.length-1,w=s.length-1;1<=f&&0<=w&&a[f]!==s[w];)w--;for(;1<=f&&0<=w;f--,w--)if(a[f]!==s[w]){if(f!==1||w!==1)do if(f--,w--,0>w||a[f]!==s[w]){var E=`
`+a[f].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=f&&0<=w);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?R(e):""}function X(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=Y(e.type,!1),e;case 11:return e=Y(e.type.render,!1),e;case 1:return e=Y(e.type,!0),e;default:return""}}function oe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ie:return"Fragment";case te:return"Portal";case pe:return"Profiler";case se:return"StrictMode";case me:return"Suspense";case $e:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fe:return(e.displayName||"Context")+".Consumer";case ve:return(e._context.displayName||"Context")+".Provider";case je:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ie:return t=e.displayName||null,t!==null?t:oe(e.type)||"Memo";case ge:t=e._payload,e=e._init;try{return oe(e(t))}catch{}}return null}function ne(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(t);case 8:return t===se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ue(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function de(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Re(e){var t=de(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(f){r=""+f,s.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(f){r=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ct(e){e._valueTracker||(e._valueTracker=Re(e))}function Ze(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=de(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function He(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nt(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function rt(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ue(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gn(e,t){t=t.checked,t!=null&&A(e,"checked",t,!1)}function cr(e,t){gn(e,t);var n=ue(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$i(e,t.type,n):t.hasOwnProperty("defaultValue")&&$i(e,t.type,ue(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function as(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $i(e,t,n){(t!=="number"||He(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var dr=Array.isArray;function Ln(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ue(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Oi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ss(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(o(92));if(dr(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ue(n)}}function us(e,t){var n=ue(t.value),r=ue(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function cs(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ds(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ds(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var al,fs=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(al=al||document.createElement("div"),al.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=al.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uf=["Webkit","ms","Moz","O"];Object.keys(pr).forEach(function(e){uf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pr[t]=pr[e]})});function ps(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||pr.hasOwnProperty(e)&&pr[e]?(""+t).trim():t+"px"}function hs(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=ps(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var cf=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Di(e,t){if(t){if(cf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function Fi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bi=null;function Ui(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wi=null,zn=null,An=null;function ms(e){if(e=Ar(e)){if(typeof Wi!="function")throw Error(o(280));var t=e.stateNode;t&&(t=Tl(t),Wi(e.stateNode,e.type,t))}}function gs(e){zn?An?An.push(e):An=[e]:zn=e}function ys(){if(zn){var e=zn,t=An;if(An=zn=null,ms(e),t)for(e=0;e<t.length;e++)ms(t[e])}}function vs(e,t){return e(t)}function xs(){}var Hi=!1;function ws(e,t,n){if(Hi)return e(t,n);Hi=!0;try{return vs(e,t,n)}finally{Hi=!1,(zn!==null||An!==null)&&(xs(),ys())}}function hr(e,t){var n=e.stateNode;if(n===null)return null;var r=Tl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var Vi=!1;if(h)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){Vi=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{Vi=!1}function df(e,t,n,r,a,s,f,w,E){var I=Array.prototype.slice.call(arguments,3);try{t.apply(n,I)}catch(B){this.onError(B)}}var gr=!1,sl=null,ul=!1,Qi=null,ff={onError:function(e){gr=!0,sl=e}};function pf(e,t,n,r,a,s,f,w,E){gr=!1,sl=null,df.apply(ff,arguments)}function hf(e,t,n,r,a,s,f,w,E){if(pf.apply(this,arguments),gr){if(gr){var I=sl;gr=!1,sl=null}else throw Error(o(198));ul||(ul=!0,Qi=I)}}function yn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ks(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ss(e){if(yn(e)!==e)throw Error(o(188))}function mf(e){var t=e.alternate;if(!t){if(t=yn(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return Ss(a),e;if(s===r)return Ss(a),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=s;else{for(var f=!1,w=a.child;w;){if(w===n){f=!0,n=a,r=s;break}if(w===r){f=!0,r=a,n=s;break}w=w.sibling}if(!f){for(w=s.child;w;){if(w===n){f=!0,n=s,r=a;break}if(w===r){f=!0,r=s,n=a;break}w=w.sibling}if(!f)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function Es(e){return e=mf(e),e!==null?Cs(e):null}function Cs(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cs(e);if(t!==null)return t;e=e.sibling}return null}var _s=i.unstable_scheduleCallback,Rs=i.unstable_cancelCallback,gf=i.unstable_shouldYield,yf=i.unstable_requestPaint,ze=i.unstable_now,vf=i.unstable_getCurrentPriorityLevel,Ki=i.unstable_ImmediatePriority,Ps=i.unstable_UserBlockingPriority,cl=i.unstable_NormalPriority,xf=i.unstable_LowPriority,Ns=i.unstable_IdlePriority,dl=null,jt=null;function wf(e){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(dl,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Ef,kf=Math.log,Sf=Math.LN2;function Ef(e){return e>>>=0,e===0?32:31-(kf(e)/Sf|0)|0}var fl=64,pl=4194304;function yr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,f=n&268435455;if(f!==0){var w=f&~a;w!==0?r=yr(w):(s&=f,s!==0&&(r=yr(s)))}else f=n&~a,f!==0?r=yr(f):s!==0&&(r=yr(s));if(r===0)return 0;if(t!==0&&t!==r&&(t&a)===0&&(a=r&-r,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-St(t),a=1<<n,r|=e[n],t&=~a;return r}function Cf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _f(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var f=31-St(s),w=1<<f,E=a[f];E===-1?((w&n)===0||(w&r)!==0)&&(a[f]=Cf(w,t)):E<=t&&(e.expiredLanes|=w),s&=~w}}function Yi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bs(){var e=fl;return fl<<=1,(fl&4194240)===0&&(fl=64),e}function qi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=n}function Rf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-St(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}function Gi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-St(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var we=0;function Ts(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var js,Xi,Is,Ls,zs,Zi=!1,ml=[],qt=null,Gt=null,Xt=null,xr=new Map,wr=new Map,Zt=[],Pf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function As(e,t){switch(e){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Xt=null;break;case"pointerover":case"pointerout":xr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wr.delete(t.pointerId)}}function kr(e,t,n,r,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Ar(t),t!==null&&Xi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Nf(e,t,n,r,a){switch(t){case"focusin":return qt=kr(qt,e,t,n,r,a),!0;case"dragenter":return Gt=kr(Gt,e,t,n,r,a),!0;case"mouseover":return Xt=kr(Xt,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return xr.set(s,kr(xr.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,wr.set(s,kr(wr.get(s)||null,e,t,n,r,a)),!0}return!1}function $s(e){var t=vn(e.target);if(t!==null){var n=yn(t);if(n!==null){if(t=n.tag,t===13){if(t=ks(n),t!==null){e.blockedOn=t,zs(e.priority,function(){Is(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=eo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Bi=r,n.target.dispatchEvent(r),Bi=null}else return t=Ar(n),t!==null&&Xi(t),e.blockedOn=n,!1;t.shift()}return!0}function Os(e,t,n){gl(e)&&n.delete(t)}function bf(){Zi=!1,qt!==null&&gl(qt)&&(qt=null),Gt!==null&&gl(Gt)&&(Gt=null),Xt!==null&&gl(Xt)&&(Xt=null),xr.forEach(Os),wr.forEach(Os)}function Sr(e,t){e.blockedOn===t&&(e.blockedOn=null,Zi||(Zi=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,bf)))}function Er(e){function t(a){return Sr(a,e)}if(0<ml.length){Sr(ml[0],e);for(var n=1;n<ml.length;n++){var r=ml[n];r.blockedOn===e&&(r.blockedOn=null)}}for(qt!==null&&Sr(qt,e),Gt!==null&&Sr(Gt,e),Xt!==null&&Sr(Xt,e),xr.forEach(t),wr.forEach(t),n=0;n<Zt.length;n++)r=Zt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zt.length&&(n=Zt[0],n.blockedOn===null);)$s(n),n.blockedOn===null&&Zt.shift()}var $n=V.ReactCurrentBatchConfig,yl=!0;function Tf(e,t,n,r){var a=we,s=$n.transition;$n.transition=null;try{we=1,Ji(e,t,n,r)}finally{we=a,$n.transition=s}}function jf(e,t,n,r){var a=we,s=$n.transition;$n.transition=null;try{we=4,Ji(e,t,n,r)}finally{we=a,$n.transition=s}}function Ji(e,t,n,r){if(yl){var a=eo(e,t,n,r);if(a===null)vo(e,t,r,vl,n),As(e,r);else if(Nf(a,e,t,n,r))r.stopPropagation();else if(As(e,r),t&4&&-1<Pf.indexOf(e)){for(;a!==null;){var s=Ar(a);if(s!==null&&js(s),s=eo(e,t,n,r),s===null&&vo(e,t,r,vl,n),s===a)break;a=s}a!==null&&r.stopPropagation()}else vo(e,t,r,null,n)}}var vl=null;function eo(e,t,n,r){if(vl=null,e=Ui(r),e=vn(e),e!==null)if(t=yn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ks(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vl=e,null}function Ms(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vf()){case Ki:return 1;case Ps:return 4;case cl:case xf:return 16;case Ns:return 536870912;default:return 16}default:return 16}}var Jt=null,to=null,xl=null;function Ds(){if(xl)return xl;var e,t=to,n=t.length,r,a="value"in Jt?Jt.value:Jt.textContent,s=a.length;for(e=0;e<n&&t[e]===a[e];e++);var f=n-e;for(r=1;r<=f&&t[n-r]===a[s-r];r++);return xl=a.slice(e,1<r?1-r:void 0)}function wl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kl(){return!0}function Fs(){return!1}function dt(e){function t(n,r,a,s,f){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=s,this.target=f,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(n=e[w],this[w]=n?n(s):s[w]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kl:Fs,this.isPropagationStopped=Fs,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kl)},persist:function(){},isPersistent:kl}),t}var On={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},no=dt(On),Cr=L({},On,{view:0,detail:0}),If=dt(Cr),ro,lo,_r,Sl=L({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_r&&(_r&&e.type==="mousemove"?(ro=e.screenX-_r.screenX,lo=e.screenY-_r.screenY):lo=ro=0,_r=e),ro)},movementY:function(e){return"movementY"in e?e.movementY:lo}}),Bs=dt(Sl),Lf=L({},Sl,{dataTransfer:0}),zf=dt(Lf),Af=L({},Cr,{relatedTarget:0}),io=dt(Af),$f=L({},On,{animationName:0,elapsedTime:0,pseudoElement:0}),Of=dt($f),Mf=L({},On,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Df=dt(Mf),Ff=L({},On,{data:0}),Us=dt(Ff),Bf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wf[e])?!!t[e]:!1}function oo(){return Hf}var Vf=L({},Cr,{key:function(e){if(e.key){var t=Bf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Uf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(e){return e.type==="keypress"?wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qf=dt(Vf),Kf=L({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ws=dt(Kf),Yf=L({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),qf=dt(Yf),Gf=L({},On,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xf=dt(Gf),Zf=L({},Sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jf=dt(Zf),ep=[9,13,27,32],ao=h&&"CompositionEvent"in window,Rr=null;h&&"documentMode"in document&&(Rr=document.documentMode);var tp=h&&"TextEvent"in window&&!Rr,Hs=h&&(!ao||Rr&&8<Rr&&11>=Rr),Vs=" ",Qs=!1;function Ks(e,t){switch(e){case"keyup":return ep.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ys(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mn=!1;function np(e,t){switch(e){case"compositionend":return Ys(t);case"keypress":return t.which!==32?null:(Qs=!0,Vs);case"textInput":return e=t.data,e===Vs&&Qs?null:e;default:return null}}function rp(e,t){if(Mn)return e==="compositionend"||!ao&&Ks(e,t)?(e=Ds(),xl=to=Jt=null,Mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hs&&t.locale!=="ko"?null:t.data;default:return null}}var lp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lp[e.type]:t==="textarea"}function Gs(e,t,n,r){gs(r),t=Pl(t,"onChange"),0<t.length&&(n=new no("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pr=null,Nr=null;function ip(e){hu(e,0)}function El(e){var t=Wn(e);if(Ze(t))return e}function op(e,t){if(e==="change")return t}var Xs=!1;if(h){var so;if(h){var uo="oninput"in document;if(!uo){var Zs=document.createElement("div");Zs.setAttribute("oninput","return;"),uo=typeof Zs.oninput=="function"}so=uo}else so=!1;Xs=so&&(!document.documentMode||9<document.documentMode)}function Js(){Pr&&(Pr.detachEvent("onpropertychange",eu),Nr=Pr=null)}function eu(e){if(e.propertyName==="value"&&El(Nr)){var t=[];Gs(t,Nr,e,Ui(e)),ws(ip,t)}}function ap(e,t,n){e==="focusin"?(Js(),Pr=t,Nr=n,Pr.attachEvent("onpropertychange",eu)):e==="focusout"&&Js()}function sp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return El(Nr)}function up(e,t){if(e==="click")return El(t)}function cp(e,t){if(e==="input"||e==="change")return El(t)}function dp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:dp;function br(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!y.call(t,a)||!Et(e[a],t[a]))return!1}return!0}function tu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nu(e,t){var n=tu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tu(n)}}function ru(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ru(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lu(){for(var e=window,t=He();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=He(e.document)}return t}function co(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fp(e){var t=lu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ru(n.ownerDocument.documentElement,n)){if(r!==null&&co(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=r.end===void 0?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=nu(n,s);var f=nu(n,r);a&&f&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pp=h&&"documentMode"in document&&11>=document.documentMode,Dn=null,fo=null,Tr=null,po=!1;function iu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;po||Dn==null||Dn!==He(r)||(r=Dn,"selectionStart"in r&&co(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tr&&br(Tr,r)||(Tr=r,r=Pl(fo,"onSelect"),0<r.length&&(t=new no("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Dn)))}function Cl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fn={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},ho={},ou={};h&&(ou=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function _l(e){if(ho[e])return ho[e];if(!Fn[e])return e;var t=Fn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ou)return ho[e]=t[n];return e}var au=_l("animationend"),su=_l("animationiteration"),uu=_l("animationstart"),cu=_l("transitionend"),du=new Map,fu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(e,t){du.set(e,t),d(t,[e])}for(var mo=0;mo<fu.length;mo++){var go=fu[mo],hp=go.toLowerCase(),mp=go[0].toUpperCase()+go.slice(1);en(hp,"on"+mp)}en(au,"onAnimationEnd"),en(su,"onAnimationIteration"),en(uu,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(cu,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gp=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function pu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,hf(r,t,void 0,e),e.currentTarget=null}function hu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var f=r.length-1;0<=f;f--){var w=r[f],E=w.instance,I=w.currentTarget;if(w=w.listener,E!==s&&a.isPropagationStopped())break e;pu(a,w,I),s=E}else for(f=0;f<r.length;f++){if(w=r[f],E=w.instance,I=w.currentTarget,w=w.listener,E!==s&&a.isPropagationStopped())break e;pu(a,w,I),s=E}}}if(ul)throw e=Qi,ul=!1,Qi=null,e}function Ce(e,t){var n=t[Co];n===void 0&&(n=t[Co]=new Set);var r=e+"__bubble";n.has(r)||(mu(t,e,2,!1),n.add(r))}function yo(e,t,n){var r=0;t&&(r|=4),mu(n,e,r,t)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function Ir(e){if(!e[Rl]){e[Rl]=!0,u.forEach(function(n){n!=="selectionchange"&&(gp.has(n)||yo(n,!1,e),yo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rl]||(t[Rl]=!0,yo("selectionchange",!1,t))}}function mu(e,t,n,r){switch(Ms(t)){case 1:var a=Tf;break;case 4:a=jf;break;default:a=Ji}n=a.bind(null,t,n,e),a=void 0,!Vi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function vo(e,t,n,r,a){var s=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var f=r.tag;if(f===3||f===4){var w=r.stateNode.containerInfo;if(w===a||w.nodeType===8&&w.parentNode===a)break;if(f===4)for(f=r.return;f!==null;){var E=f.tag;if((E===3||E===4)&&(E=f.stateNode.containerInfo,E===a||E.nodeType===8&&E.parentNode===a))return;f=f.return}for(;w!==null;){if(f=vn(w),f===null)return;if(E=f.tag,E===5||E===6){r=s=f;continue e}w=w.parentNode}}r=r.return}ws(function(){var I=s,B=Ui(n),W=[];e:{var F=du.get(e);if(F!==void 0){var K=no,Z=e;switch(e){case"keypress":if(wl(n)===0)break e;case"keydown":case"keyup":K=Qf;break;case"focusin":Z="focus",K=io;break;case"focusout":Z="blur",K=io;break;case"beforeblur":case"afterblur":K=io;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Bs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=qf;break;case au:case su:case uu:K=Of;break;case cu:K=Xf;break;case"scroll":K=If;break;case"wheel":K=Jf;break;case"copy":case"cut":case"paste":K=Df;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Ws}var J=(t&4)!==0,Ae=!J&&e==="scroll",N=J?F!==null?F+"Capture":null:F;J=[];for(var _=I,j;_!==null;){j=_;var H=j.stateNode;if(j.tag===5&&H!==null&&(j=H,N!==null&&(H=hr(_,N),H!=null&&J.push(Lr(_,H,j)))),Ae)break;_=_.return}0<J.length&&(F=new K(F,Z,null,n,B),W.push({event:F,listeners:J}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",F&&n!==Bi&&(Z=n.relatedTarget||n.fromElement)&&(vn(Z)||Z[Ot]))break e;if((K||F)&&(F=B.window===B?B:(F=B.ownerDocument)?F.defaultView||F.parentWindow:window,K?(Z=n.relatedTarget||n.toElement,K=I,Z=Z?vn(Z):null,Z!==null&&(Ae=yn(Z),Z!==Ae||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(K=null,Z=I),K!==Z)){if(J=Bs,H="onMouseLeave",N="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(J=Ws,H="onPointerLeave",N="onPointerEnter",_="pointer"),Ae=K==null?F:Wn(K),j=Z==null?F:Wn(Z),F=new J(H,_+"leave",K,n,B),F.target=Ae,F.relatedTarget=j,H=null,vn(B)===I&&(J=new J(N,_+"enter",Z,n,B),J.target=j,J.relatedTarget=Ae,H=J),Ae=H,K&&Z)t:{for(J=K,N=Z,_=0,j=J;j;j=Bn(j))_++;for(j=0,H=N;H;H=Bn(H))j++;for(;0<_-j;)J=Bn(J),_--;for(;0<j-_;)N=Bn(N),j--;for(;_--;){if(J===N||N!==null&&J===N.alternate)break t;J=Bn(J),N=Bn(N)}J=null}else J=null;K!==null&&gu(W,F,K,J,!1),Z!==null&&Ae!==null&&gu(W,Ae,Z,J,!0)}}e:{if(F=I?Wn(I):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var ee=op;else if(qs(F))if(Xs)ee=cp;else{ee=sp;var re=ap}else(K=F.nodeName)&&K.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(ee=up);if(ee&&(ee=ee(e,I))){Gs(W,ee,n,B);break e}re&&re(e,F,I),e==="focusout"&&(re=F._wrapperState)&&re.controlled&&F.type==="number"&&$i(F,"number",F.value)}switch(re=I?Wn(I):window,e){case"focusin":(qs(re)||re.contentEditable==="true")&&(Dn=re,fo=I,Tr=null);break;case"focusout":Tr=fo=Dn=null;break;case"mousedown":po=!0;break;case"contextmenu":case"mouseup":case"dragend":po=!1,iu(W,n,B);break;case"selectionchange":if(pp)break;case"keydown":case"keyup":iu(W,n,B)}var le;if(ao)e:{switch(e){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else Mn?Ks(e,n)&&(ae="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ae="onCompositionStart");ae&&(Hs&&n.locale!=="ko"&&(Mn||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&Mn&&(le=Ds()):(Jt=B,to="value"in Jt?Jt.value:Jt.textContent,Mn=!0)),re=Pl(I,ae),0<re.length&&(ae=new Us(ae,e,null,n,B),W.push({event:ae,listeners:re}),le?ae.data=le:(le=Ys(n),le!==null&&(ae.data=le)))),(le=tp?np(e,n):rp(e,n))&&(I=Pl(I,"onBeforeInput"),0<I.length&&(B=new Us("onBeforeInput","beforeinput",null,n,B),W.push({event:B,listeners:I}),B.data=le))}hu(W,t)})}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pl(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=hr(e,n),s!=null&&r.unshift(Lr(e,s,a)),s=hr(e,t),s!=null&&r.push(Lr(e,s,a))),e=e.return}return r}function Bn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gu(e,t,n,r,a){for(var s=t._reactName,f=[];n!==null&&n!==r;){var w=n,E=w.alternate,I=w.stateNode;if(E!==null&&E===r)break;w.tag===5&&I!==null&&(w=I,a?(E=hr(n,s),E!=null&&f.unshift(Lr(n,E,w))):a||(E=hr(n,s),E!=null&&f.push(Lr(n,E,w)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var yp=/\r\n?/g,vp=/\u0000|\uFFFD/g;function yu(e){return(typeof e=="string"?e:""+e).replace(yp,`
`).replace(vp,"")}function Nl(e,t,n){if(t=yu(t),yu(e)!==t&&n)throw Error(o(425))}function bl(){}var xo=null,wo=null;function ko(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var So=typeof setTimeout=="function"?setTimeout:void 0,xp=typeof clearTimeout=="function"?clearTimeout:void 0,vu=typeof Promise=="function"?Promise:void 0,wp=typeof queueMicrotask=="function"?queueMicrotask:typeof vu<"u"?function(e){return vu.resolve(null).then(e).catch(kp)}:So;function kp(e){setTimeout(function(){throw e})}function Eo(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),Er(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Er(t)}function tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Un=Math.random().toString(36).slice(2),It="__reactFiber$"+Un,zr="__reactProps$"+Un,Ot="__reactContainer$"+Un,Co="__reactEvents$"+Un,Sp="__reactListeners$"+Un,Ep="__reactHandles$"+Un;function vn(e){var t=e[It];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ot]||n[It]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xu(e);e!==null;){if(n=e[It])return n;e=xu(e)}return t}e=n,n=e.parentNode}return null}function Ar(e){return e=e[It]||e[Ot],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function Tl(e){return e[zr]||null}var _o=[],Hn=-1;function nn(e){return{current:e}}function _e(e){0>Hn||(e.current=_o[Hn],_o[Hn]=null,Hn--)}function Ee(e,t){Hn++,_o[Hn]=e.current,e.current=t}var rn={},Ke=nn(rn),lt=nn(!1),xn=rn;function Vn(e,t){var n=e.type.contextTypes;if(!n)return rn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in n)a[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function it(e){return e=e.childContextTypes,e!=null}function jl(){_e(lt),_e(Ke)}function wu(e,t,n){if(Ke.current!==rn)throw Error(o(168));Ee(Ke,t),Ee(lt,n)}function ku(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(o(108,ne(e)||"Unknown",a));return L({},n,r)}function Il(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rn,xn=Ke.current,Ee(Ke,e),Ee(lt,lt.current),!0}function Su(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ku(e,t,xn),r.__reactInternalMemoizedMergedChildContext=e,_e(lt),_e(Ke),Ee(Ke,e)):_e(lt),Ee(lt,n)}var Mt=null,Ll=!1,Ro=!1;function Eu(e){Mt===null?Mt=[e]:Mt.push(e)}function Cp(e){Ll=!0,Eu(e)}function ln(){if(!Ro&&Mt!==null){Ro=!0;var e=0,t=we;try{var n=Mt;for(we=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Mt=null,Ll=!1}catch(a){throw Mt!==null&&(Mt=Mt.slice(e+1)),_s(Ki,ln),a}finally{we=t,Ro=!1}}return null}var Qn=[],Kn=0,zl=null,Al=0,gt=[],yt=0,wn=null,Dt=1,Ft="";function kn(e,t){Qn[Kn++]=Al,Qn[Kn++]=zl,zl=e,Al=t}function Cu(e,t,n){gt[yt++]=Dt,gt[yt++]=Ft,gt[yt++]=wn,wn=e;var r=Dt;e=Ft;var a=32-St(r)-1;r&=~(1<<a),n+=1;var s=32-St(t)+a;if(30<s){var f=a-a%5;s=(r&(1<<f)-1).toString(32),r>>=f,a-=f,Dt=1<<32-St(t)+a|n<<a|r,Ft=s+e}else Dt=1<<s|n<<a|r,Ft=e}function Po(e){e.return!==null&&(kn(e,1),Cu(e,1,0))}function No(e){for(;e===zl;)zl=Qn[--Kn],Qn[Kn]=null,Al=Qn[--Kn],Qn[Kn]=null;for(;e===wn;)wn=gt[--yt],gt[yt]=null,Ft=gt[--yt],gt[yt]=null,Dt=gt[--yt],gt[yt]=null}var ft=null,pt=null,Pe=!1,Ct=null;function _u(e,t){var n=kt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ru(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ft=e,pt=tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ft=e,pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wn!==null?{id:Dt,overflow:Ft}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ft=e,pt=null,!0):!1;default:return!1}}function bo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function To(e){if(Pe){var t=pt;if(t){var n=t;if(!Ru(e,t)){if(bo(e))throw Error(o(418));t=tn(n.nextSibling);var r=ft;t&&Ru(e,t)?_u(r,n):(e.flags=e.flags&-4097|2,Pe=!1,ft=e)}}else{if(bo(e))throw Error(o(418));e.flags=e.flags&-4097|2,Pe=!1,ft=e}}}function Pu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function $l(e){if(e!==ft)return!1;if(!Pe)return Pu(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ko(e.type,e.memoizedProps)),t&&(t=pt)){if(bo(e))throw Nu(),Error(o(418));for(;t;)_u(e,t),t=tn(t.nextSibling)}if(Pu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pt=tn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pt=null}}else pt=ft?tn(e.stateNode.nextSibling):null;return!0}function Nu(){for(var e=pt;e;)e=tn(e.nextSibling)}function Yn(){pt=ft=null,Pe=!1}function jo(e){Ct===null?Ct=[e]:Ct.push(e)}var _p=V.ReactCurrentBatchConfig;function $r(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(f){var w=a.refs;f===null?delete w[s]:w[s]=f},t._stringRef=s,t)}if(typeof e!="string")throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ol(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bu(e){var t=e._init;return t(e._payload)}function Tu(e){function t(N,_){if(e){var j=N.deletions;j===null?(N.deletions=[_],N.flags|=16):j.push(_)}}function n(N,_){if(!e)return null;for(;_!==null;)t(N,_),_=_.sibling;return null}function r(N,_){for(N=new Map;_!==null;)_.key!==null?N.set(_.key,_):N.set(_.index,_),_=_.sibling;return N}function a(N,_){return N=pn(N,_),N.index=0,N.sibling=null,N}function s(N,_,j){return N.index=j,e?(j=N.alternate,j!==null?(j=j.index,j<_?(N.flags|=2,_):j):(N.flags|=2,_)):(N.flags|=1048576,_)}function f(N){return e&&N.alternate===null&&(N.flags|=2),N}function w(N,_,j,H){return _===null||_.tag!==6?(_=Sa(j,N.mode,H),_.return=N,_):(_=a(_,j),_.return=N,_)}function E(N,_,j,H){var ee=j.type;return ee===ie?B(N,_,j.props.children,H,j.key):_!==null&&(_.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ge&&bu(ee)===_.type)?(H=a(_,j.props),H.ref=$r(N,_,j),H.return=N,H):(H=ai(j.type,j.key,j.props,null,N.mode,H),H.ref=$r(N,_,j),H.return=N,H)}function I(N,_,j,H){return _===null||_.tag!==4||_.stateNode.containerInfo!==j.containerInfo||_.stateNode.implementation!==j.implementation?(_=Ea(j,N.mode,H),_.return=N,_):(_=a(_,j.children||[]),_.return=N,_)}function B(N,_,j,H,ee){return _===null||_.tag!==7?(_=bn(j,N.mode,H,ee),_.return=N,_):(_=a(_,j),_.return=N,_)}function W(N,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Sa(""+_,N.mode,j),_.return=N,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Q:return j=ai(_.type,_.key,_.props,null,N.mode,j),j.ref=$r(N,null,_),j.return=N,j;case te:return _=Ea(_,N.mode,j),_.return=N,_;case ge:var H=_._init;return W(N,H(_._payload),j)}if(dr(_)||O(_))return _=bn(_,N.mode,j,null),_.return=N,_;Ol(N,_)}return null}function F(N,_,j,H){var ee=_!==null?_.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return ee!==null?null:w(N,_,""+j,H);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Q:return j.key===ee?E(N,_,j,H):null;case te:return j.key===ee?I(N,_,j,H):null;case ge:return ee=j._init,F(N,_,ee(j._payload),H)}if(dr(j)||O(j))return ee!==null?null:B(N,_,j,H,null);Ol(N,j)}return null}function K(N,_,j,H,ee){if(typeof H=="string"&&H!==""||typeof H=="number")return N=N.get(j)||null,w(_,N,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Q:return N=N.get(H.key===null?j:H.key)||null,E(_,N,H,ee);case te:return N=N.get(H.key===null?j:H.key)||null,I(_,N,H,ee);case ge:var re=H._init;return K(N,_,j,re(H._payload),ee)}if(dr(H)||O(H))return N=N.get(j)||null,B(_,N,H,ee,null);Ol(_,H)}return null}function Z(N,_,j,H){for(var ee=null,re=null,le=_,ae=_=0,We=null;le!==null&&ae<j.length;ae++){le.index>ae?(We=le,le=null):We=le.sibling;var ye=F(N,le,j[ae],H);if(ye===null){le===null&&(le=We);break}e&&le&&ye.alternate===null&&t(N,le),_=s(ye,_,ae),re===null?ee=ye:re.sibling=ye,re=ye,le=We}if(ae===j.length)return n(N,le),Pe&&kn(N,ae),ee;if(le===null){for(;ae<j.length;ae++)le=W(N,j[ae],H),le!==null&&(_=s(le,_,ae),re===null?ee=le:re.sibling=le,re=le);return Pe&&kn(N,ae),ee}for(le=r(N,le);ae<j.length;ae++)We=K(le,N,ae,j[ae],H),We!==null&&(e&&We.alternate!==null&&le.delete(We.key===null?ae:We.key),_=s(We,_,ae),re===null?ee=We:re.sibling=We,re=We);return e&&le.forEach(function(hn){return t(N,hn)}),Pe&&kn(N,ae),ee}function J(N,_,j,H){var ee=O(j);if(typeof ee!="function")throw Error(o(150));if(j=ee.call(j),j==null)throw Error(o(151));for(var re=ee=null,le=_,ae=_=0,We=null,ye=j.next();le!==null&&!ye.done;ae++,ye=j.next()){le.index>ae?(We=le,le=null):We=le.sibling;var hn=F(N,le,ye.value,H);if(hn===null){le===null&&(le=We);break}e&&le&&hn.alternate===null&&t(N,le),_=s(hn,_,ae),re===null?ee=hn:re.sibling=hn,re=hn,le=We}if(ye.done)return n(N,le),Pe&&kn(N,ae),ee;if(le===null){for(;!ye.done;ae++,ye=j.next())ye=W(N,ye.value,H),ye!==null&&(_=s(ye,_,ae),re===null?ee=ye:re.sibling=ye,re=ye);return Pe&&kn(N,ae),ee}for(le=r(N,le);!ye.done;ae++,ye=j.next())ye=K(le,N,ae,ye.value,H),ye!==null&&(e&&ye.alternate!==null&&le.delete(ye.key===null?ae:ye.key),_=s(ye,_,ae),re===null?ee=ye:re.sibling=ye,re=ye);return e&&le.forEach(function(lh){return t(N,lh)}),Pe&&kn(N,ae),ee}function Ae(N,_,j,H){if(typeof j=="object"&&j!==null&&j.type===ie&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Q:e:{for(var ee=j.key,re=_;re!==null;){if(re.key===ee){if(ee=j.type,ee===ie){if(re.tag===7){n(N,re.sibling),_=a(re,j.props.children),_.return=N,N=_;break e}}else if(re.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ge&&bu(ee)===re.type){n(N,re.sibling),_=a(re,j.props),_.ref=$r(N,re,j),_.return=N,N=_;break e}n(N,re);break}else t(N,re);re=re.sibling}j.type===ie?(_=bn(j.props.children,N.mode,H,j.key),_.return=N,N=_):(H=ai(j.type,j.key,j.props,null,N.mode,H),H.ref=$r(N,_,j),H.return=N,N=H)}return f(N);case te:e:{for(re=j.key;_!==null;){if(_.key===re)if(_.tag===4&&_.stateNode.containerInfo===j.containerInfo&&_.stateNode.implementation===j.implementation){n(N,_.sibling),_=a(_,j.children||[]),_.return=N,N=_;break e}else{n(N,_);break}else t(N,_);_=_.sibling}_=Ea(j,N.mode,H),_.return=N,N=_}return f(N);case ge:return re=j._init,Ae(N,_,re(j._payload),H)}if(dr(j))return Z(N,_,j,H);if(O(j))return J(N,_,j,H);Ol(N,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,_!==null&&_.tag===6?(n(N,_.sibling),_=a(_,j),_.return=N,N=_):(n(N,_),_=Sa(j,N.mode,H),_.return=N,N=_),f(N)):n(N,_)}return Ae}var qn=Tu(!0),ju=Tu(!1),Ml=nn(null),Dl=null,Gn=null,Io=null;function Lo(){Io=Gn=Dl=null}function zo(e){var t=Ml.current;_e(Ml),e._currentValue=t}function Ao(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xn(e,t){Dl=e,Io=Gn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ot=!0),e.firstContext=null)}function vt(e){var t=e._currentValue;if(Io!==e)if(e={context:e,memoizedValue:t,next:null},Gn===null){if(Dl===null)throw Error(o(308));Gn=e,Dl.dependencies={lanes:0,firstContext:e}}else Gn=Gn.next=e;return t}var Sn=null;function $o(e){Sn===null?Sn=[e]:Sn.push(e)}function Iu(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,$o(t)):(n.next=a.next,a.next=n),t.interleaved=n,Bt(e,r)}function Bt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var on=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ut(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function an(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(he&2)!==0){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Bt(e,n)}return a=r.interleaved,a===null?(t.next=t,$o(r)):(t.next=a.next,a.next=t),r.interleaved=t,Bt(e,n)}function Fl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gi(e,n)}}function zu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var f={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?a=s=f:s=s.next=f,n=n.next}while(n!==null);s===null?a=s=t:s=s.next=t}else a=s=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bl(e,t,n,r){var a=e.updateQueue;on=!1;var s=a.firstBaseUpdate,f=a.lastBaseUpdate,w=a.shared.pending;if(w!==null){a.shared.pending=null;var E=w,I=E.next;E.next=null,f===null?s=I:f.next=I,f=E;var B=e.alternate;B!==null&&(B=B.updateQueue,w=B.lastBaseUpdate,w!==f&&(w===null?B.firstBaseUpdate=I:w.next=I,B.lastBaseUpdate=E))}if(s!==null){var W=a.baseState;f=0,B=I=E=null,w=s;do{var F=w.lane,K=w.eventTime;if((r&F)===F){B!==null&&(B=B.next={eventTime:K,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var Z=e,J=w;switch(F=t,K=n,J.tag){case 1:if(Z=J.payload,typeof Z=="function"){W=Z.call(K,W,F);break e}W=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=J.payload,F=typeof Z=="function"?Z.call(K,W,F):Z,F==null)break e;W=L({},W,F);break e;case 2:on=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,F=a.effects,F===null?a.effects=[w]:F.push(w))}else K={eventTime:K,lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},B===null?(I=B=K,E=W):B=B.next=K,f|=F;if(w=w.next,w===null){if(w=a.shared.pending,w===null)break;F=w,w=F.next,F.next=null,a.lastBaseUpdate=F,a.shared.pending=null}}while(!0);if(B===null&&(E=W),a.baseState=E,a.firstBaseUpdate=I,a.lastBaseUpdate=B,t=a.shared.interleaved,t!==null){a=t;do f|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);_n|=f,e.lanes=f,e.memoizedState=W}}function Au(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(o(191,a));a.call(r)}}}var Or={},Lt=nn(Or),Mr=nn(Or),Dr=nn(Or);function En(e){if(e===Or)throw Error(o(174));return e}function Mo(e,t){switch(Ee(Dr,t),Ee(Mr,e),Ee(Lt,Or),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mi(t,e)}_e(Lt),Ee(Lt,t)}function Zn(){_e(Lt),_e(Mr),_e(Dr)}function $u(e){En(Dr.current);var t=En(Lt.current),n=Mi(t,e.type);t!==n&&(Ee(Mr,e),Ee(Lt,n))}function Do(e){Mr.current===e&&(_e(Lt),_e(Mr))}var be=nn(0);function Ul(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fo=[];function Bo(){for(var e=0;e<Fo.length;e++)Fo[e]._workInProgressVersionPrimary=null;Fo.length=0}var Wl=V.ReactCurrentDispatcher,Uo=V.ReactCurrentBatchConfig,Cn=0,Te=null,Me=null,Be=null,Hl=!1,Fr=!1,Br=0,Rp=0;function Ye(){throw Error(o(321))}function Wo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Et(e[n],t[n]))return!1;return!0}function Ho(e,t,n,r,a,s){if(Cn=s,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wl.current=e===null||e.memoizedState===null?Tp:jp,e=n(r,a),Fr){s=0;do{if(Fr=!1,Br=0,25<=s)throw Error(o(301));s+=1,Be=Me=null,t.updateQueue=null,Wl.current=Ip,e=n(r,a)}while(Fr)}if(Wl.current=Kl,t=Me!==null&&Me.next!==null,Cn=0,Be=Me=Te=null,Hl=!1,t)throw Error(o(300));return e}function Vo(){var e=Br!==0;return Br=0,e}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Te.memoizedState=Be=e:Be=Be.next=e,Be}function xt(){if(Me===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=Be===null?Te.memoizedState:Be.next;if(t!==null)Be=t,Me=e;else{if(e===null)throw Error(o(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Be===null?Te.memoizedState=Be=e:Be=Be.next=e}return Be}function Ur(e,t){return typeof t=="function"?t(e):t}function Qo(e){var t=xt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var r=Me,a=r.baseQueue,s=n.pending;if(s!==null){if(a!==null){var f=a.next;a.next=s.next,s.next=f}r.baseQueue=a=s,n.pending=null}if(a!==null){s=a.next,r=r.baseState;var w=f=null,E=null,I=s;do{var B=I.lane;if((Cn&B)===B)E!==null&&(E=E.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),r=I.hasEagerState?I.eagerState:e(r,I.action);else{var W={lane:B,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};E===null?(w=E=W,f=r):E=E.next=W,Te.lanes|=B,_n|=B}I=I.next}while(I!==null&&I!==s);E===null?f=r:E.next=w,Et(r,t.memoizedState)||(ot=!0),t.memoizedState=r,t.baseState=f,t.baseQueue=E,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do s=a.lane,Te.lanes|=s,_n|=s,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ko(e){var t=xt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(a!==null){n.pending=null;var f=a=a.next;do s=e(s,f.action),f=f.next;while(f!==a);Et(s,t.memoizedState)||(ot=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ou(){}function Mu(e,t){var n=Te,r=xt(),a=t(),s=!Et(r.memoizedState,a);if(s&&(r.memoizedState=a,ot=!0),r=r.queue,Yo(Bu.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,Wr(9,Fu.bind(null,n,r,a,t),void 0,null),Ue===null)throw Error(o(349));(Cn&30)!==0||Du(n,t,a)}return a}function Du(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Fu(e,t,n,r){t.value=n,t.getSnapshot=r,Uu(t)&&Wu(e)}function Bu(e,t,n){return n(function(){Uu(t)&&Wu(e)})}function Uu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Et(e,n)}catch{return!0}}function Wu(e){var t=Bt(e,1);t!==null&&Nt(t,e,1,-1)}function Hu(e){var t=zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:e},t.queue=e,e=e.dispatch=bp.bind(null,Te,e),[t.memoizedState,e]}function Wr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Vu(){return xt().memoizedState}function Vl(e,t,n,r){var a=zt();Te.flags|=e,a.memoizedState=Wr(1|t,n,void 0,r===void 0?null:r)}function Ql(e,t,n,r){var a=xt();r=r===void 0?null:r;var s=void 0;if(Me!==null){var f=Me.memoizedState;if(s=f.destroy,r!==null&&Wo(r,f.deps)){a.memoizedState=Wr(t,n,s,r);return}}Te.flags|=e,a.memoizedState=Wr(1|t,n,s,r)}function Qu(e,t){return Vl(8390656,8,e,t)}function Yo(e,t){return Ql(2048,8,e,t)}function Ku(e,t){return Ql(4,2,e,t)}function Yu(e,t){return Ql(4,4,e,t)}function qu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gu(e,t,n){return n=n!=null?n.concat([e]):null,Ql(4,4,qu.bind(null,t,e),n)}function qo(){}function Xu(e,t){var n=xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zu(e,t){var n=xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ju(e,t,n){return(Cn&21)===0?(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=n):(Et(n,t)||(n=bs(),Te.lanes|=n,_n|=n,e.baseState=!0),t)}function Pp(e,t){var n=we;we=n!==0&&4>n?n:4,e(!0);var r=Uo.transition;Uo.transition={};try{e(!1),t()}finally{we=n,Uo.transition=r}}function ec(){return xt().memoizedState}function Np(e,t,n){var r=dn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tc(e))nc(t,n);else if(n=Iu(e,t,n,r),n!==null){var a=et();Nt(n,e,r,a),rc(n,t,r)}}function bp(e,t,n){var r=dn(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tc(e))nc(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var f=t.lastRenderedState,w=s(f,n);if(a.hasEagerState=!0,a.eagerState=w,Et(w,f)){var E=t.interleaved;E===null?(a.next=a,$o(t)):(a.next=E.next,E.next=a),t.interleaved=a;return}}catch{}finally{}n=Iu(e,t,a,r),n!==null&&(a=et(),Nt(n,e,r,a),rc(n,t,r))}}function tc(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function nc(e,t){Fr=Hl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rc(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gi(e,n)}}var Kl={readContext:vt,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},Tp={readContext:vt,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:Qu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Vl(4194308,4,qu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vl(4,2,e,t)},useMemo:function(e,t){var n=zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Np.bind(null,Te,e),[r.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:Hu,useDebugValue:qo,useDeferredValue:function(e){return zt().memoizedState=e},useTransition:function(){var e=Hu(!1),t=e[0];return e=Pp.bind(null,e[1]),zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Te,a=zt();if(Pe){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Ue===null)throw Error(o(349));(Cn&30)!==0||Du(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Qu(Bu.bind(null,r,s,e),[e]),r.flags|=2048,Wr(9,Fu.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=zt(),t=Ue.identifierPrefix;if(Pe){var n=Ft,r=Dt;n=(r&~(1<<32-St(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Br++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Rp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jp={readContext:vt,useCallback:Xu,useContext:vt,useEffect:Yo,useImperativeHandle:Gu,useInsertionEffect:Ku,useLayoutEffect:Yu,useMemo:Zu,useReducer:Qo,useRef:Vu,useState:function(){return Qo(Ur)},useDebugValue:qo,useDeferredValue:function(e){var t=xt();return Ju(t,Me.memoizedState,e)},useTransition:function(){var e=Qo(Ur)[0],t=xt().memoizedState;return[e,t]},useMutableSource:Ou,useSyncExternalStore:Mu,useId:ec,unstable_isNewReconciler:!1},Ip={readContext:vt,useCallback:Xu,useContext:vt,useEffect:Yo,useImperativeHandle:Gu,useInsertionEffect:Ku,useLayoutEffect:Yu,useMemo:Zu,useReducer:Ko,useRef:Vu,useState:function(){return Ko(Ur)},useDebugValue:qo,useDeferredValue:function(e){var t=xt();return Me===null?t.memoizedState=e:Ju(t,Me.memoizedState,e)},useTransition:function(){var e=Ko(Ur)[0],t=xt().memoizedState;return[e,t]},useMutableSource:Ou,useSyncExternalStore:Mu,useId:ec,unstable_isNewReconciler:!1};function _t(e,t){if(e&&e.defaultProps){t=L({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Go(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:L({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yl={isMounted:function(e){return(e=e._reactInternals)?yn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=et(),a=dn(e),s=Ut(r,a);s.payload=t,n!=null&&(s.callback=n),t=an(e,s,a),t!==null&&(Nt(t,e,a,r),Fl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=et(),a=dn(e),s=Ut(r,a);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=an(e,s,a),t!==null&&(Nt(t,e,a,r),Fl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=et(),r=dn(e),a=Ut(n,r);a.tag=2,t!=null&&(a.callback=t),t=an(e,a,r),t!==null&&(Nt(t,e,r,n),Fl(t,e,r))}};function lc(e,t,n,r,a,s,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,f):t.prototype&&t.prototype.isPureReactComponent?!br(n,r)||!br(a,s):!0}function ic(e,t,n){var r=!1,a=rn,s=t.contextType;return typeof s=="object"&&s!==null?s=vt(s):(a=it(t)?xn:Ke.current,r=t.contextTypes,s=(r=r!=null)?Vn(e,a):rn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function oc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Yl.enqueueReplaceState(t,t.state,null)}function Xo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Oo(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=vt(s):(s=it(t)?xn:Ke.current,a.context=Vn(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Go(e,t,s,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Yl.enqueueReplaceState(a,a.state,null),Bl(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Jn(e,t){try{var n="",r=t;do n+=X(r),r=r.return;while(r);var a=n}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Zo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Jo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Lp=typeof WeakMap=="function"?WeakMap:Map;function ac(e,t,n){n=Ut(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ti||(ti=!0,ha=r),Jo(e,t)},n}function sc(e,t,n){n=Ut(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Jo(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Jo(e,t),typeof r!="function"&&(un===null?un=new Set([this]):un.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),n}function uc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Lp;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Kp.bind(null,e,t,n),t.then(e,e))}function cc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dc(e,t,n,r,a){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ut(-1,1),t.tag=2,an(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var zp=V.ReactCurrentOwner,ot=!1;function Je(e,t,n,r){t.child=e===null?ju(t,null,n,r):qn(t,e.child,n,r)}function fc(e,t,n,r,a){n=n.render;var s=t.ref;return Xn(t,a),r=Ho(e,t,n,r,s,a),n=Vo(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wt(e,t,a)):(Pe&&n&&Po(t),t.flags|=1,Je(e,t,r,a),t.child)}function pc(e,t,n,r,a){if(e===null){var s=n.type;return typeof s=="function"&&!ka(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,hc(e,t,s,r,a)):(e=ai(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,(e.lanes&a)===0){var f=s.memoizedProps;if(n=n.compare,n=n!==null?n:br,n(f,r)&&e.ref===t.ref)return Wt(e,t,a)}return t.flags|=1,e=pn(s,r),e.ref=t.ref,e.return=t,t.child=e}function hc(e,t,n,r,a){if(e!==null){var s=e.memoizedProps;if(br(s,r)&&e.ref===t.ref)if(ot=!1,t.pendingProps=r=s,(e.lanes&a)!==0)(e.flags&131072)!==0&&(ot=!0);else return t.lanes=e.lanes,Wt(e,t,a)}return ea(e,t,n,r,a)}function mc(e,t,n){var r=t.pendingProps,a=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(tr,ht),ht|=n;else{if((n&1073741824)===0)return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(tr,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ee(tr,ht),ht|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ee(tr,ht),ht|=r;return Je(e,t,a,n),t.child}function gc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ea(e,t,n,r,a){var s=it(n)?xn:Ke.current;return s=Vn(t,s),Xn(t,a),n=Ho(e,t,n,r,s,a),r=Vo(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wt(e,t,a)):(Pe&&r&&Po(t),t.flags|=1,Je(e,t,n,a),t.child)}function yc(e,t,n,r,a){if(it(n)){var s=!0;Il(t)}else s=!1;if(Xn(t,a),t.stateNode===null)Gl(e,t),ic(t,n,r),Xo(t,n,r,a),r=!0;else if(e===null){var f=t.stateNode,w=t.memoizedProps;f.props=w;var E=f.context,I=n.contextType;typeof I=="object"&&I!==null?I=vt(I):(I=it(n)?xn:Ke.current,I=Vn(t,I));var B=n.getDerivedStateFromProps,W=typeof B=="function"||typeof f.getSnapshotBeforeUpdate=="function";W||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w!==r||E!==I)&&oc(t,f,r,I),on=!1;var F=t.memoizedState;f.state=F,Bl(t,r,f,a),E=t.memoizedState,w!==r||F!==E||lt.current||on?(typeof B=="function"&&(Go(t,n,B,r),E=t.memoizedState),(w=on||lc(t,n,w,r,F,E,I))?(W||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=E),f.props=r,f.state=E,f.context=I,r=w):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{f=t.stateNode,Lu(e,t),w=t.memoizedProps,I=t.type===t.elementType?w:_t(t.type,w),f.props=I,W=t.pendingProps,F=f.context,E=n.contextType,typeof E=="object"&&E!==null?E=vt(E):(E=it(n)?xn:Ke.current,E=Vn(t,E));var K=n.getDerivedStateFromProps;(B=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w!==W||F!==E)&&oc(t,f,r,E),on=!1,F=t.memoizedState,f.state=F,Bl(t,r,f,a);var Z=t.memoizedState;w!==W||F!==Z||lt.current||on?(typeof K=="function"&&(Go(t,n,K,r),Z=t.memoizedState),(I=on||lc(t,n,I,r,F,Z,E)||!1)?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,Z,E),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,Z,E)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||w===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=Z),f.props=r,f.state=Z,f.context=E,r=I):(typeof f.componentDidUpdate!="function"||w===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),r=!1)}return ta(e,t,n,r,s,a)}function ta(e,t,n,r,a,s){gc(e,t);var f=(t.flags&128)!==0;if(!r&&!f)return a&&Su(t,n,!1),Wt(e,t,s);r=t.stateNode,zp.current=t;var w=f&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&f?(t.child=qn(t,e.child,null,s),t.child=qn(t,null,w,s)):Je(e,t,w,s),t.memoizedState=r.state,a&&Su(t,n,!0),t.child}function vc(e){var t=e.stateNode;t.pendingContext?wu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wu(e,t.context,!1),Mo(e,t.containerInfo)}function xc(e,t,n,r,a){return Yn(),jo(a),t.flags|=256,Je(e,t,n,r),t.child}var na={dehydrated:null,treeContext:null,retryLane:0};function ra(e){return{baseLanes:e,cachePool:null,transitions:null}}function wc(e,t,n){var r=t.pendingProps,a=be.current,s=!1,f=(t.flags&128)!==0,w;if((w=f)||(w=e!==null&&e.memoizedState===null?!1:(a&2)!==0),w?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ee(be,a&1),e===null)return To(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(f=r.children,e=r.fallback,s?(r=t.mode,s=t.child,f={mode:"hidden",children:f},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=f):s=si(f,r,0,null),e=bn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ra(n),t.memoizedState=na,e):la(t,f));if(a=e.memoizedState,a!==null&&(w=a.dehydrated,w!==null))return Ap(e,t,f,r,w,a,n);if(s){s=r.fallback,f=t.mode,a=e.child,w=a.sibling;var E={mode:"hidden",children:r.children};return(f&1)===0&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=E,t.deletions=null):(r=pn(a,E),r.subtreeFlags=a.subtreeFlags&14680064),w!==null?s=pn(w,s):(s=bn(s,f,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,f=e.child.memoizedState,f=f===null?ra(n):{baseLanes:f.baseLanes|n,cachePool:null,transitions:f.transitions},s.memoizedState=f,s.childLanes=e.childLanes&~n,t.memoizedState=na,r}return s=e.child,e=s.sibling,r=pn(s,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function la(e,t){return t=si({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ql(e,t,n,r){return r!==null&&jo(r),qn(t,e.child,null,n),e=la(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ap(e,t,n,r,a,s,f){if(n)return t.flags&256?(t.flags&=-257,r=Zo(Error(o(422))),ql(e,t,f,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=si({mode:"visible",children:r.children},a,0,null),s=bn(s,a,f,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,(t.mode&1)!==0&&qn(t,e.child,null,f),t.child.memoizedState=ra(f),t.memoizedState=na,s);if((t.mode&1)===0)return ql(e,t,f,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var w=r.dgst;return r=w,s=Error(o(419)),r=Zo(s,r,void 0),ql(e,t,f,r)}if(w=(f&e.childLanes)!==0,ot||w){if(r=Ue,r!==null){switch(f&-f){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=(a&(r.suspendedLanes|f))!==0?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Bt(e,a),Nt(r,e,a,-1))}return wa(),r=Zo(Error(o(421))),ql(e,t,f,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Yp.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,pt=tn(a.nextSibling),ft=t,Pe=!0,Ct=null,e!==null&&(gt[yt++]=Dt,gt[yt++]=Ft,gt[yt++]=wn,Dt=e.id,Ft=e.overflow,wn=t),t=la(t,r.children),t.flags|=4096,t)}function kc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ao(e.return,t,n)}function ia(e,t,n,r,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Sc(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(Je(e,t,r.children,n),r=be.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kc(e,n,t);else if(e.tag===19)kc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ee(be,r),(t.mode&1)===0)t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Ul(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ia(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ul(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ia(t,!0,n,null,s);break;case"together":ia(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gl(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_n|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $p(e,t,n){switch(t.tag){case 3:vc(t),Yn();break;case 5:$u(t);break;case 1:it(t.type)&&Il(t);break;case 4:Mo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ee(Ml,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ee(be,be.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?wc(e,t,n):(Ee(be,be.current&1),e=Wt(e,t,n),e!==null?e.sibling:null);Ee(be,be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return Sc(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ee(be,be.current),r)break;return null;case 22:case 23:return t.lanes=0,mc(e,t,n)}return Wt(e,t,n)}var Ec,oa,Cc,_c;Ec=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},oa=function(){},Cc=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,En(Lt.current);var s=null;switch(n){case"input":a=nt(e,a),r=nt(e,r),s=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":a=Oi(e,a),r=Oi(e,r),s=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bl)}Di(n,r);var f;n=null;for(I in a)if(!r.hasOwnProperty(I)&&a.hasOwnProperty(I)&&a[I]!=null)if(I==="style"){var w=a[I];for(f in w)w.hasOwnProperty(f)&&(n||(n={}),n[f]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(c.hasOwnProperty(I)?s||(s=[]):(s=s||[]).push(I,null));for(I in r){var E=r[I];if(w=a!=null?a[I]:void 0,r.hasOwnProperty(I)&&E!==w&&(E!=null||w!=null))if(I==="style")if(w){for(f in w)!w.hasOwnProperty(f)||E&&E.hasOwnProperty(f)||(n||(n={}),n[f]="");for(f in E)E.hasOwnProperty(f)&&w[f]!==E[f]&&(n||(n={}),n[f]=E[f])}else n||(s||(s=[]),s.push(I,n)),n=E;else I==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,w=w?w.__html:void 0,E!=null&&w!==E&&(s=s||[]).push(I,E)):I==="children"?typeof E!="string"&&typeof E!="number"||(s=s||[]).push(I,""+E):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(c.hasOwnProperty(I)?(E!=null&&I==="onScroll"&&Ce("scroll",e),s||w===E||(s=[])):(s=s||[]).push(I,E))}n&&(s=s||[]).push("style",n);var I=s;(t.updateQueue=I)&&(t.flags|=4)}},_c=function(e,t,n,r){n!==r&&(t.flags|=4)};function Hr(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Op(e,t,n){var r=t.pendingProps;switch(No(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return it(t.type)&&jl(),qe(t),null;case 3:return r=t.stateNode,Zn(),_e(lt),_e(Ke),Bo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($l(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ct!==null&&(ya(Ct),Ct=null))),oa(e,t),qe(t),null;case 5:Do(t);var a=En(Dr.current);if(n=t.type,e!==null&&t.stateNode!=null)Cc(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(o(166));return qe(t),null}if(e=En(Lt.current),$l(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[It]=t,r[zr]=s,e=(t.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(a=0;a<jr.length;a++)Ce(jr[a],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":rt(r,s),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ce("invalid",r);break;case"textarea":ss(r,s),Ce("invalid",r)}Di(n,s),a=null;for(var f in s)if(s.hasOwnProperty(f)){var w=s[f];f==="children"?typeof w=="string"?r.textContent!==w&&(s.suppressHydrationWarning!==!0&&Nl(r.textContent,w,e),a=["children",w]):typeof w=="number"&&r.textContent!==""+w&&(s.suppressHydrationWarning!==!0&&Nl(r.textContent,w,e),a=["children",""+w]):c.hasOwnProperty(f)&&w!=null&&f==="onScroll"&&Ce("scroll",r)}switch(n){case"input":ct(r),as(r,s,!0);break;case"textarea":ct(r),cs(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=bl)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{f=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ds(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=f.createElement(n,{is:r.is}):(e=f.createElement(n),n==="select"&&(f=e,r.multiple?f.multiple=!0:r.size&&(f.size=r.size))):e=f.createElementNS(e,n),e[It]=t,e[zr]=r,Ec(e,t,!1,!1),t.stateNode=e;e:{switch(f=Fi(n,r),n){case"dialog":Ce("cancel",e),Ce("close",e),a=r;break;case"iframe":case"object":case"embed":Ce("load",e),a=r;break;case"video":case"audio":for(a=0;a<jr.length;a++)Ce(jr[a],e);a=r;break;case"source":Ce("error",e),a=r;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),a=r;break;case"details":Ce("toggle",e),a=r;break;case"input":rt(e,r),a=nt(e,r),Ce("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),Ce("invalid",e);break;case"textarea":ss(e,r),a=Oi(e,r),Ce("invalid",e);break;default:a=r}Di(n,a),w=a;for(s in w)if(w.hasOwnProperty(s)){var E=w[s];s==="style"?hs(e,E):s==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&fs(e,E)):s==="children"?typeof E=="string"?(n!=="textarea"||E!=="")&&fr(e,E):typeof E=="number"&&fr(e,""+E):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(c.hasOwnProperty(s)?E!=null&&s==="onScroll"&&Ce("scroll",e):E!=null&&A(e,s,E,f))}switch(n){case"input":ct(e),as(e,r,!1);break;case"textarea":ct(e),cs(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ue(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ln(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ln(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=bl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qe(t),null;case 6:if(e&&t.stateNode!=null)_c(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(o(166));if(n=En(Dr.current),En(Lt.current),$l(t)){if(r=t.stateNode,n=t.memoizedProps,r[It]=t,(s=r.nodeValue!==n)&&(e=ft,e!==null))switch(e.tag){case 3:Nl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Nl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[It]=t,t.stateNode=r}return qe(t),null;case 13:if(_e(be),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&pt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Nu(),Yn(),t.flags|=98560,s=!1;else if(s=$l(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(o(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(o(317));s[It]=t}else Yn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),s=!1}else Ct!==null&&(ya(Ct),Ct=null),s=!0;if(!s)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(be.current&1)!==0?De===0&&(De=3):wa())),t.updateQueue!==null&&(t.flags|=4),qe(t),null);case 4:return Zn(),oa(e,t),e===null&&Ir(t.stateNode.containerInfo),qe(t),null;case 10:return zo(t.type._context),qe(t),null;case 17:return it(t.type)&&jl(),qe(t),null;case 19:if(_e(be),s=t.memoizedState,s===null)return qe(t),null;if(r=(t.flags&128)!==0,f=s.rendering,f===null)if(r)Hr(s,!1);else{if(De!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Ul(e),f!==null){for(t.flags|=128,Hr(s,!1),r=f.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,f=s.alternate,f===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=f.childLanes,s.lanes=f.lanes,s.child=f.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=f.memoizedProps,s.memoizedState=f.memoizedState,s.updateQueue=f.updateQueue,s.type=f.type,e=f.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ee(be,be.current&1|2),t.child}e=e.sibling}s.tail!==null&&ze()>nr&&(t.flags|=128,r=!0,Hr(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ul(f),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!f.alternate&&!Pe)return qe(t),null}else 2*ze()-s.renderingStartTime>nr&&n!==1073741824&&(t.flags|=128,r=!0,Hr(s,!1),t.lanes=4194304);s.isBackwards?(f.sibling=t.child,t.child=f):(n=s.last,n!==null?n.sibling=f:t.child=f,s.last=f)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ze(),t.sibling=null,n=be.current,Ee(be,r?n&1|2:n&1),t):(qe(t),null);case 22:case 23:return xa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(ht&1073741824)!==0&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function Mp(e,t){switch(No(t),t.tag){case 1:return it(t.type)&&jl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zn(),_e(lt),_e(Ke),Bo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Do(t),null;case 13:if(_e(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Yn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(be),null;case 4:return Zn(),null;case 10:return zo(t.type._context),null;case 22:case 23:return xa(),null;case 24:return null;default:return null}}var Xl=!1,Ge=!1,Dp=typeof WeakSet=="function"?WeakSet:Set,G=null;function er(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Le(e,t,r)}else n.current=null}function aa(e,t,n){try{n()}catch(r){Le(e,t,r)}}var Rc=!1;function Fp(e,t){if(xo=yl,e=lu(),co(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var f=0,w=-1,E=-1,I=0,B=0,W=e,F=null;t:for(;;){for(var K;W!==n||a!==0&&W.nodeType!==3||(w=f+a),W!==s||r!==0&&W.nodeType!==3||(E=f+r),W.nodeType===3&&(f+=W.nodeValue.length),(K=W.firstChild)!==null;)F=W,W=K;for(;;){if(W===e)break t;if(F===n&&++I===a&&(w=f),F===s&&++B===r&&(E=f),(K=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=K}n=w===-1||E===-1?null:{start:w,end:E}}else n=null}n=n||{start:0,end:0}}else n=null;for(wo={focusedElem:e,selectionRange:n},yl=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var Z=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var J=Z.memoizedProps,Ae=Z.memoizedState,N=t.stateNode,_=N.getSnapshotBeforeUpdate(t.elementType===t.type?J:_t(t.type,J),Ae);N.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(H){Le(t,t.return,H)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return Z=Rc,Rc=!1,Z}function Vr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&aa(t,n,s)}a=a.next}while(a!==r)}}function Zl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Pc(e){var t=e.alternate;t!==null&&(e.alternate=null,Pc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[zr],delete t[Co],delete t[Sp],delete t[Ep])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Nc(e){return e.tag===5||e.tag===3||e.tag===4}function bc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ua(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bl));else if(r!==4&&(e=e.child,e!==null))for(ua(e,t,n),e=e.sibling;e!==null;)ua(e,t,n),e=e.sibling}function ca(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ca(e,t,n),e=e.sibling;e!==null;)ca(e,t,n),e=e.sibling}var Ve=null,Rt=!1;function sn(e,t,n){for(n=n.child;n!==null;)Tc(e,t,n),n=n.sibling}function Tc(e,t,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(dl,n)}catch{}switch(n.tag){case 5:Ge||er(n,t);case 6:var r=Ve,a=Rt;Ve=null,sn(e,t,n),Ve=r,Rt=a,Ve!==null&&(Rt?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Rt?(e=Ve,n=n.stateNode,e.nodeType===8?Eo(e.parentNode,n):e.nodeType===1&&Eo(e,n),Er(e)):Eo(Ve,n.stateNode));break;case 4:r=Ve,a=Rt,Ve=n.stateNode.containerInfo,Rt=!0,sn(e,t,n),Ve=r,Rt=a;break;case 0:case 11:case 14:case 15:if(!Ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var s=a,f=s.destroy;s=s.tag,f!==void 0&&((s&2)!==0||(s&4)!==0)&&aa(n,t,f),a=a.next}while(a!==r)}sn(e,t,n);break;case 1:if(!Ge&&(er(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(w){Le(n,t,w)}sn(e,t,n);break;case 21:sn(e,t,n);break;case 22:n.mode&1?(Ge=(r=Ge)||n.memoizedState!==null,sn(e,t,n),Ge=r):sn(e,t,n);break;default:sn(e,t,n)}}function jc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Dp),t.forEach(function(r){var a=qp.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Pt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,f=t,w=f;e:for(;w!==null;){switch(w.tag){case 5:Ve=w.stateNode,Rt=!1;break e;case 3:Ve=w.stateNode.containerInfo,Rt=!0;break e;case 4:Ve=w.stateNode.containerInfo,Rt=!0;break e}w=w.return}if(Ve===null)throw Error(o(160));Tc(s,f,a),Ve=null,Rt=!1;var E=a.alternate;E!==null&&(E.return=null),a.return=null}catch(I){Le(a,t,I)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ic(t,e),t=t.sibling}function Ic(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pt(t,e),At(e),r&4){try{Vr(3,e,e.return),Zl(3,e)}catch(J){Le(e,e.return,J)}try{Vr(5,e,e.return)}catch(J){Le(e,e.return,J)}}break;case 1:Pt(t,e),At(e),r&512&&n!==null&&er(n,n.return);break;case 5:if(Pt(t,e),At(e),r&512&&n!==null&&er(n,n.return),e.flags&32){var a=e.stateNode;try{fr(a,"")}catch(J){Le(e,e.return,J)}}if(r&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,f=n!==null?n.memoizedProps:s,w=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{w==="input"&&s.type==="radio"&&s.name!=null&&gn(a,s),Fi(w,f);var I=Fi(w,s);for(f=0;f<E.length;f+=2){var B=E[f],W=E[f+1];B==="style"?hs(a,W):B==="dangerouslySetInnerHTML"?fs(a,W):B==="children"?fr(a,W):A(a,B,W,I)}switch(w){case"input":cr(a,s);break;case"textarea":us(a,s);break;case"select":var F=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var K=s.value;K!=null?Ln(a,!!s.multiple,K,!1):F!==!!s.multiple&&(s.defaultValue!=null?Ln(a,!!s.multiple,s.defaultValue,!0):Ln(a,!!s.multiple,s.multiple?[]:"",!1))}a[zr]=s}catch(J){Le(e,e.return,J)}}break;case 6:if(Pt(t,e),At(e),r&4){if(e.stateNode===null)throw Error(o(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(J){Le(e,e.return,J)}}break;case 3:if(Pt(t,e),At(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Er(t.containerInfo)}catch(J){Le(e,e.return,J)}break;case 4:Pt(t,e),At(e);break;case 13:Pt(t,e),At(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(pa=ze())),r&4&&jc(e);break;case 22:if(B=n!==null&&n.memoizedState!==null,e.mode&1?(Ge=(I=Ge)||B,Pt(t,e),Ge=I):Pt(t,e),At(e),r&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!B&&(e.mode&1)!==0)for(G=e,B=e.child;B!==null;){for(W=G=B;G!==null;){switch(F=G,K=F.child,F.tag){case 0:case 11:case 14:case 15:Vr(4,F,F.return);break;case 1:er(F,F.return);var Z=F.stateNode;if(typeof Z.componentWillUnmount=="function"){r=F,n=F.return;try{t=r,Z.props=t.memoizedProps,Z.state=t.memoizedState,Z.componentWillUnmount()}catch(J){Le(r,n,J)}}break;case 5:er(F,F.return);break;case 22:if(F.memoizedState!==null){Ac(W);continue}}K!==null?(K.return=F,G=K):Ac(W)}B=B.sibling}e:for(B=null,W=e;;){if(W.tag===5){if(B===null){B=W;try{a=W.stateNode,I?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(w=W.stateNode,E=W.memoizedProps.style,f=E!=null&&E.hasOwnProperty("display")?E.display:null,w.style.display=ps("display",f))}catch(J){Le(e,e.return,J)}}}else if(W.tag===6){if(B===null)try{W.stateNode.nodeValue=I?"":W.memoizedProps}catch(J){Le(e,e.return,J)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===e)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===e)break e;for(;W.sibling===null;){if(W.return===null||W.return===e)break e;B===W&&(B=null),W=W.return}B===W&&(B=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:Pt(t,e),At(e),r&4&&jc(e);break;case 21:break;default:Pt(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Nc(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(fr(a,""),r.flags&=-33);var s=bc(e);ca(e,s,a);break;case 3:case 4:var f=r.stateNode.containerInfo,w=bc(e);ua(e,w,f);break;default:throw Error(o(161))}}catch(E){Le(e,e.return,E)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bp(e,t,n){G=e,Lc(e)}function Lc(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var a=G,s=a.child;if(a.tag===22&&r){var f=a.memoizedState!==null||Xl;if(!f){var w=a.alternate,E=w!==null&&w.memoizedState!==null||Ge;w=Xl;var I=Ge;if(Xl=f,(Ge=E)&&!I)for(G=a;G!==null;)f=G,E=f.child,f.tag===22&&f.memoizedState!==null?$c(a):E!==null?(E.return=f,G=E):$c(a);for(;s!==null;)G=s,Lc(s),s=s.sibling;G=a,Xl=w,Ge=I}zc(e)}else(a.subtreeFlags&8772)!==0&&s!==null?(s.return=a,G=s):zc(e)}}function zc(e){for(;G!==null;){var t=G;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ge||Zl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ge)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:_t(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Au(t,s,r);break;case 3:var f=t.updateQueue;if(f!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Au(t,f,n)}break;case 5:var w=t.stateNode;if(n===null&&t.flags&4){n=w;var E=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&n.focus();break;case"img":E.src&&(n.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var I=t.alternate;if(I!==null){var B=I.memoizedState;if(B!==null){var W=B.dehydrated;W!==null&&Er(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}Ge||t.flags&512&&sa(t)}catch(F){Le(t,t.return,F)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function Ac(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function $c(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zl(4,t)}catch(E){Le(t,n,E)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(E){Le(t,a,E)}}var s=t.return;try{sa(t)}catch(E){Le(t,s,E)}break;case 5:var f=t.return;try{sa(t)}catch(E){Le(t,f,E)}}}catch(E){Le(t,t.return,E)}if(t===e){G=null;break}var w=t.sibling;if(w!==null){w.return=t.return,G=w;break}G=t.return}}var Up=Math.ceil,Jl=V.ReactCurrentDispatcher,da=V.ReactCurrentOwner,wt=V.ReactCurrentBatchConfig,he=0,Ue=null,Oe=null,Qe=0,ht=0,tr=nn(0),De=0,Qr=null,_n=0,ei=0,fa=0,Kr=null,at=null,pa=0,nr=1/0,Ht=null,ti=!1,ha=null,un=null,ni=!1,cn=null,ri=0,Yr=0,ma=null,li=-1,ii=0;function et(){return(he&6)!==0?ze():li!==-1?li:li=ze()}function dn(e){return(e.mode&1)===0?1:(he&2)!==0&&Qe!==0?Qe&-Qe:_p.transition!==null?(ii===0&&(ii=bs()),ii):(e=we,e!==0||(e=window.event,e=e===void 0?16:Ms(e.type)),e)}function Nt(e,t,n,r){if(50<Yr)throw Yr=0,ma=null,Error(o(185));vr(e,n,r),((he&2)===0||e!==Ue)&&(e===Ue&&((he&2)===0&&(ei|=n),De===4&&fn(e,Qe)),st(e,r),n===1&&he===0&&(t.mode&1)===0&&(nr=ze()+500,Ll&&ln()))}function st(e,t){var n=e.callbackNode;_f(e,t);var r=hl(e,e===Ue?Qe:0);if(r===0)n!==null&&Rs(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Rs(n),t===1)e.tag===0?Cp(Mc.bind(null,e)):Eu(Mc.bind(null,e)),wp(function(){(he&6)===0&&ln()}),n=null;else{switch(Ts(r)){case 1:n=Ki;break;case 4:n=Ps;break;case 16:n=cl;break;case 536870912:n=Ns;break;default:n=cl}n=Qc(n,Oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Oc(e,t){if(li=-1,ii=0,(he&6)!==0)throw Error(o(327));var n=e.callbackNode;if(rr()&&e.callbackNode!==n)return null;var r=hl(e,e===Ue?Qe:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=oi(e,r);else{t=r;var a=he;he|=2;var s=Fc();(Ue!==e||Qe!==t)&&(Ht=null,nr=ze()+500,Pn(e,t));do try{Vp();break}catch(w){Dc(e,w)}while(!0);Lo(),Jl.current=s,he=a,Oe!==null?t=0:(Ue=null,Qe=0,t=De)}if(t!==0){if(t===2&&(a=Yi(e),a!==0&&(r=a,t=ga(e,a))),t===1)throw n=Qr,Pn(e,0),fn(e,r),st(e,ze()),n;if(t===6)fn(e,r);else{if(a=e.current.alternate,(r&30)===0&&!Wp(a)&&(t=oi(e,r),t===2&&(s=Yi(e),s!==0&&(r=s,t=ga(e,s))),t===1))throw n=Qr,Pn(e,0),fn(e,r),st(e,ze()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:Nn(e,at,Ht);break;case 3:if(fn(e,r),(r&130023424)===r&&(t=pa+500-ze(),10<t)){if(hl(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){et(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=So(Nn.bind(null,e,at,Ht),t);break}Nn(e,at,Ht);break;case 4:if(fn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var f=31-St(r);s=1<<f,f=t[f],f>a&&(a=f),r&=~s}if(r=a,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Up(r/1960))-r,10<r){e.timeoutHandle=So(Nn.bind(null,e,at,Ht),r);break}Nn(e,at,Ht);break;case 5:Nn(e,at,Ht);break;default:throw Error(o(329))}}}return st(e,ze()),e.callbackNode===n?Oc.bind(null,e):null}function ga(e,t){var n=Kr;return e.current.memoizedState.isDehydrated&&(Pn(e,t).flags|=256),e=oi(e,t),e!==2&&(t=at,at=n,t!==null&&ya(t)),e}function ya(e){at===null?at=e:at.push.apply(at,e)}function Wp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!Et(s(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fn(e,t){for(t&=~fa,t&=~ei,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-St(t),r=1<<n;e[n]=-1,t&=~r}}function Mc(e){if((he&6)!==0)throw Error(o(327));rr();var t=hl(e,0);if((t&1)===0)return st(e,ze()),null;var n=oi(e,t);if(e.tag!==0&&n===2){var r=Yi(e);r!==0&&(t=r,n=ga(e,r))}if(n===1)throw n=Qr,Pn(e,0),fn(e,t),st(e,ze()),n;if(n===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nn(e,at,Ht),st(e,ze()),null}function va(e,t){var n=he;he|=1;try{return e(t)}finally{he=n,he===0&&(nr=ze()+500,Ll&&ln())}}function Rn(e){cn!==null&&cn.tag===0&&(he&6)===0&&rr();var t=he;he|=1;var n=wt.transition,r=we;try{if(wt.transition=null,we=1,e)return e()}finally{we=r,wt.transition=n,he=t,(he&6)===0&&ln()}}function xa(){ht=tr.current,_e(tr)}function Pn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xp(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(No(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jl();break;case 3:Zn(),_e(lt),_e(Ke),Bo();break;case 5:Do(r);break;case 4:Zn();break;case 13:_e(be);break;case 19:_e(be);break;case 10:zo(r.type._context);break;case 22:case 23:xa()}n=n.return}if(Ue=e,Oe=e=pn(e.current,null),Qe=ht=t,De=0,Qr=null,fa=ei=_n=0,at=Kr=null,Sn!==null){for(t=0;t<Sn.length;t++)if(n=Sn[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,s=n.pending;if(s!==null){var f=s.next;s.next=a,r.next=f}n.pending=r}Sn=null}return e}function Dc(e,t){do{var n=Oe;try{if(Lo(),Wl.current=Kl,Hl){for(var r=Te.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Hl=!1}if(Cn=0,Be=Me=Te=null,Fr=!1,Br=0,da.current=null,n===null||n.return===null){De=1,Qr=t,Oe=null;break}e:{var s=e,f=n.return,w=n,E=t;if(t=Qe,w.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var I=E,B=w,W=B.tag;if((B.mode&1)===0&&(W===0||W===11||W===15)){var F=B.alternate;F?(B.updateQueue=F.updateQueue,B.memoizedState=F.memoizedState,B.lanes=F.lanes):(B.updateQueue=null,B.memoizedState=null)}var K=cc(f);if(K!==null){K.flags&=-257,dc(K,f,w,s,t),K.mode&1&&uc(s,I,t),t=K,E=I;var Z=t.updateQueue;if(Z===null){var J=new Set;J.add(E),t.updateQueue=J}else Z.add(E);break e}else{if((t&1)===0){uc(s,I,t),wa();break e}E=Error(o(426))}}else if(Pe&&w.mode&1){var Ae=cc(f);if(Ae!==null){(Ae.flags&65536)===0&&(Ae.flags|=256),dc(Ae,f,w,s,t),jo(Jn(E,w));break e}}s=E=Jn(E,w),De!==4&&(De=2),Kr===null?Kr=[s]:Kr.push(s),s=f;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var N=ac(s,E,t);zu(s,N);break e;case 1:w=E;var _=s.type,j=s.stateNode;if((s.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(un===null||!un.has(j)))){s.flags|=65536,t&=-t,s.lanes|=t;var H=sc(s,w,t);zu(s,H);break e}}s=s.return}while(s!==null)}Uc(n)}catch(ee){t=ee,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(!0)}function Fc(){var e=Jl.current;return Jl.current=Kl,e===null?Kl:e}function wa(){(De===0||De===3||De===2)&&(De=4),Ue===null||(_n&268435455)===0&&(ei&268435455)===0||fn(Ue,Qe)}function oi(e,t){var n=he;he|=2;var r=Fc();(Ue!==e||Qe!==t)&&(Ht=null,Pn(e,t));do try{Hp();break}catch(a){Dc(e,a)}while(!0);if(Lo(),he=n,Jl.current=r,Oe!==null)throw Error(o(261));return Ue=null,Qe=0,De}function Hp(){for(;Oe!==null;)Bc(Oe)}function Vp(){for(;Oe!==null&&!gf();)Bc(Oe)}function Bc(e){var t=Vc(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?Uc(e):Oe=t,da.current=null}function Uc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Op(n,t,ht),n!==null){Oe=n;return}}else{if(n=Mp(n,t),n!==null){n.flags&=32767,Oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Oe=null;return}}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);De===0&&(De=5)}function Nn(e,t,n){var r=we,a=wt.transition;try{wt.transition=null,we=1,Qp(e,t,n,r)}finally{wt.transition=a,we=r}return null}function Qp(e,t,n,r){do rr();while(cn!==null);if((he&6)!==0)throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Rf(e,s),e===Ue&&(Oe=Ue=null,Qe=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||ni||(ni=!0,Qc(cl,function(){return rr(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=wt.transition,wt.transition=null;var f=we;we=1;var w=he;he|=4,da.current=null,Fp(e,n),Ic(n,e),fp(wo),yl=!!xo,wo=xo=null,e.current=n,Bp(n),yf(),he=w,we=f,wt.transition=s}else e.current=n;if(ni&&(ni=!1,cn=e,ri=a),s=e.pendingLanes,s===0&&(un=null),wf(n.stateNode),st(e,ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(ti)throw ti=!1,e=ha,ha=null,e;return(ri&1)!==0&&e.tag!==0&&rr(),s=e.pendingLanes,(s&1)!==0?e===ma?Yr++:(Yr=0,ma=e):Yr=0,ln(),null}function rr(){if(cn!==null){var e=Ts(ri),t=wt.transition,n=we;try{if(wt.transition=null,we=16>e?16:e,cn===null)var r=!1;else{if(e=cn,cn=null,ri=0,(he&6)!==0)throw Error(o(331));var a=he;for(he|=4,G=e.current;G!==null;){var s=G,f=s.child;if((G.flags&16)!==0){var w=s.deletions;if(w!==null){for(var E=0;E<w.length;E++){var I=w[E];for(G=I;G!==null;){var B=G;switch(B.tag){case 0:case 11:case 15:Vr(8,B,s)}var W=B.child;if(W!==null)W.return=B,G=W;else for(;G!==null;){B=G;var F=B.sibling,K=B.return;if(Pc(B),B===I){G=null;break}if(F!==null){F.return=K,G=F;break}G=K}}}var Z=s.alternate;if(Z!==null){var J=Z.child;if(J!==null){Z.child=null;do{var Ae=J.sibling;J.sibling=null,J=Ae}while(J!==null)}}G=s}}if((s.subtreeFlags&2064)!==0&&f!==null)f.return=s,G=f;else e:for(;G!==null;){if(s=G,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Vr(9,s,s.return)}var N=s.sibling;if(N!==null){N.return=s.return,G=N;break e}G=s.return}}var _=e.current;for(G=_;G!==null;){f=G;var j=f.child;if((f.subtreeFlags&2064)!==0&&j!==null)j.return=f,G=j;else e:for(f=_;G!==null;){if(w=G,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:Zl(9,w)}}catch(ee){Le(w,w.return,ee)}if(w===f){G=null;break e}var H=w.sibling;if(H!==null){H.return=w.return,G=H;break e}G=w.return}}if(he=a,ln(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(dl,e)}catch{}r=!0}return r}finally{we=n,wt.transition=t}}return!1}function Wc(e,t,n){t=Jn(n,t),t=ac(e,t,1),e=an(e,t,1),t=et(),e!==null&&(vr(e,1,t),st(e,t))}function Le(e,t,n){if(e.tag===3)Wc(e,e,n);else for(;t!==null;){if(t.tag===3){Wc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(un===null||!un.has(r))){e=Jn(n,e),e=sc(t,e,1),t=an(t,e,1),e=et(),t!==null&&(vr(t,1,e),st(t,e));break}}t=t.return}}function Kp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&n,Ue===e&&(Qe&n)===n&&(De===4||De===3&&(Qe&130023424)===Qe&&500>ze()-pa?Pn(e,0):fa|=n),st(e,t)}function Hc(e,t){t===0&&((e.mode&1)===0?t=1:(t=pl,pl<<=1,(pl&130023424)===0&&(pl=4194304)));var n=et();e=Bt(e,t),e!==null&&(vr(e,t,n),st(e,n))}function Yp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hc(e,n)}function qp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}r!==null&&r.delete(t),Hc(e,n)}var Vc;Vc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)ot=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return ot=!1,$p(e,t,n);ot=(e.flags&131072)!==0}else ot=!1,Pe&&(t.flags&1048576)!==0&&Cu(t,Al,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gl(e,t),e=t.pendingProps;var a=Vn(t,Ke.current);Xn(t,n),a=Ho(null,t,r,e,a,n);var s=Vo();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(r)?(s=!0,Il(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Oo(t),a.updater=Yl,t.stateNode=a,a._reactInternals=t,Xo(t,r,e,n),t=ta(null,t,r,!0,s,n)):(t.tag=0,Pe&&s&&Po(t),Je(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gl(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=Xp(r),e=_t(r,e),a){case 0:t=ea(null,t,r,e,n);break e;case 1:t=yc(null,t,r,e,n);break e;case 11:t=fc(null,t,r,e,n);break e;case 14:t=pc(null,t,r,_t(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:_t(r,a),ea(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:_t(r,a),yc(e,t,r,a,n);case 3:e:{if(vc(t),e===null)throw Error(o(387));r=t.pendingProps,s=t.memoizedState,a=s.element,Lu(e,t),Bl(t,r,null,n);var f=t.memoizedState;if(r=f.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Jn(Error(o(423)),t),t=xc(e,t,r,n,a);break e}else if(r!==a){a=Jn(Error(o(424)),t),t=xc(e,t,r,n,a);break e}else for(pt=tn(t.stateNode.containerInfo.firstChild),ft=t,Pe=!0,Ct=null,n=ju(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yn(),r===a){t=Wt(e,t,n);break e}Je(e,t,r,n)}t=t.child}return t;case 5:return $u(t),e===null&&To(t),r=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,f=a.children,ko(r,a)?f=null:s!==null&&ko(r,s)&&(t.flags|=32),gc(e,t),Je(e,t,f,n),t.child;case 6:return e===null&&To(t),null;case 13:return wc(e,t,n);case 4:return Mo(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=qn(t,null,r,n):Je(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:_t(r,a),fc(e,t,r,a,n);case 7:return Je(e,t,t.pendingProps,n),t.child;case 8:return Je(e,t,t.pendingProps.children,n),t.child;case 12:return Je(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,f=a.value,Ee(Ml,r._currentValue),r._currentValue=f,s!==null)if(Et(s.value,f)){if(s.children===a.children&&!lt.current){t=Wt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var w=s.dependencies;if(w!==null){f=s.child;for(var E=w.firstContext;E!==null;){if(E.context===r){if(s.tag===1){E=Ut(-1,n&-n),E.tag=2;var I=s.updateQueue;if(I!==null){I=I.shared;var B=I.pending;B===null?E.next=E:(E.next=B.next,B.next=E),I.pending=E}}s.lanes|=n,E=s.alternate,E!==null&&(E.lanes|=n),Ao(s.return,n,t),w.lanes|=n;break}E=E.next}}else if(s.tag===10)f=s.type===t.type?null:s.child;else if(s.tag===18){if(f=s.return,f===null)throw Error(o(341));f.lanes|=n,w=f.alternate,w!==null&&(w.lanes|=n),Ao(f,n,t),f=s.sibling}else f=s.child;if(f!==null)f.return=s;else for(f=s;f!==null;){if(f===t){f=null;break}if(s=f.sibling,s!==null){s.return=f.return,f=s;break}f=f.return}s=f}Je(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Xn(t,n),a=vt(a),r=r(a),t.flags|=1,Je(e,t,r,n),t.child;case 14:return r=t.type,a=_t(r,t.pendingProps),a=_t(r.type,a),pc(e,t,r,a,n);case 15:return hc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:_t(r,a),Gl(e,t),t.tag=1,it(r)?(e=!0,Il(t)):e=!1,Xn(t,n),ic(t,r,a),Xo(t,r,a,n),ta(null,t,r,!0,e,n);case 19:return Sc(e,t,n);case 22:return mc(e,t,n)}throw Error(o(156,t.tag))};function Qc(e,t){return _s(e,t)}function Gp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,n,r){return new Gp(e,t,n,r)}function ka(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xp(e){if(typeof e=="function")return ka(e)?1:0;if(e!=null){if(e=e.$$typeof,e===je)return 11;if(e===Ie)return 14}return 2}function pn(e,t){var n=e.alternate;return n===null?(n=kt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ai(e,t,n,r,a,s){var f=2;if(r=e,typeof e=="function")ka(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case ie:return bn(n.children,a,s,t);case se:f=8,a|=8;break;case pe:return e=kt(12,n,t,a|2),e.elementType=pe,e.lanes=s,e;case me:return e=kt(13,n,t,a),e.elementType=me,e.lanes=s,e;case $e:return e=kt(19,n,t,a),e.elementType=$e,e.lanes=s,e;case q:return si(n,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ve:f=10;break e;case fe:f=9;break e;case je:f=11;break e;case Ie:f=14;break e;case ge:f=16,r=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=kt(f,n,t,a),t.elementType=e,t.type=r,t.lanes=s,t}function bn(e,t,n,r){return e=kt(7,e,r,t),e.lanes=n,e}function si(e,t,n,r){return e=kt(22,e,r,t),e.elementType=q,e.lanes=n,e.stateNode={isHidden:!1},e}function Sa(e,t,n){return e=kt(6,e,null,t),e.lanes=n,e}function Ea(e,t,n){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zp(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qi(0),this.expirationTimes=qi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qi(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ca(e,t,n,r,a,s,f,w,E){return e=new Zp(e,t,n,w,E),t===1?(t=1,s===!0&&(t|=8)):t=0,s=kt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(s),e}function Jp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Kc(e){if(!e)return rn;e=e._reactInternals;e:{if(yn(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var n=e.type;if(it(n))return ku(e,n,t)}return t}function Yc(e,t,n,r,a,s,f,w,E){return e=Ca(n,r,!0,e,a,s,f,w,E),e.context=Kc(null),n=e.current,r=et(),a=dn(n),s=Ut(r,a),s.callback=t??null,an(n,s,a),e.current.lanes=a,vr(e,a,r),st(e,r),e}function ui(e,t,n,r){var a=t.current,s=et(),f=dn(a);return n=Kc(n),t.context===null?t.context=n:t.pendingContext=n,t=Ut(s,f),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=an(a,t,f),e!==null&&(Nt(e,a,f,s),Fl(e,a,f)),f}function ci(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _a(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}function eh(){return null}var Gc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ra(e){this._internalRoot=e}di.prototype.render=Ra.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));ui(e,t,null,null)},di.prototype.unmount=Ra.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rn(function(){ui(null,e,null,null)}),t[Ot]=null}};function di(e){this._internalRoot=e}di.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ls();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zt.length&&t!==0&&t<Zt[n].priority;n++);Zt.splice(n,0,e),n===0&&$s(e)}};function Pa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xc(){}function th(e,t,n,r,a){if(a){if(typeof r=="function"){var s=r;r=function(){var I=ci(f);s.call(I)}}var f=Yc(t,r,e,0,null,!1,!1,"",Xc);return e._reactRootContainer=f,e[Ot]=f.current,Ir(e.nodeType===8?e.parentNode:e),Rn(),f}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var w=r;r=function(){var I=ci(E);w.call(I)}}var E=Ca(e,0,!1,null,null,!1,!1,"",Xc);return e._reactRootContainer=E,e[Ot]=E.current,Ir(e.nodeType===8?e.parentNode:e),Rn(function(){ui(t,E,n,r)}),E}function pi(e,t,n,r,a){var s=n._reactRootContainer;if(s){var f=s;if(typeof a=="function"){var w=a;a=function(){var E=ci(f);w.call(E)}}ui(t,f,e,a)}else f=th(n,t,e,a,r);return ci(f)}js=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yr(t.pendingLanes);n!==0&&(Gi(t,n|1),st(t,ze()),(he&6)===0&&(nr=ze()+500,ln()))}break;case 13:Rn(function(){var r=Bt(e,1);if(r!==null){var a=et();Nt(r,e,1,a)}}),_a(e,1)}},Xi=function(e){if(e.tag===13){var t=Bt(e,134217728);if(t!==null){var n=et();Nt(t,e,134217728,n)}_a(e,134217728)}},Is=function(e){if(e.tag===13){var t=dn(e),n=Bt(e,t);if(n!==null){var r=et();Nt(n,e,t,r)}_a(e,t)}},Ls=function(){return we},zs=function(e,t){var n=we;try{return we=e,t()}finally{we=n}},Wi=function(e,t,n){switch(t){case"input":if(cr(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Tl(r);if(!a)throw Error(o(90));Ze(r),cr(r,a)}}}break;case"textarea":us(e,n);break;case"select":t=n.value,t!=null&&Ln(e,!!n.multiple,t,!1)}},vs=va,xs=Rn;var nh={usingClientEntryPoint:!1,Events:[Ar,Wn,Tl,gs,ys,va]},qr={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rh={bundleType:qr.bundleType,version:qr.version,rendererPackageName:qr.rendererPackageName,rendererConfig:qr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Es(e),e===null?null:e.stateNode},findFiberByHostInstance:qr.findFiberByHostInstance||eh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hi.isDisabled&&hi.supportsFiber)try{dl=hi.inject(rh),jt=hi}catch{}}return ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nh,ut.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pa(t))throw Error(o(200));return Jp(e,t,null,n)},ut.createRoot=function(e,t){if(!Pa(e))throw Error(o(299));var n=!1,r="",a=Gc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ca(e,1,!1,null,null,n,!1,r,a),e[Ot]=t.current,Ir(e.nodeType===8?e.parentNode:e),new Ra(t)},ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Es(t),e=e===null?null:e.stateNode,e},ut.flushSync=function(e){return Rn(e)},ut.hydrate=function(e,t,n){if(!fi(t))throw Error(o(200));return pi(null,e,t,!0,n)},ut.hydrateRoot=function(e,t,n){if(!Pa(e))throw Error(o(405));var r=n!=null&&n.hydratedSources||null,a=!1,s="",f=Gc;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),t=Yc(t,null,e,1,n??null,a,!1,s,f),e[Ot]=t.current,Ir(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new di(t)},ut.render=function(e,t,n){if(!fi(t))throw Error(o(200));return pi(null,e,t,!1,n)},ut.unmountComponentAtNode=function(e){if(!fi(e))throw Error(o(40));return e._reactRootContainer?(Rn(function(){pi(null,null,e,!1,function(){e._reactRootContainer=null,e[Ot]=null})}),!0):!1},ut.unstable_batchedUpdates=va,ut.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!fi(n))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return pi(e,t,n,!1,r)},ut.version="18.3.1-next-f1338f8080-20240426",ut}var id;function Pd(){if(id)return Ta.exports;id=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(i){console.error(i)}}return l(),Ta.exports=ph(),Ta.exports}var od;function hh(){if(od)return mi;od=1;var l=Pd();return mi.createRoot=l.createRoot,mi.hydrateRoot=l.hydrateRoot,mi}var mh=hh();const gh=Rd(mh);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ad="popstate";function yh(l={}){function i(u,c){let{pathname:d,search:p,hash:h}=u.location;return Ma("",{pathname:d,search:p,hash:h},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function o(u,c){return typeof c=="string"?c:nl(c)}return xh(i,o,null,l)}function Ne(l,i){if(l===!1||l===null||typeof l>"u")throw new Error(i)}function bt(l,i){if(!l){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function vh(){return Math.random().toString(36).substring(2,10)}function sd(l,i){return{usr:l.state,key:l.key,idx:i}}function Ma(l,i,o=null,u){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof i=="string"?ir(i):i,state:o,key:i&&i.key||u||vh()}}function nl({pathname:l="/",search:i="",hash:o=""}){return i&&i!=="?"&&(l+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(l+=o.charAt(0)==="#"?o:"#"+o),l}function ir(l){let i={};if(l){let o=l.indexOf("#");o>=0&&(i.hash=l.substring(o),l=l.substring(0,o));let u=l.indexOf("?");u>=0&&(i.search=l.substring(u),l=l.substring(0,u)),l&&(i.pathname=l)}return i}function xh(l,i,o,u={}){let{window:c=document.defaultView,v5Compat:d=!1}=u,p=c.history,h="POP",y=null,m=v();m==null&&(m=0,p.replaceState({...p.state,idx:m},""));function v(){return(p.state||{idx:null}).idx}function C(){h="POP";let T=v(),M=T==null?null:T-m;m=T,y&&y({action:h,location:z.location,delta:M})}function k(T,M){h="PUSH";let D=Ma(z.location,T,M);m=v()+1;let A=sd(D,m),V=z.createHref(D);try{p.pushState(A,"",V)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;c.location.assign(V)}d&&y&&y({action:h,location:z.location,delta:1})}function P(T,M){h="REPLACE";let D=Ma(z.location,T,M);m=v();let A=sd(D,m),V=z.createHref(D);p.replaceState(A,"",V),d&&y&&y({action:h,location:z.location,delta:0})}function b(T){return wh(T)}let z={get action(){return h},get location(){return l(c,p)},listen(T){if(y)throw new Error("A history only accepts one active listener");return c.addEventListener(ad,C),y=T,()=>{c.removeEventListener(ad,C),y=null}},createHref(T){return i(c,T)},createURL:b,encodeLocation(T){let M=b(T);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:k,replace:P,go(T){return p.go(T)}};return z}function wh(l,i=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),Ne(o,"No window.location.(origin|href) available to create URL");let u=typeof l=="string"?l:nl(l);return u=u.replace(/ $/,"%20"),!i&&u.startsWith("//")&&(u=o+u),new URL(u,o)}function Nd(l,i,o="/"){return kh(l,i,o,!1)}function kh(l,i,o,u){let c=typeof i=="string"?ir(i):i,d=Yt(c.pathname||"/",o);if(d==null)return null;let p=bd(l);Sh(p);let h=null;for(let y=0;h==null&&y<p.length;++y){let m=Lh(d);h=jh(p[y],m,u)}return h}function bd(l,i=[],o=[],u="",c=!1){let d=(p,h,y=c,m)=>{let v={relativePath:m===void 0?p.path||"":m,caseSensitive:p.caseSensitive===!0,childrenIndex:h,route:p};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(u)&&y)return;Ne(v.relativePath.startsWith(u),`Absolute route path "${v.relativePath}" nested under path "${u}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(u.length)}let C=Kt([u,v.relativePath]),k=o.concat(v);p.children&&p.children.length>0&&(Ne(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${C}".`),bd(p.children,i,k,C,y)),!(p.path==null&&!p.index)&&i.push({path:C,score:bh(C,p.index),routesMeta:k})};return l.forEach((p,h)=>{var y;if(p.path===""||!((y=p.path)!=null&&y.includes("?")))d(p,h);else for(let m of Td(p.path))d(p,h,!0,m)}),i}function Td(l){let i=l.split("/");if(i.length===0)return[];let[o,...u]=i,c=o.endsWith("?"),d=o.replace(/\?$/,"");if(u.length===0)return c?[d,""]:[d];let p=Td(u.join("/")),h=[];return h.push(...p.map(y=>y===""?d:[d,y].join("/"))),c&&h.push(...p),h.map(y=>l.startsWith("/")&&y===""?"/":y)}function Sh(l){l.sort((i,o)=>i.score!==o.score?o.score-i.score:Th(i.routesMeta.map(u=>u.childrenIndex),o.routesMeta.map(u=>u.childrenIndex)))}var Eh=/^:[\w-]+$/,Ch=3,_h=2,Rh=1,Ph=10,Nh=-2,ud=l=>l==="*";function bh(l,i){let o=l.split("/"),u=o.length;return o.some(ud)&&(u+=Nh),i&&(u+=_h),o.filter(c=>!ud(c)).reduce((c,d)=>c+(Eh.test(d)?Ch:d===""?Rh:Ph),u)}function Th(l,i){return l.length===i.length&&l.slice(0,-1).every((u,c)=>u===i[c])?l[l.length-1]-i[i.length-1]:0}function jh(l,i,o=!1){let{routesMeta:u}=l,c={},d="/",p=[];for(let h=0;h<u.length;++h){let y=u[h],m=h===u.length-1,v=d==="/"?i:i.slice(d.length)||"/",C=Ei({path:y.relativePath,caseSensitive:y.caseSensitive,end:m},v),k=y.route;if(!C&&m&&o&&!u[u.length-1].route.index&&(C=Ei({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!C)return null;Object.assign(c,C.params),p.push({params:c,pathname:Kt([d,C.pathname]),pathnameBase:Oh(Kt([d,C.pathnameBase])),route:k}),C.pathnameBase!=="/"&&(d=Kt([d,C.pathnameBase]))}return p}function Ei(l,i){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[o,u]=Ih(l.path,l.caseSensitive,l.end),c=i.match(o);if(!c)return null;let d=c[0],p=d.replace(/(.)\/+$/,"$1"),h=c.slice(1);return{params:u.reduce((m,{paramName:v,isOptional:C},k)=>{if(v==="*"){let b=h[k]||"";p=d.slice(0,d.length-b.length).replace(/(.)\/+$/,"$1")}const P=h[k];return C&&!P?m[v]=void 0:m[v]=(P||"").replace(/%2F/g,"/"),m},{}),pathname:d,pathnameBase:p,pattern:l}}function Ih(l,i=!1,o=!0){bt(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let u=[],c="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,h,y)=>(u.push({paramName:h,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(u.push({paramName:"*"}),c+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?c+="\\/*$":l!==""&&l!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,i?void 0:"i"),u]}function Lh(l){try{return l.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return bt(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),l}}function Yt(l,i){if(i==="/")return l;if(!l.toLowerCase().startsWith(i.toLowerCase()))return null;let o=i.endsWith("/")?i.length-1:i.length,u=l.charAt(o);return u&&u!=="/"?null:l.slice(o)||"/"}var zh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Ah(l,i="/"){let{pathname:o,search:u="",hash:c=""}=typeof l=="string"?ir(l):l,d;return o?(o=o.replace(/\/\/+/g,"/"),o.startsWith("/")?d=cd(o.substring(1),"/"):d=cd(o,i)):d=i,{pathname:d,search:Mh(u),hash:Dh(c)}}function cd(l,i){let o=i.replace(/\/+$/,"").split("/");return l.split("/").forEach(c=>{c===".."?o.length>1&&o.pop():c!=="."&&o.push(c)}),o.length>1?o.join("/"):"/"}function La(l,i,o,u){return`Cannot include a '${l}' character in a manually specified \`to.${i}\` field [${JSON.stringify(u)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $h(l){return l.filter((i,o)=>o===0||i.route.path&&i.route.path.length>0)}function Va(l){let i=$h(l);return i.map((o,u)=>u===i.length-1?o.pathname:o.pathnameBase)}function Qa(l,i,o,u=!1){let c;typeof l=="string"?c=ir(l):(c={...l},Ne(!c.pathname||!c.pathname.includes("?"),La("?","pathname","search",c)),Ne(!c.pathname||!c.pathname.includes("#"),La("#","pathname","hash",c)),Ne(!c.search||!c.search.includes("#"),La("#","search","hash",c)));let d=l===""||c.pathname==="",p=d?"/":c.pathname,h;if(p==null)h=o;else{let C=i.length-1;if(!u&&p.startsWith("..")){let k=p.split("/");for(;k[0]==="..";)k.shift(),C-=1;c.pathname=k.join("/")}h=C>=0?i[C]:"/"}let y=Ah(c,h),m=p&&p!=="/"&&p.endsWith("/"),v=(d||p===".")&&o.endsWith("/");return!y.pathname.endsWith("/")&&(m||v)&&(y.pathname+="/"),y}var Kt=l=>l.join("/").replace(/\/\/+/g,"/"),Oh=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),Mh=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,Dh=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l,Fh=class{constructor(l,i,o,u=!1){this.status=l,this.statusText=i||"",this.internal=u,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}};function Bh(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}function Uh(l){return l.map(i=>i.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var jd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Id(l,i){let o=l;if(typeof o!="string"||!zh.test(o))return{absoluteURL:void 0,isExternal:!1,to:o};let u=o,c=!1;if(jd)try{let d=new URL(window.location.href),p=o.startsWith("//")?new URL(d.protocol+o):new URL(o),h=Yt(p.pathname,i);p.origin===d.origin&&h!=null?o=h+p.search+p.hash:c=!0}catch{bt(!1,`<Link to="${o}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:u,isExternal:c,to:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ld=["POST","PUT","PATCH","DELETE"];new Set(Ld);var Wh=["GET",...Ld];new Set(Wh);var or=S.createContext(null);or.displayName="DataRouter";var Ii=S.createContext(null);Ii.displayName="DataRouterState";var Hh=S.createContext(!1),zd=S.createContext({isTransitioning:!1});zd.displayName="ViewTransition";var Vh=S.createContext(new Map);Vh.displayName="Fetchers";var Qh=S.createContext(null);Qh.displayName="Await";var mt=S.createContext(null);mt.displayName="Navigation";var rl=S.createContext(null);rl.displayName="Location";var Tt=S.createContext({outlet:null,matches:[],isDataRoute:!1});Tt.displayName="Route";var Ka=S.createContext(null);Ka.displayName="RouteError";var Ad="REACT_ROUTER_ERROR",Kh="REDIRECT",Yh="ROUTE_ERROR_RESPONSE";function qh(l){if(l.startsWith(`${Ad}:${Kh}:{`))try{let i=JSON.parse(l.slice(28));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.location=="string"&&typeof i.reloadDocument=="boolean"&&typeof i.replace=="boolean")return i}catch{}}function Gh(l){if(l.startsWith(`${Ad}:${Yh}:{`))try{let i=JSON.parse(l.slice(40));if(typeof i=="object"&&i&&typeof i.status=="number"&&typeof i.statusText=="string")return new Fh(i.status,i.statusText,i.data)}catch{}}function Xh(l,{relative:i}={}){Ne(ar(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:u}=S.useContext(mt),{hash:c,pathname:d,search:p}=il(l,{relative:i}),h=d;return o!=="/"&&(h=d==="/"?o:Kt([o,d])),u.createHref({pathname:h,search:p,hash:c})}function ar(){return S.useContext(rl)!=null}function mn(){return Ne(ar(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(rl).location}var $d="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Od(l){S.useContext(mt).static||S.useLayoutEffect(l)}function ll(){let{isDataRoute:l}=S.useContext(Tt);return l?dm():Zh()}function Zh(){Ne(ar(),"useNavigate() may be used only in the context of a <Router> component.");let l=S.useContext(or),{basename:i,navigator:o}=S.useContext(mt),{matches:u}=S.useContext(Tt),{pathname:c}=mn(),d=JSON.stringify(Va(u)),p=S.useRef(!1);return Od(()=>{p.current=!0}),S.useCallback((y,m={})=>{if(bt(p.current,$d),!p.current)return;if(typeof y=="number"){o.go(y);return}let v=Qa(y,JSON.parse(d),c,m.relative==="path");l==null&&i!=="/"&&(v.pathname=v.pathname==="/"?i:Kt([i,v.pathname])),(m.replace?o.replace:o.push)(v,m.state,m)},[i,o,d,c,l])}S.createContext(null);function Jh(){let{matches:l}=S.useContext(Tt),i=l[l.length-1];return i?i.params:{}}function il(l,{relative:i}={}){let{matches:o}=S.useContext(Tt),{pathname:u}=mn(),c=JSON.stringify(Va(o));return S.useMemo(()=>Qa(l,JSON.parse(c),u,i==="path"),[l,c,u,i])}function em(l,i){return Md(l,i)}function Md(l,i,o,u,c){var D;Ne(ar(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=S.useContext(mt),{matches:p}=S.useContext(Tt),h=p[p.length-1],y=h?h.params:{},m=h?h.pathname:"/",v=h?h.pathnameBase:"/",C=h&&h.route;{let A=C&&C.path||"";Fd(m,!C||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let k=mn(),P;if(i){let A=typeof i=="string"?ir(i):i;Ne(v==="/"||((D=A.pathname)==null?void 0:D.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${A.pathname}" was given in the \`location\` prop.`),P=A}else P=k;let b=P.pathname||"/",z=b;if(v!=="/"){let A=v.replace(/^\//,"").split("/");z="/"+b.replace(/^\//,"").split("/").slice(A.length).join("/")}let T=Nd(l,{pathname:z});bt(C||T!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),bt(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=im(T&&T.map(A=>Object.assign({},A,{params:Object.assign({},y,A.params),pathname:Kt([v,d.encodeLocation?d.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?v:Kt([v,d.encodeLocation?d.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),p,o,u,c);return i&&M?S.createElement(rl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},M):M}function tm(){let l=cm(),i=Bh(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),o=l instanceof Error?l.stack:null,u="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:u},d={padding:"2px 4px",backgroundColor:u},p=null;return console.error("Error handled by React Router default ErrorBoundary:",l),p=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:d},"ErrorBoundary")," or"," ",S.createElement("code",{style:d},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},i),o?S.createElement("pre",{style:c},o):null,p)}var nm=S.createElement(tm,null),Dd=class extends S.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,i){return i.location!==l.location||i.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:i.error,location:i.location,revalidation:l.revalidation||i.revalidation}}componentDidCatch(l,i){this.props.onError?this.props.onError(l,i):console.error("React Router caught the following error during render",l)}render(){let l=this.state.error;if(this.context&&typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){const o=Gh(l.digest);o&&(l=o)}let i=l!==void 0?S.createElement(Tt.Provider,{value:this.props.routeContext},S.createElement(Ka.Provider,{value:l,children:this.props.component})):this.props.children;return this.context?S.createElement(rm,{error:l},i):i}};Dd.contextType=Hh;var za=new WeakMap;function rm({children:l,error:i}){let{basename:o}=S.useContext(mt);if(typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){let u=qh(i.digest);if(u){let c=za.get(i);if(c)throw c;let d=Id(u.location,o);if(jd&&!za.get(i))if(d.isExternal||u.reloadDocument)window.location.href=d.absoluteURL||d.to;else{const p=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(d.to,{replace:u.replace}));throw za.set(i,p),p}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${d.absoluteURL||d.to}`})}}return l}function lm({routeContext:l,match:i,children:o}){let u=S.useContext(or);return u&&u.static&&u.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=i.route.id),S.createElement(Tt.Provider,{value:l},o)}function im(l,i=[],o=null,u=null,c=null){if(l==null){if(!o)return null;if(o.errors)l=o.matches;else if(i.length===0&&!o.initialized&&o.matches.length>0)l=o.matches;else return null}let d=l,p=o==null?void 0:o.errors;if(p!=null){let v=d.findIndex(C=>C.route.id&&(p==null?void 0:p[C.route.id])!==void 0);Ne(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),d=d.slice(0,Math.min(d.length,v+1))}let h=!1,y=-1;if(o)for(let v=0;v<d.length;v++){let C=d[v];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(y=v),C.route.id){let{loaderData:k,errors:P}=o,b=C.route.loader&&!k.hasOwnProperty(C.route.id)&&(!P||P[C.route.id]===void 0);if(C.route.lazy||b){h=!0,y>=0?d=d.slice(0,y+1):d=[d[0]];break}}}let m=o&&u?(v,C)=>{var k,P;u(v,{location:o.location,params:((P=(k=o.matches)==null?void 0:k[0])==null?void 0:P.params)??{},unstable_pattern:Uh(o.matches),errorInfo:C})}:void 0;return d.reduceRight((v,C,k)=>{let P,b=!1,z=null,T=null;o&&(P=p&&C.route.id?p[C.route.id]:void 0,z=C.route.errorElement||nm,h&&(y<0&&k===0?(Fd("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,T=null):y===k&&(b=!0,T=C.route.hydrateFallbackElement||null)));let M=i.concat(d.slice(0,k+1)),D=()=>{let A;return P?A=z:b?A=T:C.route.Component?A=S.createElement(C.route.Component,null):C.route.element?A=C.route.element:A=v,S.createElement(lm,{match:C,routeContext:{outlet:v,matches:M,isDataRoute:o!=null},children:A})};return o&&(C.route.ErrorBoundary||C.route.errorElement||k===0)?S.createElement(Dd,{location:o.location,revalidation:o.revalidation,component:z,error:P,children:D(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:m}):D()},null)}function Ya(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function om(l){let i=S.useContext(or);return Ne(i,Ya(l)),i}function am(l){let i=S.useContext(Ii);return Ne(i,Ya(l)),i}function sm(l){let i=S.useContext(Tt);return Ne(i,Ya(l)),i}function qa(l){let i=sm(l),o=i.matches[i.matches.length-1];return Ne(o.route.id,`${l} can only be used on routes that contain a unique "id"`),o.route.id}function um(){return qa("useRouteId")}function cm(){var u;let l=S.useContext(Ka),i=am("useRouteError"),o=qa("useRouteError");return l!==void 0?l:(u=i.errors)==null?void 0:u[o]}function dm(){let{router:l}=om("useNavigate"),i=qa("useNavigate"),o=S.useRef(!1);return Od(()=>{o.current=!0}),S.useCallback(async(c,d={})=>{bt(o.current,$d),o.current&&(typeof c=="number"?await l.navigate(c):await l.navigate(c,{fromRouteId:i,...d}))},[l,i])}var dd={};function Fd(l,i,o){!i&&!dd[l]&&(dd[l]=!0,bt(!1,o))}S.memo(fm);function fm({routes:l,future:i,state:o,onError:u}){return Md(l,void 0,o,u,i)}function Ci({to:l,replace:i,state:o,relative:u}){Ne(ar(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=S.useContext(mt);bt(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=S.useContext(Tt),{pathname:p}=mn(),h=ll(),y=Qa(l,Va(d),p,u==="path"),m=JSON.stringify(y);return S.useEffect(()=>{h(JSON.parse(m),{replace:i,state:o,relative:u})},[h,m,u,i,o]),null}function Tn(l){Ne(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pm({basename:l="/",children:i=null,location:o,navigationType:u="POP",navigator:c,static:d=!1,unstable_useTransitions:p}){Ne(!ar(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=l.replace(/^\/*/,"/"),y=S.useMemo(()=>({basename:h,navigator:c,static:d,unstable_useTransitions:p,future:{}}),[h,c,d,p]);typeof o=="string"&&(o=ir(o));let{pathname:m="/",search:v="",hash:C="",state:k=null,key:P="default"}=o,b=S.useMemo(()=>{let z=Yt(m,h);return z==null?null:{location:{pathname:z,search:v,hash:C,state:k,key:P},navigationType:u}},[h,m,v,C,k,P,u]);return bt(b!=null,`<Router basename="${h}"> is not able to match the URL "${m}${v}${C}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:S.createElement(mt.Provider,{value:y},S.createElement(rl.Provider,{children:i,value:b}))}function hm({children:l,location:i}){return em(Da(l),i)}function Da(l,i=[]){let o=[];return S.Children.forEach(l,(u,c)=>{if(!S.isValidElement(u))return;let d=[...i,c];if(u.type===S.Fragment){o.push.apply(o,Da(u.props.children,d));return}Ne(u.type===Tn,`[${typeof u.type=="string"?u.type:u.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ne(!u.props.index||!u.props.children,"An index route cannot have child routes.");let p={id:u.props.id||d.join("-"),caseSensitive:u.props.caseSensitive,element:u.props.element,Component:u.props.Component,index:u.props.index,path:u.props.path,middleware:u.props.middleware,loader:u.props.loader,action:u.props.action,hydrateFallbackElement:u.props.hydrateFallbackElement,HydrateFallback:u.props.HydrateFallback,errorElement:u.props.errorElement,ErrorBoundary:u.props.ErrorBoundary,hasErrorBoundary:u.props.hasErrorBoundary===!0||u.props.ErrorBoundary!=null||u.props.errorElement!=null,shouldRevalidate:u.props.shouldRevalidate,handle:u.props.handle,lazy:u.props.lazy};u.props.children&&(p.children=Da(u.props.children,d)),o.push(p)}),o}var xi="get",wi="application/x-www-form-urlencoded";function Li(l){return typeof HTMLElement<"u"&&l instanceof HTMLElement}function mm(l){return Li(l)&&l.tagName.toLowerCase()==="button"}function gm(l){return Li(l)&&l.tagName.toLowerCase()==="form"}function ym(l){return Li(l)&&l.tagName.toLowerCase()==="input"}function vm(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function xm(l,i){return l.button===0&&(!i||i==="_self")&&!vm(l)}var gi=null;function wm(){if(gi===null)try{new FormData(document.createElement("form"),0),gi=!1}catch{gi=!0}return gi}var km=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Aa(l){return l!=null&&!km.has(l)?(bt(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wi}"`),null):l}function Sm(l,i){let o,u,c,d,p;if(gm(l)){let h=l.getAttribute("action");u=h?Yt(h,i):null,o=l.getAttribute("method")||xi,c=Aa(l.getAttribute("enctype"))||wi,d=new FormData(l)}else if(mm(l)||ym(l)&&(l.type==="submit"||l.type==="image")){let h=l.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=l.getAttribute("formaction")||h.getAttribute("action");if(u=y?Yt(y,i):null,o=l.getAttribute("formmethod")||h.getAttribute("method")||xi,c=Aa(l.getAttribute("formenctype"))||Aa(h.getAttribute("enctype"))||wi,d=new FormData(h,l),!wm()){let{name:m,type:v,value:C}=l;if(v==="image"){let k=m?`${m}.`:"";d.append(`${k}x`,"0"),d.append(`${k}y`,"0")}else m&&d.append(m,C)}}else{if(Li(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=xi,u=null,c=wi,p=l}return d&&c==="text/plain"&&(p=d,d=void 0),{action:u,method:o.toLowerCase(),encType:c,formData:d,body:p}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ga(l,i){if(l===!1||l===null||typeof l>"u")throw new Error(i)}function Em(l,i,o,u){let c=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return o?c.pathname.endsWith("/")?c.pathname=`${c.pathname}_.${u}`:c.pathname=`${c.pathname}.${u}`:c.pathname==="/"?c.pathname=`_root.${u}`:i&&Yt(c.pathname,i)==="/"?c.pathname=`${i.replace(/\/$/,"")}/_root.${u}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${u}`,c}async function Cm(l,i){if(l.id in i)return i[l.id];try{let o=await import(l.module);return i[l.id]=o,o}catch(o){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _m(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function Rm(l,i,o){let u=await Promise.all(l.map(async c=>{let d=i.routes[c.route.id];if(d){let p=await Cm(d,o);return p.links?p.links():[]}return[]}));return Tm(u.flat(1).filter(_m).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function fd(l,i,o,u,c,d){let p=(y,m)=>o[m]?y.route.id!==o[m].route.id:!0,h=(y,m)=>{var v;return o[m].pathname!==y.pathname||((v=o[m].route.path)==null?void 0:v.endsWith("*"))&&o[m].params["*"]!==y.params["*"]};return d==="assets"?i.filter((y,m)=>p(y,m)||h(y,m)):d==="data"?i.filter((y,m)=>{var C;let v=u.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(p(y,m)||h(y,m))return!0;if(y.route.shouldRevalidate){let k=y.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((C=o[0])==null?void 0:C.params)||{},nextUrl:new URL(l,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof k=="boolean")return k}return!0}):[]}function Pm(l,i,{includeHydrateFallback:o}={}){return Nm(l.map(u=>{let c=i.routes[u.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),o&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function Nm(l){return[...new Set(l)]}function bm(l){let i={},o=Object.keys(l).sort();for(let u of o)i[u]=l[u];return i}function Tm(l,i){let o=new Set;return new Set(i),l.reduce((u,c)=>{let d=JSON.stringify(bm(c));return o.has(d)||(o.add(d),u.push({key:d,link:c})),u},[])}function Bd(){let l=S.useContext(or);return Ga(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function jm(){let l=S.useContext(Ii);return Ga(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var Xa=S.createContext(void 0);Xa.displayName="FrameworkContext";function Ud(){let l=S.useContext(Xa);return Ga(l,"You must render this element inside a <HydratedRouter> element"),l}function Im(l,i){let o=S.useContext(Xa),[u,c]=S.useState(!1),[d,p]=S.useState(!1),{onFocus:h,onBlur:y,onMouseEnter:m,onMouseLeave:v,onTouchStart:C}=i,k=S.useRef(null);S.useEffect(()=>{if(l==="render"&&p(!0),l==="viewport"){let z=M=>{M.forEach(D=>{p(D.isIntersecting)})},T=new IntersectionObserver(z,{threshold:.5});return k.current&&T.observe(k.current),()=>{T.disconnect()}}},[l]),S.useEffect(()=>{if(u){let z=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(z)}}},[u]);let P=()=>{c(!0)},b=()=>{c(!1),p(!1)};return o?l!=="intent"?[d,k,{}]:[d,k,{onFocus:Xr(h,P),onBlur:Xr(y,b),onMouseEnter:Xr(m,P),onMouseLeave:Xr(v,b),onTouchStart:Xr(C,P)}]:[!1,k,{}]}function Xr(l,i){return o=>{l&&l(o),o.defaultPrevented||i(o)}}function Lm({page:l,...i}){let{router:o}=Bd(),u=S.useMemo(()=>Nd(o.routes,l,o.basename),[o.routes,l,o.basename]);return u?S.createElement(Am,{page:l,matches:u,...i}):null}function zm(l){let{manifest:i,routeModules:o}=Ud(),[u,c]=S.useState([]);return S.useEffect(()=>{let d=!1;return Rm(l,i,o).then(p=>{d||c(p)}),()=>{d=!0}},[l,i,o]),u}function Am({page:l,matches:i,...o}){let u=mn(),{future:c,manifest:d,routeModules:p}=Ud(),{basename:h}=Bd(),{loaderData:y,matches:m}=jm(),v=S.useMemo(()=>fd(l,i,m,d,u,"data"),[l,i,m,d,u]),C=S.useMemo(()=>fd(l,i,m,d,u,"assets"),[l,i,m,d,u]),k=S.useMemo(()=>{if(l===u.pathname+u.search+u.hash)return[];let z=new Set,T=!1;if(i.forEach(D=>{var V;let A=d.routes[D.route.id];!A||!A.hasLoader||(!v.some(Q=>Q.route.id===D.route.id)&&D.route.id in y&&((V=p[D.route.id])!=null&&V.shouldRevalidate)||A.hasClientLoader?T=!0:z.add(D.route.id))}),z.size===0)return[];let M=Em(l,h,c.unstable_trailingSlashAwareDataRequests,"data");return T&&z.size>0&&M.searchParams.set("_routes",i.filter(D=>z.has(D.route.id)).map(D=>D.route.id).join(",")),[M.pathname+M.search]},[h,c.unstable_trailingSlashAwareDataRequests,y,u,d,v,i,l,p]),P=S.useMemo(()=>Pm(C,d),[C,d]),b=zm(C);return S.createElement(S.Fragment,null,k.map(z=>S.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...o})),P.map(z=>S.createElement("link",{key:z,rel:"modulepreload",href:z,...o})),b.map(({key:z,link:T})=>S.createElement("link",{key:z,nonce:o.nonce,...T,crossOrigin:T.crossOrigin??o.crossOrigin})))}function $m(...l){return i=>{l.forEach(o=>{typeof o=="function"?o(i):o!=null&&(o.current=i)})}}var Om=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Om&&(window.__reactRouterVersion="7.13.0")}catch{}function Mm({basename:l,children:i,unstable_useTransitions:o,window:u}){let c=S.useRef();c.current==null&&(c.current=yh({window:u,v5Compat:!0}));let d=c.current,[p,h]=S.useState({action:d.action,location:d.location}),y=S.useCallback(m=>{o===!1?h(m):S.startTransition(()=>h(m))},[o]);return S.useLayoutEffect(()=>d.listen(y),[d,y]),S.createElement(pm,{basename:l,children:i,location:p.location,navigationType:p.action,navigator:d,unstable_useTransitions:o})}var Wd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hd=S.forwardRef(function({onClick:i,discover:o="render",prefetch:u="none",relative:c,reloadDocument:d,replace:p,state:h,target:y,to:m,preventScrollReset:v,viewTransition:C,unstable_defaultShouldRevalidate:k,...P},b){let{basename:z,unstable_useTransitions:T}=S.useContext(mt),M=typeof m=="string"&&Wd.test(m),D=Id(m,z);m=D.to;let A=Xh(m,{relative:c}),[V,Q,te]=Im(u,P),ie=Um(m,{replace:p,state:h,target:y,preventScrollReset:v,relative:c,viewTransition:C,unstable_defaultShouldRevalidate:k,unstable_useTransitions:T});function se(ve){i&&i(ve),ve.defaultPrevented||ie(ve)}let pe=S.createElement("a",{...P,...te,href:D.absoluteURL||A,onClick:D.isExternal||d?i:se,ref:$m(b,Q),target:y,"data-discover":!M&&o==="render"?"true":void 0});return V&&!M?S.createElement(S.Fragment,null,pe,S.createElement(Lm,{page:A})):pe});Hd.displayName="Link";var Dm=S.forwardRef(function({"aria-current":i="page",caseSensitive:o=!1,className:u="",end:c=!1,style:d,to:p,viewTransition:h,children:y,...m},v){let C=il(p,{relative:m.relative}),k=mn(),P=S.useContext(Ii),{navigator:b,basename:z}=S.useContext(mt),T=P!=null&&Km(C)&&h===!0,M=b.encodeLocation?b.encodeLocation(C).pathname:C.pathname,D=k.pathname,A=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;o||(D=D.toLowerCase(),A=A?A.toLowerCase():null,M=M.toLowerCase()),A&&z&&(A=Yt(A,z)||A);const V=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let Q=D===M||!c&&D.startsWith(M)&&D.charAt(V)==="/",te=A!=null&&(A===M||!c&&A.startsWith(M)&&A.charAt(M.length)==="/"),ie={isActive:Q,isPending:te,isTransitioning:T},se=Q?i:void 0,pe;typeof u=="function"?pe=u(ie):pe=[u,Q?"active":null,te?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let ve=typeof d=="function"?d(ie):d;return S.createElement(Hd,{...m,"aria-current":se,className:pe,ref:v,style:ve,to:p,viewTransition:h},typeof y=="function"?y(ie):y)});Dm.displayName="NavLink";var Fm=S.forwardRef(({discover:l="render",fetcherKey:i,navigate:o,reloadDocument:u,replace:c,state:d,method:p=xi,action:h,onSubmit:y,relative:m,preventScrollReset:v,viewTransition:C,unstable_defaultShouldRevalidate:k,...P},b)=>{let{unstable_useTransitions:z}=S.useContext(mt),T=Vm(),M=Qm(h,{relative:m}),D=p.toLowerCase()==="get"?"get":"post",A=typeof h=="string"&&Wd.test(h),V=Q=>{if(y&&y(Q),Q.defaultPrevented)return;Q.preventDefault();let te=Q.nativeEvent.submitter,ie=(te==null?void 0:te.getAttribute("formmethod"))||p,se=()=>T(te||Q.currentTarget,{fetcherKey:i,method:ie,navigate:o,replace:c,state:d,relative:m,preventScrollReset:v,viewTransition:C,unstable_defaultShouldRevalidate:k});z&&o!==!1?S.startTransition(()=>se()):se()};return S.createElement("form",{ref:b,method:D,action:M,onSubmit:u?y:V,...P,"data-discover":!A&&l==="render"?"true":void 0})});Fm.displayName="Form";function Bm(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vd(l){let i=S.useContext(or);return Ne(i,Bm(l)),i}function Um(l,{target:i,replace:o,state:u,preventScrollReset:c,relative:d,viewTransition:p,unstable_defaultShouldRevalidate:h,unstable_useTransitions:y}={}){let m=ll(),v=mn(),C=il(l,{relative:d});return S.useCallback(k=>{if(xm(k,i)){k.preventDefault();let P=o!==void 0?o:nl(v)===nl(C),b=()=>m(l,{replace:P,state:u,preventScrollReset:c,relative:d,viewTransition:p,unstable_defaultShouldRevalidate:h});y?S.startTransition(()=>b()):b()}},[v,m,C,o,u,i,l,c,d,p,h,y])}var Wm=0,Hm=()=>`__${String(++Wm)}__`;function Vm(){let{router:l}=Vd("useSubmit"),{basename:i}=S.useContext(mt),o=um(),u=l.fetch,c=l.navigate;return S.useCallback(async(d,p={})=>{let{action:h,method:y,encType:m,formData:v,body:C}=Sm(d,i);if(p.navigate===!1){let k=p.fetcherKey||Hm();await u(k,o,p.action||h,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:v,body:C,formMethod:p.method||y,formEncType:p.encType||m,flushSync:p.flushSync})}else await c(p.action||h,{unstable_defaultShouldRevalidate:p.unstable_defaultShouldRevalidate,preventScrollReset:p.preventScrollReset,formData:v,body:C,formMethod:p.method||y,formEncType:p.encType||m,replace:p.replace,state:p.state,fromRouteId:o,flushSync:p.flushSync,viewTransition:p.viewTransition})},[u,c,i,o])}function Qm(l,{relative:i}={}){let{basename:o}=S.useContext(mt),u=S.useContext(Tt);Ne(u,"useFormAction must be used inside a RouteContext");let[c]=u.matches.slice(-1),d={...il(l||".",{relative:i})},p=mn();if(l==null){d.search=p.search;let h=new URLSearchParams(d.search),y=h.getAll("index");if(y.some(v=>v==="")){h.delete("index"),y.filter(C=>C).forEach(C=>h.append("index",C));let v=h.toString();d.search=v?`?${v}`:""}}return(!l||l===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(d.pathname=d.pathname==="/"?o:Kt([o,d.pathname])),nl(d)}function Km(l,{relative:i}={}){let o=S.useContext(zd);Ne(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:u}=Vd("useViewTransitionState"),c=il(l,{relative:i});if(!o.isTransitioning)return!1;let d=Yt(o.currentLocation.pathname,u)||o.currentLocation.pathname,p=Yt(o.nextLocation.pathname,u)||o.nextLocation.pathname;return Ei(c.pathname,p)!=null||Ei(c.pathname,d)!=null}Pd();const Xe="http://localhost:8000",Fe={async login(l,i){const o=await fetch(`${Xe}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,password:i})});if(!o.ok){const u=await o.json();throw new Error(u.detail||"Login failed")}return o.json()},async register(l,i){const o=await fetch(`${Xe}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,password:i})});if(!o.ok){const u=await o.json();throw new Error(u.detail||"Registration failed")}return o.json()},async getMe(l){const i=await fetch(`${Xe}/auth/me`,{headers:{Authorization:`Bearer ${l}`}});if(!i.ok)throw new Error("Failed to fetch user");return i.json()},async getTexts(l){const i=await fetch(`${Xe}/texts`,{headers:{Authorization:`Bearer ${l}`}});if(!i.ok)throw new Error("Failed to fetch texts");return i.json()},async createText(l,i){const o=await fetch(`${Xe}/texts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(i)});if(!o.ok)throw new Error("Failed to create text");return o.json()},async deleteText(l,i){if(!(await fetch(`${Xe}/texts/${i}`,{method:"DELETE",headers:{Authorization:`Bearer ${l}`}})).ok)throw new Error("Failed to delete text");return!0},async getTextById(l,i){const o=await fetch(`${Xe}/texts/${i}`,{headers:{Authorization:`Bearer ${l}`}});if(!o.ok)throw new Error("Failed to fetch text");return o.json()},async updateText(l,i,o){const u=await fetch(`${Xe}/texts/${i}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(o)});if(!u.ok)throw new Error("Failed to update text");return u.json()},async getSentences(l,i,o={}){const{paragraphPage:u,paragraphPageSize:c,aroundSentenceId:d}=o,p=new URLSearchParams;Number.isInteger(u)&&u>0&&p.set("paragraph_page",String(u)),Number.isInteger(c)&&c>0&&p.set("paragraph_page_size",String(c)),Number.isInteger(d)&&d>0&&p.set("around_sentence_id",String(d));const h=p.toString(),y=h?`${Xe}/texts/${i}/sentences?${h}`:`${Xe}/texts/${i}/sentences`,m=await fetch(y,{headers:{Authorization:`Bearer ${l}`}});if(!m.ok)throw new Error("Failed to fetch sentences");const v=await m.json(),C=m.headers.get("X-Paragraph-Page"),k=m.headers.get("X-Paragraph-Page-Size"),P=m.headers.get("X-Paragraph-Total"),b=m.headers.get("X-Paragraph-Total-Pages"),z={page:C?parseInt(C,10):null,pageSize:k?parseInt(k,10):null,totalParagraphs:P?parseInt(P,10):null,totalPages:b?parseInt(b,10):null};return{items:v,paging:z}},async updateSentence(l,i,o){const u=await fetch(`${Xe}/sentences/${i}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(o)});if(!u.ok)throw new Error("Failed to update sentence");return u.json()},async updateProgress(l,i,o){const u=await fetch(`${Xe}/texts/${i}/progress`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify(o)});if(!u.ok)throw new Error("Failed to update progress");return u.json()},async getCredits(l){const i=await fetch(`${Xe}/ai/credits`,{headers:{Authorization:`Bearer ${l}`}});if(!i.ok)throw new Error("Failed to fetch credits");return i.json()},async recharge(l){const i=await fetch(`${Xe}/auth/recharge`,{method:"POST",headers:{Authorization:`Bearer ${l}`}});if(!i.ok)throw new Error("Failed to recharge");return i.json()},async uploadPdf(l,i,o={}){const{startPage:u,endPage:c}=o,d=new FormData;d.append("file",i),Number.isInteger(u)&&u>0&&d.append("start_page",String(u)),Number.isInteger(c)&&c>0&&d.append("end_page",String(c));const p=await fetch(`${Xe}/pdf/upload`,{method:"POST",headers:{Authorization:`Bearer ${l}`},body:d});if(!p.ok){let h={};try{h=await p.json()}catch{h={}}const y=h==null?void 0:h.detail;let m="PDF upload failed";typeof y=="string"?m=y:y&&typeof y=="object"&&(m=y.message||y.code||m);const v=new Error(m);throw y&&typeof y=="object"&&(v.detail=y),v}return p.json()},async uploadEpub(l,i){const o=new FormData;o.append("file",i);const u=await fetch(`${Xe}/epub/upload`,{method:"POST",headers:{Authorization:`Bearer ${l}`},body:o});if(!u.ok){let c={};try{c=await u.json()}catch{c={}}const d=c==null?void 0:c.detail;let p="EPUB upload failed";typeof d=="string"?p=d:d&&typeof d=="object"&&(p=d.message||d.code||p);const h=new Error(p);throw d&&typeof d=="object"&&(h.detail=d),h}return u.json()}},Qd=S.createContext();function Ym({children:l}){const[i,o]=S.useState(null),[u,c]=S.useState(localStorage.getItem("access_token")),[d,p]=S.useState(!0);S.useEffect(()=>{(async()=>{if(u)try{const P=await Fe.getMe(u);o(P)}catch(P){console.error("Auth check failed",P),y()}p(!1)})()},[u]);const h=async(k,P)=>{const b=await Fe.login(k,P);return c(b.access_token),localStorage.setItem("access_token",b.access_token),o(b.user),b.user},y=()=>{c(null),o(null),localStorage.removeItem("access_token")},m=k=>{i&&o({...i,credits:k})},v=async()=>{if(u)try{const k=await Fe.recharge(u);return o(k),k}catch(k){throw console.error("Recharge failed",k),k}},C=async()=>{if(u)try{const k=await Fe.getCredits(u);m(k.credits)}catch(k){console.error("Failed to refresh credits",k)}};return g.jsx(Qd.Provider,{value:{user:i,token:u,login:h,logout:y,loading:d,updateCredits:m,recharge:v,refreshCredits:C},children:!d&&l})}function sr(){return S.useContext(Qd)}const Kd=S.createContext(null),qm={A1:1,A2:2,B1:3,B2:4,C1:5,C2:6},Gm=["Support: Full Translation","Scaffold: English Hints","Challenge: Pronunciation Only"];function Xm({children:l}){const[i,o]=S.useState("flow"),[u,c]=S.useState(2),[d,p]=S.useState("A2"),[h,y]=S.useState(null),[m,v]=S.useState(null),[C,k]=S.useState([]),[P,b]=S.useState({}),z=S.useCallback(te=>{o(te)},[]),T=S.useCallback(te=>{c(te)},[]),M=S.useCallback(te=>{p(te)},[]),D=S.useCallback(te=>{k(ie=>ie.includes(te)?ie:[...ie,te])},[]),A=S.useCallback((te,ie)=>{b(se=>({...se,[te]:{...se[te]||{},...ie||{}}}))},[]),V=S.useCallback(()=>{b({})},[]),Q={mode:i,level:u,vocabLevel:d,activeId:h,activeSentenceId:m,revealedKeys:C,bookData:P,VOCAB_MAP:qm,LEVEL_DESCS:Gm,switchMode:z,changeLevel:T,changeVocabLevel:M,setActiveId:y,setActiveSentenceId:v,revealKey:D,updateBookData:A,clearBookData:V};return g.jsx(Kd.Provider,{value:Q,children:l})}function ur(){const l=S.useContext(Kd);if(!l)throw new Error("useApp must be used within AppProvider");return l}function Zm(){const[l,i]=S.useState(""),[o,u]=S.useState(""),[c,d]=S.useState(""),[p,h]=S.useState(!1),[y,m]=S.useState(!1),{login:v}=sr(),C=ll(),k=async P=>{P.preventDefault(),d(""),m(!0);try{p?(await Fe.register(l,o),await v(l,o)):await v(l,o),C("/library")}catch(b){d(b.message)}finally{m(!1)}};return g.jsxs("div",{className:"login-page",children:[g.jsx("style",{children:`
                .login-page {
                    min-height: 100vh;
                    width: 100vw;
                    display: flex;
                    background: #f8fafc;
                    position: fixed;
                    top: 0;
                    left: 0;
                    z-index: 100;
                }
                
                /* Left Panel - Branding */
                .login-branding {
                    flex: 1;
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    align-items: center;
                    padding: 60px;
                    position: relative;
                    overflow: hidden;
                }
                .login-branding::before {
                    content: '';
                    position: absolute;
                    top: -50%;
                    left: -50%;
                    width: 200%;
                    height: 200%;
                    background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 60%);
                    animation: rotate 30s linear infinite;
                }
                @keyframes rotate {
                    from { transform: rotate(0deg); }
                    to { transform: rotate(360deg); }
                }
                .branding-content {
                    position: relative;
                    z-index: 1;
                    text-align: center;
                    color: white;
                    max-width: 480px;
                }
                .branding-icon {
                    font-size: 5rem;
                    margin-bottom: 32px;
                    display: block;
                }
                .branding-title {
                    font-size: 2.5rem;
                    font-weight: 800;
                    margin: 0 0 16px 0;
                    letter-spacing: -0.5px;
                }
                .branding-desc {
                    font-size: 1.15rem;
                    opacity: 0.9;
                    line-height: 1.7;
                    margin: 0 0 40px 0;
                }
                .branding-features {
                    display: flex;
                    flex-direction: column;
                    gap: 16px;
                    text-align: left;
                }
                .feature-item {
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    background: rgba(255,255,255,0.1);
                    padding: 16px 20px;
                    border-radius: 12px;
                    backdrop-filter: blur(10px);
                }
                .feature-icon {
                    font-size: 1.5rem;
                }
                .feature-text {
                    font-size: 0.95rem;
                    font-weight: 500;
                }
                
                /* Right Panel - Form */
                .login-form-panel {
                    flex: 1;
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    align-items: center;
                    padding: 60px;
                    background: white;
                }
                .form-container {
                    width: 100%;
                    max-width: 440px;
                }
                .form-header {
                    margin-bottom: 40px;
                }
                .form-title {
                    font-size: 2rem;
                    font-weight: 700;
                    color: #1e293b;
                    margin: 0 0 8px 0;
                }
                .form-subtitle {
                    color: #64748b;
                    font-size: 1rem;
                    margin: 0;
                }
                .login-error {
                    background: #fef2f2;
                    border: 1px solid #fecaca;
                    color: #dc2626;
                    padding: 14px 18px;
                    border-radius: 12px;
                    margin-bottom: 24px;
                    font-size: 0.9rem;
                    display: flex;
                    align-items: center;
                    gap: 10px;
                }
                .login-form {
                    display: flex;
                    flex-direction: column;
                    gap: 24px;
                }
                .form-group {
                    display: flex;
                    flex-direction: column;
                    gap: 8px;
                }
                .form-label {
                    font-size: 0.9rem;
                    font-weight: 600;
                    color: #374151;
                }
                .form-input {
                    width: 100%;
                    padding: 16px 18px;
                    border: 2px solid #e5e7eb;
                    border-radius: 12px;
                    font-size: 1rem;
                    transition: all 0.2s;
                    outline: none;
                    box-sizing: border-box;
                    background: #f9fafb;
                }
                .form-input:focus {
                    border-color: #667eea;
                    background: white;
                    box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
                }
                .form-input::placeholder {
                    color: #9ca3af;
                }
                .login-btn {
                    width: 100%;
                    padding: 18px;
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    color: white;
                    border: none;
                    border-radius: 12px;
                    font-size: 1.05rem;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.3s;
                    margin-top: 8px;
                }
                .login-btn:hover:not(:disabled) {
                    transform: translateY(-2px);
                    box-shadow: 0 12px 24px rgba(102, 126, 234, 0.35);
                }
                .login-btn:active:not(:disabled) {
                    transform: translateY(0);
                }
                .login-btn:disabled {
                    opacity: 0.7;
                    cursor: not-allowed;
                }
                .toggle-section {
                    text-align: center;
                    margin-top: 32px;
                    padding-top: 32px;
                    border-top: 1px solid #e5e7eb;
                }
                .toggle-text {
                    color: #64748b;
                    font-size: 0.95rem;
                }
                .toggle-btn {
                    background: none;
                    border: none;
                    color: #667eea;
                    font-size: 0.95rem;
                    cursor: pointer;
                    font-weight: 600;
                    transition: color 0.2s;
                    margin-left: 4px;
                }
                .toggle-btn:hover {
                    color: #764ba2;
                    text-decoration: underline;
                }
                
                /* Responsive: Stack on smaller screens */
                @media (max-width: 1024px) {
                    .login-page {
                        flex-direction: column;
                    }
                    .login-branding {
                        padding: 40px 24px;
                        min-height: auto;
                    }
                    .branding-icon {
                        font-size: 3rem;
                        margin-bottom: 16px;
                    }
                    .branding-title {
                        font-size: 1.75rem;
                    }
                    .branding-desc {
                        font-size: 1rem;
                        margin-bottom: 24px;
                    }
                    .branding-features {
                        display: none;
                    }
                    .login-form-panel {
                        padding: 40px 24px;
                    }
                }
            `}),g.jsx("div",{className:"login-branding",children:g.jsxs("div",{className:"branding-content",children:[g.jsx("span",{className:"branding-icon",children:""}),g.jsx("h1",{className:"branding-title",children:"AI Reading Co-pilot"}),g.jsx("p",{className:"branding-desc",children:" AI "}),g.jsxs("div",{className:"branding-features",children:[g.jsxs("div",{className:"feature-item",children:[g.jsx("span",{className:"feature-icon",children:""}),g.jsx("span",{className:"feature-text",children:" - Flow Mode "})]}),g.jsxs("div",{className:"feature-item",children:[g.jsx("span",{className:"feature-icon",children:""}),g.jsx("span",{className:"feature-text",children:" - AI "})]}),g.jsxs("div",{className:"feature-item",children:[g.jsx("span",{className:"feature-icon",children:""}),g.jsx("span",{className:"feature-text",children:" -  TTS "})]})]})]})}),g.jsx("div",{className:"login-form-panel",children:g.jsxs("div",{className:"form-container",children:[g.jsxs("div",{className:"form-header",children:[g.jsx("h2",{className:"form-title",children:p?"":""}),g.jsx("p",{className:"form-subtitle",children:p?"":""})]}),c&&g.jsxs("div",{className:"login-error",children:[g.jsx("span",{children:""}),g.jsx("span",{children:c})]}),g.jsxs("form",{className:"login-form",onSubmit:k,children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{className:"form-label",children:""}),g.jsx("input",{type:"email",className:"form-input",placeholder:"your@email.com",value:l,onChange:P=>i(P.target.value),required:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{className:"form-label",children:""}),g.jsx("input",{type:"password",className:"form-input",placeholder:" 6 ",value:o,onChange:P=>u(P.target.value),required:!0,minLength:6})]}),g.jsx("button",{type:"submit",className:"login-btn",disabled:y,children:y?"...":p?"":""})]}),g.jsxs("div",{className:"toggle-section",children:[g.jsx("span",{className:"toggle-text",children:p?"":""}),g.jsx("button",{type:"button",className:"toggle-btn",onClick:()=>h(!p),children:p?"":""})]})]})})]})}const Jm={provider:localStorage.getItem("AI_PROVIDER")||"aliyun",aliyun:{apiKey:localStorage.getItem("ALIYUN_API_KEY")||"sk-beca0b70649540348826dd433986fe54",model:"qwen-plus"},google:{apiKey:localStorage.getItem("GOOGLE_API_KEY")||"",model:"gemini-2.5-flash-lite"}},_i=l=>{if(l==null||l==="")return null;const i=Number.parseInt(String(l),10);return Number.isInteger(i)&&i>0?i:null},pd=l=>{if(typeof l!="string")return null;const i=l.trim().toLowerCase();return i==="true"?!0:i==="false"?!1:null},Ri=(()=>{const l=localStorage.getItem("ENABLE_SENTENCE_ANALYSIS");return l!==null?l==="true":!0})(),Yd="ENABLE_AUTO_ANALYSIS",qd=()=>{const l=pd(localStorage.getItem(Yd));if(l!==null)return l;const i=pd(void 0);return i!==null?i:Ri},eg=l=>{localStorage.setItem(Yd,String(!!l))},Fa=(()=>{const l=_i(localStorage.getItem("ANALYSIS_RATE_LIMIT_WINDOW_SECONDS"));if(l!==null)return l;const i=_i(void 0);return i!==null?i:20})(),hd=(()=>{const l=_i(localStorage.getItem("ANALYSIS_RATE_LIMIT_MAX_REQUESTS"));if(l!==null)return l;const i=_i(void 0);return i!==null?i:6})();function tg(){const{token:l,logout:i,user:o,recharge:u}=sr(),[c,d]=S.useState([]),[p,h]=S.useState(!0),[y,m]=S.useState(!1),[v,C]=S.useState(""),[k,P]=S.useState(""),[b,z]=S.useState(!1),[T,M]=S.useState(!1),[D,A]=S.useState("text"),[V,Q]=S.useState(null),[te,ie]=S.useState(""),[se,pe]=S.useState(""),[ve,fe]=S.useState(()=>qd()),je=ll();S.useEffect(()=>{(async()=>{try{const $=await Fe.getTexts(l);d($)}catch($){console.error("Failed to load texts",$)}finally{h(!1)}})()},[l]);const me=async()=>{let q=null,$=null;if(D==="text"){if(!v.trim()||!k.trim()){alert("");return}}else if(D==="pdf"||D==="epub"){if(!V){alert(D==="pdf"?" PDF ":" EPUB ");return}if(D==="pdf"){const O=(te||"").trim(),L=(se||"").trim();if(O&&(q=Number.parseInt(O,10),!Number.isInteger(q)||q<1)){alert(" 0 ");return}if(L&&($=Number.parseInt(L,10),!Number.isInteger($)||$<1)){alert(" 0 ");return}if(Number.isInteger(q)&&Number.isInteger($)&&q>$){alert("");return}}}z(!0);try{if(D==="pdf"){const L=await Fe.uploadPdf(l,V,{startPage:q??void 0,endPage:$??void 0});if(L.success){const x={source_engine:L.engine_used||"pymupdf",segmentation_confidence:L.quality_score??null,layout_flags:L.layout_flags||{}};await Fe.createText(l,{title:L.filename.replace(".pdf",""),content:L.text,scaffolding_data:{pdf_import:x}})}}else if(D==="epub"){const L=await Fe.uploadEpub(l,V);if(L.success){const x={source_engine:L.engine_used||"epub_zip_html",segmentation_confidence:L.quality_score??null,layout_flags:L.layout_flags||{}};await Fe.createText(l,{title:L.filename.replace(/\.epub$/i,""),content:L.text,scaffolding_data:{epub_import:x}})}}else await Fe.createText(l,{title:v.trim(),content:k.trim(),scaffolding_data:null});const O=await Fe.getTexts(l);d(O),m(!1),C(""),P(""),Q(null),ie(""),pe(""),A("text")}catch(O){const L=O==null?void 0:O.detail;if(L&&typeof L=="object"){const x=L.code?`[${L.code}] `:"",R=typeof L.quality_score=="number"?`: ${L.quality_score}`:"",U=Array.isArray(L.low_conf_pages)&&L.low_conf_pages.length>0?`: ${L.low_conf_pages.join(", ")}`:"";alert(`: ${x}${L.message||O.message}${R}${U}`)}else alert(": "+O.message)}finally{z(!1)}},$e=async(q,$)=>{if(q.stopPropagation(),!!confirm(""))try{await Fe.deleteText(l,$),d(c.filter(O=>O.id!==$))}catch(O){alert(": "+O.message)}},Ie=q=>{const $=q.target.checked;eg($),fe($)},ge=q=>{A(q),Q(null),q!=="pdf"&&(ie(""),pe(""))};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"library-page",children:[g.jsx("style",{children:`
                .library-page {
                    min-height: 100vh;
                    width: 100vw;
                    background: linear-gradient(180deg, #f8fafc 0%, #e2e8f0 100%);
                    padding: 0;
                    position: fixed;
                    top: 0;
                    left: 0;
                    overflow-y: auto;
                    z-index: 50;
                }
                .library-header {
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    padding: 24px 40px;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    box-shadow: 0 4px 20px rgba(102, 126, 234, 0.3);
                }
                .library-brand {
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    color: white;
                }
                .library-brand-icon {
                    font-size: 1.75rem;
                }
                .library-brand-text {
                    font-size: 1.25rem;
                    font-weight: 700;
                }
                .library-user {
                    display: flex;
                    align-items: center;
                    gap: 16px;
                }
                .library-user-email {
                    color: rgba(255,255,255,0.9);
                    font-size: 0.9rem;
                }
                .logout-btn {
                    background: rgba(255,255,255,0.15);
                    border: 1px solid rgba(255,255,255,0.3);
                    color: white;
                    padding: 8px 16px;
                    border-radius: 8px;
                    cursor: pointer;
                    font-size: 0.9rem;
                    transition: all 0.2s;
                }
                .logout-btn:hover {
                    background: rgba(255,255,255,0.25);
                }
                .credits-display {
                    display: flex;
                    align-items: center;
                    gap: 8px;
                    background: rgba(255,255,255,0.15);
                    padding: 8px 16px;
                    border-radius: 8px;
                    color: white;
                }
                .credits-icon {
                    font-size: 1rem;
                }
                .credits-value {
                    font-weight: 600;
                    font-size: 0.95rem;
                }
                .recharge-btn {
                    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
                    border: none;
                    color: white;
                    padding: 6px 12px;
                    border-radius: 6px;
                    cursor: pointer;
                    font-size: 0.8rem;
                    font-weight: 600;
                    transition: all 0.2s;
                    margin-left: 8px;
                }
                .recharge-btn:hover:not(:disabled) {
                    transform: scale(1.05);
                    box-shadow: 0 4px 12px rgba(245, 158, 11, 0.4);
                }
                .recharge-btn:disabled {
                    opacity: 0.6;
                    cursor: not-allowed;
                }
                .library-content {
                    max-width: 1400px;
                    margin: 0 auto;
                    padding: 40px 60px 80px 60px;
                }
                .library-title-row {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 32px;
                    flex-wrap: wrap;
                    gap: 16px;
                }
                .library-title {
                    font-size: 2rem;
                    font-weight: 700;
                    color: #1e293b;
                    margin: 0;
                }
                .library-actions {
                    display: flex;
                    gap: 12px;
                }
                .action-btn {
                    padding: 12px 24px;
                    border-radius: 12px;
                    font-size: 0.95rem;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.2s;
                    border: none;
                }
                .action-btn.primary {
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    color: white;
                }
                .action-btn.primary:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
                }
                .action-btn.secondary {
                    background: white;
                    color: #475569;
                    border: 2px solid #e2e8f0;
                }
                .action-btn.secondary:hover {
                    border-color: #667eea;
                    color: #667eea;
                }
                
                /* Demo Card */
                .demo-card {
                    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
                    border-radius: 16px;
                    padding: 24px;
                    margin-bottom: 32px;
                    border: 2px solid #f59e0b;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    flex-wrap: wrap;
                    gap: 16px;
                }
                .demo-card-info h3 {
                    margin: 0 0 8px 0;
                    color: #92400e;
                    font-size: 1.1rem;
                }
                .demo-card-info p {
                    margin: 0;
                    color: #a16207;
                    font-size: 0.9rem;
                }
                .demo-btn {
                    background: #f59e0b;
                    color: white;
                    border: none;
                    padding: 12px 24px;
                    border-radius: 10px;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.2s;
                }
                .demo-btn:hover {
                    background: #d97706;
                    transform: translateY(-2px);
                }
                
                .texts-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
                    gap: 24px;
                }
                .text-card {
                    background: white;
                    border-radius: 16px;
                    overflow: hidden;
                    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
                    cursor: pointer;
                    transition: all 0.3s;
                    border: 1px solid #e2e8f0;
                    position: relative;
                }
                .text-card:hover {
                    transform: translateY(-4px);
                    box-shadow: 0 20px 40px -12px rgba(0, 0, 0, 0.15);
                    border-color: #667eea;
                }
                .text-card-header {
                    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
                    padding: 20px;
                    border-bottom: 1px solid #e2e8f0;
                    display: flex;
                    justify-content: space-between;
                    align-items: flex-start;
                    gap: 12px;
                }
                .text-card-info {
                    flex: 1;
                    min-width: 0;
                }
                .text-card-title {
                    font-size: 1.1rem;
                    font-weight: 700;
                    color: #1e293b;
                    margin: 0 0 8px 0;
                    line-height: 1.4;
                    overflow-wrap: anywhere;
                    word-break: break-word;
                }
                .text-card-meta {
                    font-size: 0.8rem;
                    color: #94a3b8;
                }
                .text-card-body {
                    padding: 20px;
                }
                .text-card-preview {
                    font-size: 0.9rem;
                    color: #64748b;
                    line-height: 1.6;
                    display: -webkit-box;
                    -webkit-line-clamp: 3;
                    -webkit-box-orient: vertical;
                    overflow: hidden;
                }
                .delete-btn {
                    background: none;
                    border: none;
                    color: #94a3b8;
                    cursor: pointer;
                    width: 32px;
                    height: 32px;
                    display: inline-flex;
                    align-items: center;
                    justify-content: center;
                    padding: 0;
                    font-size: 1rem;
                    border-radius: 6px;
                    transition: all 0.2s;
                    flex-shrink: 0;
                    position: relative;
                    z-index: 1;
                }
                .delete-btn:hover {
                    background: #fee2e2;
                    color: #dc2626;
                }
                .empty-state {
                    text-align: center;
                    padding: 60px 20px;
                    background: white;
                    border-radius: 16px;
                    border: 2px dashed #e2e8f0;
                }
                .empty-icon {
                    font-size: 4rem;
                    margin-bottom: 16px;
                }
                .empty-title {
                    font-size: 1.25rem;
                    color: #475569;
                    margin: 0 0 8px 0;
                }
                .empty-desc {
                    color: #94a3b8;
                    margin: 0;
                }
                .loading-state {
                    text-align: center;
                    padding: 60px;
                    color: #64748b;
                }
                
                /* Import Modal */
                .modal-overlay {
                    position: fixed;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: rgba(0,0,0,0.5);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 1000;
                    padding: 20px;
                }
                .modal-content {
                    background: white;
                    border-radius: 16px;
                    width: 100%;
                    max-width: 600px;
                    max-height: 80vh;
                    overflow: hidden;
                    display: flex;
                    flex-direction: column;
                    animation: modalIn 0.2s ease-out;
                }
                @keyframes modalIn {
                    from { opacity: 0; transform: scale(0.95); }
                    to { opacity: 1; transform: scale(1); }
                }
                .modal-header {
                    padding: 20px 24px;
                    border-bottom: 1px solid #e2e8f0;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                }
                .modal-header h2 {
                    margin: 0;
                    font-size: 1.25rem;
                    color: #1e293b;
                }
                .modal-close {
                    background: none;
                    border: none;
                    font-size: 1.5rem;
                    cursor: pointer;
                    color: #94a3b8;
                    padding: 4px;
                }
                .modal-close:hover {
                    color: #475569;
                }
                .modal-body {
                    padding: 24px;
                    overflow-y: auto;
                    display: flex;
                    flex-direction: column;
                    gap: 20px;
                }
                .form-group label {
                    display: block;
                    margin-bottom: 8px;
                    font-weight: 600;
                    color: #374151;
                }
                .form-group input,
                .form-group textarea {
                    width: 100%;
                    padding: 12px 16px;
                    border: 2px solid #e5e7eb;
                    border-radius: 10px;
                    font-size: 1rem;
                    transition: border-color 0.2s;
                    box-sizing: border-box;
                    font-family: inherit;
                }
                .form-group input:focus,
                .form-group textarea:focus {
                    outline: none;
                    border-color: #667eea;
                }
                .form-group textarea {
                    min-height: 200px;
                    resize: vertical;
                }
                .modal-footer {
                    padding: 16px 24px;
                    border-top: 1px solid #e2e8f0;
                    display: flex;
                    justify-content: flex-end;
                    gap: 12px;
                }
                .modal-btn {
                    padding: 10px 20px;
                    border-radius: 8px;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.2s;
                }
                .modal-btn.cancel {
                    background: #f1f5f9;
                    border: none;
                    color: #64748b;
                }
                .modal-btn.cancel:hover {
                    background: #e2e8f0;
                }
                .modal-btn.submit {
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    border: none;
                    color: white;
                }
                .modal-btn.submit:hover:not(:disabled) {
                    transform: translateY(-1px);
                    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
                }
                .modal-btn.submit:disabled {
                    opacity: 0.6;
                    cursor: not-allowed;
                }
                .import-tabs {
                    display: flex;
                    gap: 16px;
                    margin-bottom: 20px;
                    border-bottom: 1px solid #e2e8f0;
                    padding-bottom: 12px;
                }
                .import-tab {
                    padding: 8px 16px;
                    border-radius: 8px;
                    cursor: pointer;
                    font-weight: 600;
                    color: #64748b;
                    transition: all 0.2s;
                    background: none;
                    border: none;
                }
                .import-tab.active {
                    background: #eff6ff;
                    color: #667eea;
                }
                .import-tab:hover:not(.active) {
                    background: #f8fafc;
                }
                .file-upload-area {
                    border: 2px dashed #cbd5e1;
                    border-radius: 12px;
                    padding: 40px;
                    text-align: center;
                    cursor: pointer;
                    transition: all 0.2s;
                    position: relative;
                }
                .file-upload-area:hover {
                    border-color: #667eea;
                    background: #f8fafc;
                }
                .file-input {
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    opacity: 0;
                    cursor: pointer;
                }
            `}),g.jsxs("header",{className:"library-header",children:[g.jsxs("div",{className:"library-brand",children:[g.jsx("span",{className:"library-brand-icon",children:""}),g.jsx("span",{className:"library-brand-text",children:"AI Reading Co-pilot"})]}),g.jsxs("div",{className:"library-user",children:[g.jsxs("div",{className:"credits-display",children:[g.jsx("span",{className:"credits-icon",children:""}),g.jsxs("span",{className:"credits-value",children:[(o==null?void 0:o.credits)??0," "]}),g.jsx("button",{className:"recharge-btn",onClick:async()=>{M(!0);try{await u()}catch(q){alert(": "+q.message)}finally{M(!1)}},disabled:T,children:T?"...":"+"})]}),g.jsx("span",{className:"library-user-email",children:o==null?void 0:o.email}),g.jsx("button",{className:"logout-btn",onClick:i,children:""})]})]}),g.jsxs("main",{className:"library-content",children:[g.jsxs("div",{className:"demo-card",children:[g.jsxs("div",{className:"demo-card-info",children:[g.jsx("h3",{children:" "}),g.jsx("p",{children:""})]}),g.jsx("button",{className:"demo-btn",onClick:()=>je("/reader"),children:""})]}),g.jsxs("div",{className:"library-title-row",children:[g.jsx("h1",{className:"library-title",children:" "}),g.jsx("div",{className:"library-actions",children:g.jsx("button",{className:"action-btn primary",onClick:()=>{console.log("Import button clicked!"),m(!0)},style:{position:"relative",zIndex:100},children:" "})})]}),g.jsxs("div",{style:{marginBottom:20,padding:"12px 16px",borderRadius:12,background:"#fffbeb",border:"1px solid #fde68a",display:"flex",alignItems:"center",justifyContent:"space-between",gap:16,flexWrap:"wrap"},children:[g.jsxs("div",{children:[g.jsx("div",{style:{fontWeight:700,color:"#92400e",marginBottom:4},children:" "}),g.jsx("div",{style:{fontSize:"0.86rem",color:"#b45309"},children:" AI  token "})]}),g.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:8,cursor:"pointer",color:"#78350f",fontWeight:600},children:[g.jsx("input",{type:"checkbox",checked:ve,onChange:Ie}),ve?"":""]})]}),p?g.jsx("div",{className:"loading-state",children:g.jsx("p",{children:"..."})}):c.length===0?g.jsxs("div",{className:"empty-state",children:[g.jsx("div",{className:"empty-icon",children:""}),g.jsx("h3",{className:"empty-title",children:""}),g.jsx("p",{className:"empty-desc",children:'""'})]}):g.jsx("div",{className:"texts-grid",children:c.map(q=>g.jsxs("div",{className:"text-card",onClick:()=>je(`/reader/${q.id}`),children:[g.jsxs("div",{className:"text-card-header",children:[g.jsxs("div",{className:"text-card-info",children:[g.jsx("h3",{className:"text-card-title",children:q.title}),g.jsxs("div",{className:"text-card-meta",children:[" ",new Date(q.updated_at).toLocaleDateString("zh-CN")]})]}),g.jsx("button",{className:"delete-btn",onClick:$=>$e($,q.id),title:"",children:""})]}),g.jsx("div",{className:"text-card-body",children:g.jsx("p",{className:"text-card-preview",children:q.content})})]},q.id))})]})]}),y&&g.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:99999,padding:20},onClick:()=>m(!1),children:g.jsxs("div",{style:{background:"white",borderRadius:16,width:"100%",maxWidth:600,maxHeight:"80vh",overflow:"hidden",display:"flex",flexDirection:"column"},onClick:q=>q.stopPropagation(),children:[g.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsx("h2",{style:{margin:0,fontSize:"1.25rem",color:"#1e293b"},children:" "}),g.jsx("button",{style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#94a3b8",padding:4},onClick:()=>m(!1),children:""})]}),g.jsxs("div",{style:{padding:24,overflowY:"auto",display:"flex",flexDirection:"column",gap:20},children:[g.jsxs("div",{className:"import-tabs",children:[g.jsx("button",{className:`import-tab ${D==="text"?"active":""}`,onClick:()=>ge("text"),children:" "}),g.jsx("button",{className:`import-tab ${D==="pdf"?"active":""}`,onClick:()=>ge("pdf"),children:" PDF "}),g.jsx("button",{className:`import-tab ${D==="epub"?"active":""}`,onClick:()=>ge("epub"),children:" EPUB "})]}),D==="text"?g.jsxs(g.Fragment,{children:[g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:600,color:"#374151"},children:""}),g.jsx("input",{type:"text",placeholder:"The Great Gatsby - Chapter 1",value:v,onChange:q=>C(q.target.value),style:{width:"100%",padding:"12px 16px",border:"2px solid #e5e7eb",borderRadius:10,fontSize:"1rem",boxSizing:"border-box"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:600,color:"#374151"},children:""}),g.jsx("textarea",{placeholder:"...",value:k,onChange:q=>P(q.target.value),style:{width:"100%",padding:"12px 16px",border:"2px solid #e5e7eb",borderRadius:10,fontSize:"1rem",minHeight:200,resize:"vertical",boxSizing:"border-box",fontFamily:"inherit"}})]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"file-upload-area",children:[g.jsx("input",{type:"file",className:"file-input",accept:D==="pdf"?".pdf":".epub",onChange:q=>Q(q.target.files[0])}),g.jsxs("div",{style:{pointerEvents:"none"},children:[g.jsx("div",{style:{fontSize:"2rem",marginBottom:12},children:D==="pdf"?"":""}),V?g.jsxs("div",{children:[g.jsx("div",{style:{fontWeight:600,color:"#1e293b"},children:V.name}),g.jsxs("div",{style:{color:"#64748b",fontSize:"0.9rem"},children:[(V.size/1024/1024).toFixed(2)," MB"]})]}):g.jsxs("div",{children:[g.jsx("div",{style:{fontWeight:600,color:"#1e293b"},children:D==="pdf"?" PDF ":" EPUB "}),g.jsx("div",{style:{color:"#94a3b8",fontSize:"0.9rem",marginTop:4},children:D==="pdf"?" PDF ( 10MB)":" EPUB ( 20MB)"})]})]})]}),D==="pdf"?g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{display:"flex",gap:12,alignItems:"flex-end"},children:[g.jsxs("div",{style:{flex:1},children:[g.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:600,color:"#374151"},children:""}),g.jsx("input",{type:"number",min:"1",step:"1",placeholder:" 5",value:te,onChange:q=>ie(q.target.value),style:{width:"100%",padding:"10px 12px",border:"2px solid #e5e7eb",borderRadius:10,fontSize:"0.95rem",boxSizing:"border-box"}})]}),g.jsxs("div",{style:{flex:1},children:[g.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:600,color:"#374151"},children:""}),g.jsx("input",{type:"number",min:"1",step:"1",placeholder:" 30",value:se,onChange:q=>pe(q.target.value),style:{width:"100%",padding:"10px 12px",border:"2px solid #e5e7eb",borderRadius:10,fontSize:"0.95rem",boxSizing:"border-box"}})]})]}),g.jsx("div",{style:{fontSize:"0.85rem",color:"#64748b"},children:""})]}):g.jsx("div",{style:{fontSize:"0.85rem",color:"#64748b"},children:" EPUB "})]})]}),g.jsxs("div",{style:{padding:"16px 24px",borderTop:"1px solid #e2e8f0",display:"flex",justifyContent:"flex-end",gap:12},children:[g.jsx("button",{onClick:()=>m(!1),style:{padding:"10px 20px",borderRadius:8,fontWeight:600,cursor:"pointer",background:"#f1f5f9",border:"none",color:"#64748b"},children:""}),g.jsx("button",{onClick:me,disabled:b,style:{padding:"10px 20px",borderRadius:8,fontWeight:600,cursor:b?"not-allowed":"pointer",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",color:"white",opacity:b?.6:1},children:b?"...":""})]})]})})]})}const ng="modulepreload",rg=function(l){return"/"+l},md={},Pi=function(i,o,u){let c=Promise.resolve();if(o&&o.length>0){let p=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),y=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));c=p(o.map(m=>{if(m=rg(m),m in md)return;md[m]=!0;const v=m.endsWith(".css"),C=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${C}`))return;const k=document.createElement("link");if(k.rel=v?"stylesheet":ng,v||(k.as="script"),k.crossOrigin="",k.href=m,y&&k.setAttribute("nonce",y),document.head.appendChild(k),v)return new Promise((P,b)=>{k.addEventListener("load",P),k.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${m}`)))})}))}function d(p){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=p,window.dispatchEvent(h),!h.defaultPrevented)throw p}return c.then(p=>{for(const h of p||[])h.status==="rejected"&&d(h.reason);return i().catch(d)})};function lg({onImport:l}){const{mode:i,level:o,vocabLevel:u,switchMode:c,changeLevel:d,changeVocabLevel:p,LEVEL_DESCS:h}=ur(),y=ll(),m=()=>i==="flow"?"Flow":"Learn",v=()=>"Lv"+o,C={display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",border:"1px solid rgba(0, 0, 0, 0.08)",borderRadius:"10px",cursor:"pointer",fontSize:"0.9rem",fontWeight:600,color:"#555",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08)",transition:"all 0.2s"};return g.jsxs("div",{className:"floating-controls",children:[g.jsxs("button",{style:C,onClick:()=>y("/library"),onMouseOver:k=>{k.currentTarget.style.background="#667eea",k.currentTarget.style.color="white"},onMouseOut:k=>{k.currentTarget.style.background="rgba(255, 255, 255, 0.95)",k.currentTarget.style.color="#555"},children:[g.jsx("span",{children:""}),g.jsx("span",{children:""})]}),g.jsxs("div",{className:"control-collapsed-view",id:"collapsedLabel",children:[m(),"  ",v(),"  ",u]}),g.jsxs("div",{className:"control-expanded-content",children:[g.jsxs("div",{className:"control-inner",children:[g.jsxs("div",{className:"mode-switcher compact",children:[g.jsx("button",{className:`mode-btn ${i==="flow"?"active":""}`,onClick:()=>c("flow"),children:"Flow"}),g.jsx("button",{className:`mode-btn ${i==="learn"?"active":""}`,onClick:()=>c("learn"),children:"Learn"})]}),g.jsx("button",{className:"import-btn",onClick:l,title:"Import Content",children:""}),g.jsxs("div",{className:"level-capsule small","data-active":o,children:[g.jsx("div",{className:"capsule-indicator"}),g.jsx("button",{className:`capsule-btn ${o===1?"active-text":""}`,onClick:()=>d(1),children:"1"}),g.jsx("button",{className:`capsule-btn ${o===2?"active-text":""}`,onClick:()=>d(2),children:"2"}),g.jsx("button",{className:`capsule-btn ${o===3?"active-text":""}`,onClick:()=>d(3),children:"3"})]}),g.jsxs("select",{className:"vocab-select",value:u,onChange:k=>p(k.target.value),style:{padding:"6px 10px",borderRadius:"8px",border:"1px solid #E0E0E0",background:"#F0F2F5",fontWeight:600,cursor:"pointer"},children:[g.jsx("option",{value:"A1",children:"A1"}),g.jsx("option",{value:"A2",children:"A2"}),g.jsx("option",{value:"B1",children:"B1"}),g.jsx("option",{value:"B2",children:"B2"}),g.jsx("option",{value:"C1",children:"C1"}),g.jsx("option",{value:"C2",children:"C2"})]})]}),g.jsx("div",{className:"level-info",style:{textAlign:"right",paddingRight:"5px"},children:h[o-1]})]})]})}const ig=/[^.!?\n]+[.!?]+(?:["')\]]+)?|[^.!?\n]+$/g;function og(l){const i=String(l||"").replace(/\r\n/g,`
`);if(!i.trim())return[];const o=i.split(/\n+/).map(u=>u.trim()).filter(Boolean);if(o.length===0)return[];if(typeof Intl<"u"&&typeof Intl.Segmenter=="function")try{const u=new Intl.Segmenter("en",{granularity:"sentence"}),c=o.flatMap(d=>Array.from(u.segment(d),({segment:p})=>p.trim()).filter(Boolean));if(c.length>0)return c}catch{}return o.flatMap(u=>{const c=u.match(ig);return!c||c.length===0?[u]:c.map(d=>d.trim()).filter(Boolean)})}function ag({text:l,activePoints:i,mode:o,level:u,paragraphId:c,activeSentenceId:d,sentenceContents:p=null}){const[h,y]=S.useState({}),m=S.useCallback((P,b)=>{let z="";if(o==="flow"){let T="";u===1?T=P.def.split("")[0]:u===2?T=h[P.key]?P.def.split("")[0]:P.clue||"Hint?":T=P.clue||"Hint?",z=`<span class="smart-word has-card${u===2?" interactive-word":""}" data-key="${P.key}">${b}<div class="peek-tooltip">${T}</div></span>`}else u===1?z=`<span class="smart-word has-card" data-key="${P.key}">${b}<span class="inline-def-tag"> ${P.def.split("")[0]}</span></span>`:u===2?z=`<span class="smart-word has-card" data-key="${P.key}">${b}<div class="peek-tooltip">${P.def.split("")[0]}</div></span>`:z=`<span class="smart-word has-card" data-key="${P.key}">${b}</span>`;return z},[o,u,h]),v=S.useCallback(P=>{let b=P||"";return!i||i.length===0||[...i].sort((T,M)=>M.word.length-T.word.length).forEach(T=>{let M=!1;if(T.context&&!M){const D=T.context.split(/\s+/);if(T.word.includes(" ")){const A=T.context.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),V=new RegExp(`(${A})`,"gi");V.test(b)&&(b=b.replace(V,m(T,"$1")),M=!0)}else{const A=T.word.toLowerCase();for(const V of D){const Q=V.replace(/[.,!?;:'"]/g,"").toLowerCase(),te=A.replace(/e$/,"");if(Q.startsWith(te)||Q.startsWith(A)){const ie=V.replace(/[.,!?;:'"]/g,"").replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),se=new RegExp(`\\b(${ie})\\b`,"gi");if(se.test(b)){b=b.replace(se,m(T,"$1")),M=!0;break}}}}}if(!M){const D=T.word.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(T.word.includes(" ")){const A=T.word.split(" ").map(ie=>ie.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),V=A[A.length-1],Q=A.slice(0,-1).join("\\s+")+"\\s+"+V+"(?:s|es)?",te=new RegExp(`(${Q})`,"gi");b=b.replace(te,m(T,"$1"))}else{const A=T.word.endsWith("e");let V;A?V=`${D.slice(0,-1)}(?:e|es|ed|ing)`:V=`${D}(?:s|es|ed|ing)?`;const Q=new RegExp(`\\b(${V})\\b`,"gi");b=b.replace(Q,m(T,"$1"))}}}),b},[i,m]),C=S.useMemo(()=>{const P=l||"";if(!P)return"";const b=Array.isArray(p)?p.map(D=>String(D||"").trim()).filter(Boolean):[],z=og(P),T=b.length>0?b:z.length>0?z:[P],M=String(c);return T.map((D,A)=>{const V=`${M}::${A}`,Q=String(d)===V?" active-sentence":"",te=v(D);return`<span class="sentence-unit${Q}" data-sentence-id="${V}" data-paragraph-id="${M}" data-sentence-index="${A}">${te}</span>`}).join(" ")},[l,p,c,d,v]),k=S.useCallback(P=>{if(o!=="flow"||u!==2)return;const b=P.target.closest(".smart-word");if(b){const z=b.dataset.key;z&&(P.preventDefault(),P.stopPropagation(),y(T=>({...T,[z]:!T[z]})))}},[o,u]);return{html:C,handleWordClick:k}}const sg=new Set(["No insight",""]),ug=new Set(["No translation",""]),cg=l=>!!(l!=null&&l.text&&!sg.has(l.text)),dg=l=>!!(l&&!ug.has(l));function fg(l,i,o){if(o<=0)return null;const u=`${String(l)}::`;if(typeof i!="string"||!i.startsWith(u))return 0;const c=Number.parseInt(i.slice(u.length),10);return!Number.isInteger(c)||c<0||c>=o?0:c}function pg(l){const i=(l==null?void 0:l.analysis)||{};return{knowledge:i.knowledge||[],insight:i.insight||{tag:"Analysis",text:"No insight"},translation:(l==null?void 0:l.translation)||"No translation",xray:i.xray||null,companion:i.companion||null}}function hg({id:l,data:i,isActive:o,isInView:u}){const{updateBookData:c,bookData:d,activeSentenceId:p}=ur(),{token:h}=sr(),[y,m]=S.useState(!1),v=S.useRef(null);return S.useEffect(()=>{var ie;const C=qd();if(!Ri||!C)return;const k={...i,...d[l]||{}},P=Array.isArray(k.sentences)?k.sentences:[],b=fg(l,p,P.length),z={id:l,content:k.text,translation:k.translation,analysis:{knowledge:k.knowledge||[],insight:k.insight||{tag:"Analysis",text:"No insight"},xray:k.xray||null,companion:k.companion||null}},T=P.length>0?P[b??0]:z;if(!((ie=T==null?void 0:T.content)!=null&&ie.trim()))return;const M=T.analysis||{},D=(M.knowledge||[]).length>0,A=cg(M.insight),V=dg(T.translation),Q=T.id;Q!=null&&String(v.current)!==String(Q)&&(c(l,{...pg(T),sentences:P}),v.current=Q),(o||u)&&!y&&(!D||!A||!V)&&(console.log(`[Paragraph ${l}] Triggering analysis for sentence ${Q}... Missing:`,{hasKnowledge:D,hasInsight:A,hasTranslation:V}),(async()=>{m(!0);try{const{aiService:pe}=await Pi(async()=>{const{aiService:me}=await Promise.resolve().then(()=>ji);return{aiService:me}},[]),ve=T.content;console.log(`[Paragraph ${l}] Analyzing sentence ${Q}...`);const fe=await pe.analyzeSentence(ve);console.log(`[Paragraph ${l}] Sentence ${Q} analysis success.`);const je=P.length>0?P.map(me=>String(me.id)!==String(Q)?me:{...me,translation:fe.translation||me.translation||"No translation",analysis:{knowledge:fe.knowledge||[],insight:fe.insight||{tag:"Analysis",text:"No insight"},xray:fe.xray||null,companion:fe.companion||null}}):P;if(c(l,{knowledge:fe.knowledge||[],insight:fe.insight||{tag:"Analysis",text:"No insight"},translation:fe.translation||"No translation",xray:fe.xray||null,companion:fe.companion||null,sentences:je}),Q!=null&&(v.current=Q),h&&typeof Q=="number")try{await Fe.updateSentence(h,Q,{translation:fe.translation,analysis:{knowledge:fe.knowledge||[],insight:fe.insight,xray:fe.xray,companion:fe.companion||null}})}catch(me){console.error(`[Paragraph ${l}] Failed to persist analysis:`,me)}}catch(pe){console.error(`[Paragraph ${l}] Analysis failed:`,pe)}finally{m(!1)}})())},[o,u,p,d,i,l,y,c,h]),{isAnalyzing:y}}function Za(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var In=Za();function Gd(l){In=l}var el={exec:()=>null};function xe(l,i=""){let o=typeof l=="string"?l:l.source;const u={replace:(c,d)=>{let p=typeof d=="string"?d:d.source;return p=p.replace(tt.caret,"$1"),o=o.replace(c,p),u},getRegex:()=>new RegExp(o,i)};return u}var tt={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:l=>new RegExp(`^( {0,3}${l})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}#`),htmlBeginRegex:l=>new RegExp(`^ {0,${Math.min(3,l-1)}}<(?:[a-z].*>|!--)`,"i")},mg=/^(?:[ \t]*(?:\n|$))+/,gg=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,yg=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ol=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,vg=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Ja=/(?:[*+-]|\d{1,9}[.)])/,Xd=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Zd=xe(Xd).replace(/bull/g,Ja).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),xg=xe(Xd).replace(/bull/g,Ja).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),es=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,wg=/^[^\n]+/,ts=/(?!\s*\])(?:\\.|[^\[\]\\])+/,kg=xe(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",ts).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Sg=xe(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ja).getRegex(),zi="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ns=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Eg=xe("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",ns).replace("tag",zi).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Jd=xe(es).replace("hr",ol).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zi).getRegex(),Cg=xe(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Jd).getRegex(),rs={blockquote:Cg,code:gg,def:kg,fences:yg,heading:vg,hr:ol,html:Eg,lheading:Zd,list:Sg,newline:mg,paragraph:Jd,table:el,text:wg},gd=xe("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ol).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zi).getRegex(),_g={...rs,lheading:xg,table:gd,paragraph:xe(es).replace("hr",ol).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",gd).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zi).getRegex()},Rg={...rs,html:xe(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ns).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:el,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:xe(es).replace("hr",ol).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Zd).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Pg=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ng=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,ef=/^( {2,}|\\)\n(?!\s*$)/,bg=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Ai=/[\p{P}\p{S}]/u,ls=/[\s\p{P}\p{S}]/u,tf=/[^\s\p{P}\p{S}]/u,Tg=xe(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,ls).getRegex(),nf=/(?!~)[\p{P}\p{S}]/u,jg=/(?!~)[\s\p{P}\p{S}]/u,Ig=/(?:[^\s\p{P}\p{S}]|~)/u,Lg=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,rf=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,zg=xe(rf,"u").replace(/punct/g,Ai).getRegex(),Ag=xe(rf,"u").replace(/punct/g,nf).getRegex(),lf="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",$g=xe(lf,"gu").replace(/notPunctSpace/g,tf).replace(/punctSpace/g,ls).replace(/punct/g,Ai).getRegex(),Og=xe(lf,"gu").replace(/notPunctSpace/g,Ig).replace(/punctSpace/g,jg).replace(/punct/g,nf).getRegex(),Mg=xe("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,tf).replace(/punctSpace/g,ls).replace(/punct/g,Ai).getRegex(),Dg=xe(/\\(punct)/,"gu").replace(/punct/g,Ai).getRegex(),Fg=xe(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Bg=xe(ns).replace("(?:-->|$)","-->").getRegex(),Ug=xe("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Bg).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ni=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Wg=xe(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Ni).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),of=xe(/^!?\[(label)\]\[(ref)\]/).replace("label",Ni).replace("ref",ts).getRegex(),af=xe(/^!?\[(ref)\](?:\[\])?/).replace("ref",ts).getRegex(),Hg=xe("reflink|nolink(?!\\()","g").replace("reflink",of).replace("nolink",af).getRegex(),is={_backpedal:el,anyPunctuation:Dg,autolink:Fg,blockSkip:Lg,br:ef,code:Ng,del:el,emStrongLDelim:zg,emStrongRDelimAst:$g,emStrongRDelimUnd:Mg,escape:Pg,link:Wg,nolink:af,punctuation:Tg,reflink:of,reflinkSearch:Hg,tag:Ug,text:bg,url:el},Vg={...is,link:xe(/^!?\[(label)\]\((.*?)\)/).replace("label",Ni).getRegex(),reflink:xe(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ni).getRegex()},Ba={...is,emStrongRDelimAst:Og,emStrongLDelim:Ag,url:xe(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Qg={...Ba,br:xe(ef).replace("{2,}","*").getRegex(),text:xe(Ba.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},yi={normal:rs,gfm:_g,pedantic:Rg},Zr={normal:is,gfm:Ba,breaks:Qg,pedantic:Vg},Kg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yd=l=>Kg[l];function $t(l,i){if(i){if(tt.escapeTest.test(l))return l.replace(tt.escapeReplace,yd)}else if(tt.escapeTestNoEncode.test(l))return l.replace(tt.escapeReplaceNoEncode,yd);return l}function vd(l){try{l=encodeURI(l).replace(tt.percentDecode,"%")}catch{return null}return l}function xd(l,i){var d;const o=l.replace(tt.findPipe,(p,h,y)=>{let m=!1,v=h;for(;--v>=0&&y[v]==="\\";)m=!m;return m?"|":" |"}),u=o.split(tt.splitPipe);let c=0;if(u[0].trim()||u.shift(),u.length>0&&!((d=u.at(-1))!=null&&d.trim())&&u.pop(),i)if(u.length>i)u.splice(i);else for(;u.length<i;)u.push("");for(;c<u.length;c++)u[c]=u[c].trim().replace(tt.slashPipe,"|");return u}function Jr(l,i,o){const u=l.length;if(u===0)return"";let c=0;for(;c<u&&l.charAt(u-c-1)===i;)c++;return l.slice(0,u-c)}function Yg(l,i){if(l.indexOf(i[1])===-1)return-1;let o=0;for(let u=0;u<l.length;u++)if(l[u]==="\\")u++;else if(l[u]===i[0])o++;else if(l[u]===i[1]&&(o--,o<0))return u;return o>0?-2:-1}function wd(l,i,o,u,c){const d=i.href,p=i.title||null,h=l[1].replace(c.other.outputLinkReplace,"$1");u.state.inLink=!0;const y={type:l[0].charAt(0)==="!"?"image":"link",raw:o,href:d,title:p,text:h,tokens:u.inlineTokens(h)};return u.state.inLink=!1,y}function qg(l,i,o){const u=l.match(o.other.indentCodeCompensation);if(u===null)return i;const c=u[1];return i.split(`
`).map(d=>{const p=d.match(o.other.beginningSpace);if(p===null)return d;const[h]=p;return h.length>=c.length?d.slice(c.length):d}).join(`
`)}var bi=class{constructor(l){Se(this,"options");Se(this,"rules");Se(this,"lexer");this.options=l||In}space(l){const i=this.rules.block.newline.exec(l);if(i&&i[0].length>0)return{type:"space",raw:i[0]}}code(l){const i=this.rules.block.code.exec(l);if(i){const o=i[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?o:Jr(o,`
`)}}}fences(l){const i=this.rules.block.fences.exec(l);if(i){const o=i[0],u=qg(o,i[3]||"",this.rules);return{type:"code",raw:o,lang:i[2]?i[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):i[2],text:u}}}heading(l){const i=this.rules.block.heading.exec(l);if(i){let o=i[2].trim();if(this.rules.other.endingHash.test(o)){const u=Jr(o,"#");(this.options.pedantic||!u||this.rules.other.endingSpaceChar.test(u))&&(o=u.trim())}return{type:"heading",raw:i[0],depth:i[1].length,text:o,tokens:this.lexer.inline(o)}}}hr(l){const i=this.rules.block.hr.exec(l);if(i)return{type:"hr",raw:Jr(i[0],`
`)}}blockquote(l){const i=this.rules.block.blockquote.exec(l);if(i){let o=Jr(i[0],`
`).split(`
`),u="",c="";const d=[];for(;o.length>0;){let p=!1;const h=[];let y;for(y=0;y<o.length;y++)if(this.rules.other.blockquoteStart.test(o[y]))h.push(o[y]),p=!0;else if(!p)h.push(o[y]);else break;o=o.slice(y);const m=h.join(`
`),v=m.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");u=u?`${u}
${m}`:m,c=c?`${c}
${v}`:v;const C=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(v,d,!0),this.lexer.state.top=C,o.length===0)break;const k=d.at(-1);if((k==null?void 0:k.type)==="code")break;if((k==null?void 0:k.type)==="blockquote"){const P=k,b=P.raw+`
`+o.join(`
`),z=this.blockquote(b);d[d.length-1]=z,u=u.substring(0,u.length-P.raw.length)+z.raw,c=c.substring(0,c.length-P.text.length)+z.text;break}else if((k==null?void 0:k.type)==="list"){const P=k,b=P.raw+`
`+o.join(`
`),z=this.list(b);d[d.length-1]=z,u=u.substring(0,u.length-k.raw.length)+z.raw,c=c.substring(0,c.length-P.raw.length)+z.raw,o=b.substring(d.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:u,tokens:d,text:c}}}list(l){let i=this.rules.block.list.exec(l);if(i){let o=i[1].trim();const u=o.length>1,c={type:"list",raw:"",ordered:u,start:u?+o.slice(0,-1):"",loose:!1,items:[]};o=u?`\\d{1,9}\\${o.slice(-1)}`:`\\${o}`,this.options.pedantic&&(o=u?o:"[*+-]");const d=this.rules.other.listItemRegex(o);let p=!1;for(;l;){let y=!1,m="",v="";if(!(i=d.exec(l))||this.rules.block.hr.test(l))break;m=i[0],l=l.substring(m.length);let C=i[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,M=>" ".repeat(3*M.length)),k=l.split(`
`,1)[0],P=!C.trim(),b=0;if(this.options.pedantic?(b=2,v=C.trimStart()):P?b=i[1].length+1:(b=i[2].search(this.rules.other.nonSpaceChar),b=b>4?1:b,v=C.slice(b),b+=i[1].length),P&&this.rules.other.blankLine.test(k)&&(m+=k+`
`,l=l.substring(k.length+1),y=!0),!y){const M=this.rules.other.nextBulletRegex(b),D=this.rules.other.hrRegex(b),A=this.rules.other.fencesBeginRegex(b),V=this.rules.other.headingBeginRegex(b),Q=this.rules.other.htmlBeginRegex(b);for(;l;){const te=l.split(`
`,1)[0];let ie;if(k=te,this.options.pedantic?(k=k.replace(this.rules.other.listReplaceNesting,"  "),ie=k):ie=k.replace(this.rules.other.tabCharGlobal,"    "),A.test(k)||V.test(k)||Q.test(k)||M.test(k)||D.test(k))break;if(ie.search(this.rules.other.nonSpaceChar)>=b||!k.trim())v+=`
`+ie.slice(b);else{if(P||C.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||A.test(C)||V.test(C)||D.test(C))break;v+=`
`+k}!P&&!k.trim()&&(P=!0),m+=te+`
`,l=l.substring(te.length+1),C=ie.slice(b)}}c.loose||(p?c.loose=!0:this.rules.other.doubleBlankLine.test(m)&&(p=!0));let z=null,T;this.options.gfm&&(z=this.rules.other.listIsTask.exec(v),z&&(T=z[0]!=="[ ] ",v=v.replace(this.rules.other.listReplaceTask,""))),c.items.push({type:"list_item",raw:m,task:!!z,checked:T,loose:!1,text:v,tokens:[]}),c.raw+=m}const h=c.items.at(-1);if(h)h.raw=h.raw.trimEnd(),h.text=h.text.trimEnd();else return;c.raw=c.raw.trimEnd();for(let y=0;y<c.items.length;y++)if(this.lexer.state.top=!1,c.items[y].tokens=this.lexer.blockTokens(c.items[y].text,[]),!c.loose){const m=c.items[y].tokens.filter(C=>C.type==="space"),v=m.length>0&&m.some(C=>this.rules.other.anyLine.test(C.raw));c.loose=v}if(c.loose)for(let y=0;y<c.items.length;y++)c.items[y].loose=!0;return c}}html(l){const i=this.rules.block.html.exec(l);if(i)return{type:"html",block:!0,raw:i[0],pre:i[1]==="pre"||i[1]==="script"||i[1]==="style",text:i[0]}}def(l){const i=this.rules.block.def.exec(l);if(i){const o=i[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),u=i[2]?i[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",c=i[3]?i[3].substring(1,i[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):i[3];return{type:"def",tag:o,raw:i[0],href:u,title:c}}}table(l){var p;const i=this.rules.block.table.exec(l);if(!i||!this.rules.other.tableDelimiter.test(i[2]))return;const o=xd(i[1]),u=i[2].replace(this.rules.other.tableAlignChars,"").split("|"),c=(p=i[3])!=null&&p.trim()?i[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],d={type:"table",raw:i[0],header:[],align:[],rows:[]};if(o.length===u.length){for(const h of u)this.rules.other.tableAlignRight.test(h)?d.align.push("right"):this.rules.other.tableAlignCenter.test(h)?d.align.push("center"):this.rules.other.tableAlignLeft.test(h)?d.align.push("left"):d.align.push(null);for(let h=0;h<o.length;h++)d.header.push({text:o[h],tokens:this.lexer.inline(o[h]),header:!0,align:d.align[h]});for(const h of c)d.rows.push(xd(h,d.header.length).map((y,m)=>({text:y,tokens:this.lexer.inline(y),header:!1,align:d.align[m]})));return d}}lheading(l){const i=this.rules.block.lheading.exec(l);if(i)return{type:"heading",raw:i[0],depth:i[2].charAt(0)==="="?1:2,text:i[1],tokens:this.lexer.inline(i[1])}}paragraph(l){const i=this.rules.block.paragraph.exec(l);if(i){const o=i[1].charAt(i[1].length-1)===`
`?i[1].slice(0,-1):i[1];return{type:"paragraph",raw:i[0],text:o,tokens:this.lexer.inline(o)}}}text(l){const i=this.rules.block.text.exec(l);if(i)return{type:"text",raw:i[0],text:i[0],tokens:this.lexer.inline(i[0])}}escape(l){const i=this.rules.inline.escape.exec(l);if(i)return{type:"escape",raw:i[0],text:i[1]}}tag(l){const i=this.rules.inline.tag.exec(l);if(i)return!this.lexer.state.inLink&&this.rules.other.startATag.test(i[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(i[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(i[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(i[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:i[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:i[0]}}link(l){const i=this.rules.inline.link.exec(l);if(i){const o=i[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(o)){if(!this.rules.other.endAngleBracket.test(o))return;const d=Jr(o.slice(0,-1),"\\");if((o.length-d.length)%2===0)return}else{const d=Yg(i[2],"()");if(d===-2)return;if(d>-1){const h=(i[0].indexOf("!")===0?5:4)+i[1].length+d;i[2]=i[2].substring(0,d),i[0]=i[0].substring(0,h).trim(),i[3]=""}}let u=i[2],c="";if(this.options.pedantic){const d=this.rules.other.pedanticHrefTitle.exec(u);d&&(u=d[1],c=d[3])}else c=i[3]?i[3].slice(1,-1):"";return u=u.trim(),this.rules.other.startAngleBracket.test(u)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(o)?u=u.slice(1):u=u.slice(1,-1)),wd(i,{href:u&&u.replace(this.rules.inline.anyPunctuation,"$1"),title:c&&c.replace(this.rules.inline.anyPunctuation,"$1")},i[0],this.lexer,this.rules)}}reflink(l,i){let o;if((o=this.rules.inline.reflink.exec(l))||(o=this.rules.inline.nolink.exec(l))){const u=(o[2]||o[1]).replace(this.rules.other.multipleSpaceGlobal," "),c=i[u.toLowerCase()];if(!c){const d=o[0].charAt(0);return{type:"text",raw:d,text:d}}return wd(o,c,o[0],this.lexer,this.rules)}}emStrong(l,i,o=""){let u=this.rules.inline.emStrongLDelim.exec(l);if(!u||u[3]&&o.match(this.rules.other.unicodeAlphaNumeric))return;if(!(u[1]||u[2]||"")||!o||this.rules.inline.punctuation.exec(o)){const d=[...u[0]].length-1;let p,h,y=d,m=0;const v=u[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(v.lastIndex=0,i=i.slice(-1*l.length+d);(u=v.exec(i))!=null;){if(p=u[1]||u[2]||u[3]||u[4]||u[5]||u[6],!p)continue;if(h=[...p].length,u[3]||u[4]){y+=h;continue}else if((u[5]||u[6])&&d%3&&!((d+h)%3)){m+=h;continue}if(y-=h,y>0)continue;h=Math.min(h,h+y+m);const C=[...u[0]][0].length,k=l.slice(0,d+u.index+C+h);if(Math.min(d,h)%2){const b=k.slice(1,-1);return{type:"em",raw:k,text:b,tokens:this.lexer.inlineTokens(b)}}const P=k.slice(2,-2);return{type:"strong",raw:k,text:P,tokens:this.lexer.inlineTokens(P)}}}}codespan(l){const i=this.rules.inline.code.exec(l);if(i){let o=i[2].replace(this.rules.other.newLineCharGlobal," ");const u=this.rules.other.nonSpaceChar.test(o),c=this.rules.other.startingSpaceChar.test(o)&&this.rules.other.endingSpaceChar.test(o);return u&&c&&(o=o.substring(1,o.length-1)),{type:"codespan",raw:i[0],text:o}}}br(l){const i=this.rules.inline.br.exec(l);if(i)return{type:"br",raw:i[0]}}del(l){const i=this.rules.inline.del.exec(l);if(i)return{type:"del",raw:i[0],text:i[2],tokens:this.lexer.inlineTokens(i[2])}}autolink(l){const i=this.rules.inline.autolink.exec(l);if(i){let o,u;return i[2]==="@"?(o=i[1],u="mailto:"+o):(o=i[1],u=o),{type:"link",raw:i[0],text:o,href:u,tokens:[{type:"text",raw:o,text:o}]}}}url(l){var o;let i;if(i=this.rules.inline.url.exec(l)){let u,c;if(i[2]==="@")u=i[0],c="mailto:"+u;else{let d;do d=i[0],i[0]=((o=this.rules.inline._backpedal.exec(i[0]))==null?void 0:o[0])??"";while(d!==i[0]);u=i[0],i[1]==="www."?c="http://"+i[0]:c=i[0]}return{type:"link",raw:i[0],text:u,href:c,tokens:[{type:"text",raw:u,text:u}]}}}inlineText(l){const i=this.rules.inline.text.exec(l);if(i){const o=this.lexer.state.inRawBlock;return{type:"text",raw:i[0],text:i[0],escaped:o}}}},Vt=class Ua{constructor(i){Se(this,"tokens");Se(this,"options");Se(this,"state");Se(this,"tokenizer");Se(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=i||In,this.options.tokenizer=this.options.tokenizer||new bi,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const o={other:tt,block:yi.normal,inline:Zr.normal};this.options.pedantic?(o.block=yi.pedantic,o.inline=Zr.pedantic):this.options.gfm&&(o.block=yi.gfm,this.options.breaks?o.inline=Zr.breaks:o.inline=Zr.gfm),this.tokenizer.rules=o}static get rules(){return{block:yi,inline:Zr}}static lex(i,o){return new Ua(o).lex(i)}static lexInline(i,o){return new Ua(o).inlineTokens(i)}lex(i){i=i.replace(tt.carriageReturn,`
`),this.blockTokens(i,this.tokens);for(let o=0;o<this.inlineQueue.length;o++){const u=this.inlineQueue[o];this.inlineTokens(u.src,u.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(i,o=[],u=!1){var c,d,p;for(this.options.pedantic&&(i=i.replace(tt.tabCharGlobal,"    ").replace(tt.spaceLine,""));i;){let h;if((d=(c=this.options.extensions)==null?void 0:c.block)!=null&&d.some(m=>(h=m.call({lexer:this},i,o))?(i=i.substring(h.raw.length),o.push(h),!0):!1))continue;if(h=this.tokenizer.space(i)){i=i.substring(h.raw.length);const m=o.at(-1);h.raw.length===1&&m!==void 0?m.raw+=`
`:o.push(h);continue}if(h=this.tokenizer.code(i)){i=i.substring(h.raw.length);const m=o.at(-1);(m==null?void 0:m.type)==="paragraph"||(m==null?void 0:m.type)==="text"?(m.raw+=`
`+h.raw,m.text+=`
`+h.text,this.inlineQueue.at(-1).src=m.text):o.push(h);continue}if(h=this.tokenizer.fences(i)){i=i.substring(h.raw.length),o.push(h);continue}if(h=this.tokenizer.heading(i)){i=i.substring(h.raw.length),o.push(h);continue}if(h=this.tokenizer.hr(i)){i=i.substring(h.raw.length),o.push(h);continue}if(h=this.tokenizer.blockquote(i)){i=i.substring(h.raw.length),o.push(h);continue}if(h=this.tokenizer.list(i)){i=i.substring(h.raw.length),o.push(h);continue}if(h=this.tokenizer.html(i)){i=i.substring(h.raw.length),o.push(h);continue}if(h=this.tokenizer.def(i)){i=i.substring(h.raw.length);const m=o.at(-1);(m==null?void 0:m.type)==="paragraph"||(m==null?void 0:m.type)==="text"?(m.raw+=`
`+h.raw,m.text+=`
`+h.raw,this.inlineQueue.at(-1).src=m.text):this.tokens.links[h.tag]||(this.tokens.links[h.tag]={href:h.href,title:h.title});continue}if(h=this.tokenizer.table(i)){i=i.substring(h.raw.length),o.push(h);continue}if(h=this.tokenizer.lheading(i)){i=i.substring(h.raw.length),o.push(h);continue}let y=i;if((p=this.options.extensions)!=null&&p.startBlock){let m=1/0;const v=i.slice(1);let C;this.options.extensions.startBlock.forEach(k=>{C=k.call({lexer:this},v),typeof C=="number"&&C>=0&&(m=Math.min(m,C))}),m<1/0&&m>=0&&(y=i.substring(0,m+1))}if(this.state.top&&(h=this.tokenizer.paragraph(y))){const m=o.at(-1);u&&(m==null?void 0:m.type)==="paragraph"?(m.raw+=`
`+h.raw,m.text+=`
`+h.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=m.text):o.push(h),u=y.length!==i.length,i=i.substring(h.raw.length);continue}if(h=this.tokenizer.text(i)){i=i.substring(h.raw.length);const m=o.at(-1);(m==null?void 0:m.type)==="text"?(m.raw+=`
`+h.raw,m.text+=`
`+h.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=m.text):o.push(h);continue}if(i){const m="Infinite loop on byte: "+i.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return this.state.top=!0,o}inline(i,o=[]){return this.inlineQueue.push({src:i,tokens:o}),o}inlineTokens(i,o=[]){var h,y,m;let u=i,c=null;if(this.tokens.links){const v=Object.keys(this.tokens.links);if(v.length>0)for(;(c=this.tokenizer.rules.inline.reflinkSearch.exec(u))!=null;)v.includes(c[0].slice(c[0].lastIndexOf("[")+1,-1))&&(u=u.slice(0,c.index)+"["+"a".repeat(c[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(c=this.tokenizer.rules.inline.anyPunctuation.exec(u))!=null;)u=u.slice(0,c.index)+"++"+u.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(c=this.tokenizer.rules.inline.blockSkip.exec(u))!=null;)u=u.slice(0,c.index)+"["+"a".repeat(c[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let d=!1,p="";for(;i;){d||(p=""),d=!1;let v;if((y=(h=this.options.extensions)==null?void 0:h.inline)!=null&&y.some(k=>(v=k.call({lexer:this},i,o))?(i=i.substring(v.raw.length),o.push(v),!0):!1))continue;if(v=this.tokenizer.escape(i)){i=i.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.tag(i)){i=i.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.link(i)){i=i.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.reflink(i,this.tokens.links)){i=i.substring(v.raw.length);const k=o.at(-1);v.type==="text"&&(k==null?void 0:k.type)==="text"?(k.raw+=v.raw,k.text+=v.text):o.push(v);continue}if(v=this.tokenizer.emStrong(i,u,p)){i=i.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.codespan(i)){i=i.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.br(i)){i=i.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.del(i)){i=i.substring(v.raw.length),o.push(v);continue}if(v=this.tokenizer.autolink(i)){i=i.substring(v.raw.length),o.push(v);continue}if(!this.state.inLink&&(v=this.tokenizer.url(i))){i=i.substring(v.raw.length),o.push(v);continue}let C=i;if((m=this.options.extensions)!=null&&m.startInline){let k=1/0;const P=i.slice(1);let b;this.options.extensions.startInline.forEach(z=>{b=z.call({lexer:this},P),typeof b=="number"&&b>=0&&(k=Math.min(k,b))}),k<1/0&&k>=0&&(C=i.substring(0,k+1))}if(v=this.tokenizer.inlineText(C)){i=i.substring(v.raw.length),v.raw.slice(-1)!=="_"&&(p=v.raw.slice(-1)),d=!0;const k=o.at(-1);(k==null?void 0:k.type)==="text"?(k.raw+=v.raw,k.text+=v.text):o.push(v);continue}if(i){const k="Infinite loop on byte: "+i.charCodeAt(0);if(this.options.silent){console.error(k);break}else throw new Error(k)}}return o}},Ti=class{constructor(l){Se(this,"options");Se(this,"parser");this.options=l||In}space(l){return""}code({text:l,lang:i,escaped:o}){var d;const u=(d=(i||"").match(tt.notSpaceStart))==null?void 0:d[0],c=l.replace(tt.endingNewline,"")+`
`;return u?'<pre><code class="language-'+$t(u)+'">'+(o?c:$t(c,!0))+`</code></pre>
`:"<pre><code>"+(o?c:$t(c,!0))+`</code></pre>
`}blockquote({tokens:l}){return`<blockquote>
${this.parser.parse(l)}</blockquote>
`}html({text:l}){return l}heading({tokens:l,depth:i}){return`<h${i}>${this.parser.parseInline(l)}</h${i}>
`}hr(l){return`<hr>
`}list(l){const i=l.ordered,o=l.start;let u="";for(let p=0;p<l.items.length;p++){const h=l.items[p];u+=this.listitem(h)}const c=i?"ol":"ul",d=i&&o!==1?' start="'+o+'"':"";return"<"+c+d+`>
`+u+"</"+c+`>
`}listitem(l){var o;let i="";if(l.task){const u=this.checkbox({checked:!!l.checked});l.loose?((o=l.tokens[0])==null?void 0:o.type)==="paragraph"?(l.tokens[0].text=u+" "+l.tokens[0].text,l.tokens[0].tokens&&l.tokens[0].tokens.length>0&&l.tokens[0].tokens[0].type==="text"&&(l.tokens[0].tokens[0].text=u+" "+$t(l.tokens[0].tokens[0].text),l.tokens[0].tokens[0].escaped=!0)):l.tokens.unshift({type:"text",raw:u+" ",text:u+" ",escaped:!0}):i+=u+" "}return i+=this.parser.parse(l.tokens,!!l.loose),`<li>${i}</li>
`}checkbox({checked:l}){return"<input "+(l?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:l}){return`<p>${this.parser.parseInline(l)}</p>
`}table(l){let i="",o="";for(let c=0;c<l.header.length;c++)o+=this.tablecell(l.header[c]);i+=this.tablerow({text:o});let u="";for(let c=0;c<l.rows.length;c++){const d=l.rows[c];o="";for(let p=0;p<d.length;p++)o+=this.tablecell(d[p]);u+=this.tablerow({text:o})}return u&&(u=`<tbody>${u}</tbody>`),`<table>
<thead>
`+i+`</thead>
`+u+`</table>
`}tablerow({text:l}){return`<tr>
${l}</tr>
`}tablecell(l){const i=this.parser.parseInline(l.tokens),o=l.header?"th":"td";return(l.align?`<${o} align="${l.align}">`:`<${o}>`)+i+`</${o}>
`}strong({tokens:l}){return`<strong>${this.parser.parseInline(l)}</strong>`}em({tokens:l}){return`<em>${this.parser.parseInline(l)}</em>`}codespan({text:l}){return`<code>${$t(l,!0)}</code>`}br(l){return"<br>"}del({tokens:l}){return`<del>${this.parser.parseInline(l)}</del>`}link({href:l,title:i,tokens:o}){const u=this.parser.parseInline(o),c=vd(l);if(c===null)return u;l=c;let d='<a href="'+l+'"';return i&&(d+=' title="'+$t(i)+'"'),d+=">"+u+"</a>",d}image({href:l,title:i,text:o,tokens:u}){u&&(o=this.parser.parseInline(u,this.parser.textRenderer));const c=vd(l);if(c===null)return $t(o);l=c;let d=`<img src="${l}" alt="${o}"`;return i&&(d+=` title="${$t(i)}"`),d+=">",d}text(l){return"tokens"in l&&l.tokens?this.parser.parseInline(l.tokens):"escaped"in l&&l.escaped?l.text:$t(l.text)}},os=class{strong({text:l}){return l}em({text:l}){return l}codespan({text:l}){return l}del({text:l}){return l}html({text:l}){return l}text({text:l}){return l}link({text:l}){return""+l}image({text:l}){return""+l}br(){return""}},Qt=class Wa{constructor(i){Se(this,"options");Se(this,"renderer");Se(this,"textRenderer");this.options=i||In,this.options.renderer=this.options.renderer||new Ti,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new os}static parse(i,o){return new Wa(o).parse(i)}static parseInline(i,o){return new Wa(o).parseInline(i)}parse(i,o=!0){var c,d;let u="";for(let p=0;p<i.length;p++){const h=i[p];if((d=(c=this.options.extensions)==null?void 0:c.renderers)!=null&&d[h.type]){const m=h,v=this.options.extensions.renderers[m.type].call({parser:this},m);if(v!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(m.type)){u+=v||"";continue}}const y=h;switch(y.type){case"space":{u+=this.renderer.space(y);continue}case"hr":{u+=this.renderer.hr(y);continue}case"heading":{u+=this.renderer.heading(y);continue}case"code":{u+=this.renderer.code(y);continue}case"table":{u+=this.renderer.table(y);continue}case"blockquote":{u+=this.renderer.blockquote(y);continue}case"list":{u+=this.renderer.list(y);continue}case"html":{u+=this.renderer.html(y);continue}case"paragraph":{u+=this.renderer.paragraph(y);continue}case"text":{let m=y,v=this.renderer.text(m);for(;p+1<i.length&&i[p+1].type==="text";)m=i[++p],v+=`
`+this.renderer.text(m);o?u+=this.renderer.paragraph({type:"paragraph",raw:v,text:v,tokens:[{type:"text",raw:v,text:v,escaped:!0}]}):u+=v;continue}default:{const m='Token with "'+y.type+'" type was not found.';if(this.options.silent)return console.error(m),"";throw new Error(m)}}}return u}parseInline(i,o=this.renderer){var c,d;let u="";for(let p=0;p<i.length;p++){const h=i[p];if((d=(c=this.options.extensions)==null?void 0:c.renderers)!=null&&d[h.type]){const m=this.options.extensions.renderers[h.type].call({parser:this},h);if(m!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(h.type)){u+=m||"";continue}}const y=h;switch(y.type){case"escape":{u+=o.text(y);break}case"html":{u+=o.html(y);break}case"link":{u+=o.link(y);break}case"image":{u+=o.image(y);break}case"strong":{u+=o.strong(y);break}case"em":{u+=o.em(y);break}case"codespan":{u+=o.codespan(y);break}case"br":{u+=o.br(y);break}case"del":{u+=o.del(y);break}case"text":{u+=o.text(y);break}default:{const m='Token with "'+y.type+'" type was not found.';if(this.options.silent)return console.error(m),"";throw new Error(m)}}}return u}},Oa,ki=(Oa=class{constructor(l){Se(this,"options");Se(this,"block");this.options=l||In}preprocess(l){return l}postprocess(l){return l}processAllTokens(l){return l}provideLexer(){return this.block?Vt.lex:Vt.lexInline}provideParser(){return this.block?Qt.parse:Qt.parseInline}},Se(Oa,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),Oa),Gg=class{constructor(...l){Se(this,"defaults",Za());Se(this,"options",this.setOptions);Se(this,"parse",this.parseMarkdown(!0));Se(this,"parseInline",this.parseMarkdown(!1));Se(this,"Parser",Qt);Se(this,"Renderer",Ti);Se(this,"TextRenderer",os);Se(this,"Lexer",Vt);Se(this,"Tokenizer",bi);Se(this,"Hooks",ki);this.use(...l)}walkTokens(l,i){var u,c;let o=[];for(const d of l)switch(o=o.concat(i.call(this,d)),d.type){case"table":{const p=d;for(const h of p.header)o=o.concat(this.walkTokens(h.tokens,i));for(const h of p.rows)for(const y of h)o=o.concat(this.walkTokens(y.tokens,i));break}case"list":{const p=d;o=o.concat(this.walkTokens(p.items,i));break}default:{const p=d;(c=(u=this.defaults.extensions)==null?void 0:u.childTokens)!=null&&c[p.type]?this.defaults.extensions.childTokens[p.type].forEach(h=>{const y=p[h].flat(1/0);o=o.concat(this.walkTokens(y,i))}):p.tokens&&(o=o.concat(this.walkTokens(p.tokens,i)))}}return o}use(...l){const i=this.defaults.extensions||{renderers:{},childTokens:{}};return l.forEach(o=>{const u={...o};if(u.async=this.defaults.async||u.async||!1,o.extensions&&(o.extensions.forEach(c=>{if(!c.name)throw new Error("extension name required");if("renderer"in c){const d=i.renderers[c.name];d?i.renderers[c.name]=function(...p){let h=c.renderer.apply(this,p);return h===!1&&(h=d.apply(this,p)),h}:i.renderers[c.name]=c.renderer}if("tokenizer"in c){if(!c.level||c.level!=="block"&&c.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const d=i[c.level];d?d.unshift(c.tokenizer):i[c.level]=[c.tokenizer],c.start&&(c.level==="block"?i.startBlock?i.startBlock.push(c.start):i.startBlock=[c.start]:c.level==="inline"&&(i.startInline?i.startInline.push(c.start):i.startInline=[c.start]))}"childTokens"in c&&c.childTokens&&(i.childTokens[c.name]=c.childTokens)}),u.extensions=i),o.renderer){const c=this.defaults.renderer||new Ti(this.defaults);for(const d in o.renderer){if(!(d in c))throw new Error(`renderer '${d}' does not exist`);if(["options","parser"].includes(d))continue;const p=d,h=o.renderer[p],y=c[p];c[p]=(...m)=>{let v=h.apply(c,m);return v===!1&&(v=y.apply(c,m)),v||""}}u.renderer=c}if(o.tokenizer){const c=this.defaults.tokenizer||new bi(this.defaults);for(const d in o.tokenizer){if(!(d in c))throw new Error(`tokenizer '${d}' does not exist`);if(["options","rules","lexer"].includes(d))continue;const p=d,h=o.tokenizer[p],y=c[p];c[p]=(...m)=>{let v=h.apply(c,m);return v===!1&&(v=y.apply(c,m)),v}}u.tokenizer=c}if(o.hooks){const c=this.defaults.hooks||new ki;for(const d in o.hooks){if(!(d in c))throw new Error(`hook '${d}' does not exist`);if(["options","block"].includes(d))continue;const p=d,h=o.hooks[p],y=c[p];ki.passThroughHooks.has(d)?c[p]=m=>{if(this.defaults.async)return Promise.resolve(h.call(c,m)).then(C=>y.call(c,C));const v=h.call(c,m);return y.call(c,v)}:c[p]=(...m)=>{let v=h.apply(c,m);return v===!1&&(v=y.apply(c,m)),v}}u.hooks=c}if(o.walkTokens){const c=this.defaults.walkTokens,d=o.walkTokens;u.walkTokens=function(p){let h=[];return h.push(d.call(this,p)),c&&(h=h.concat(c.call(this,p))),h}}this.defaults={...this.defaults,...u}}),this}setOptions(l){return this.defaults={...this.defaults,...l},this}lexer(l,i){return Vt.lex(l,i??this.defaults)}parser(l,i){return Qt.parse(l,i??this.defaults)}parseMarkdown(l){return(o,u)=>{const c={...u},d={...this.defaults,...c},p=this.onError(!!d.silent,!!d.async);if(this.defaults.async===!0&&c.async===!1)return p(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof o>"u"||o===null)return p(new Error("marked(): input parameter is undefined or null"));if(typeof o!="string")return p(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected"));d.hooks&&(d.hooks.options=d,d.hooks.block=l);const h=d.hooks?d.hooks.provideLexer():l?Vt.lex:Vt.lexInline,y=d.hooks?d.hooks.provideParser():l?Qt.parse:Qt.parseInline;if(d.async)return Promise.resolve(d.hooks?d.hooks.preprocess(o):o).then(m=>h(m,d)).then(m=>d.hooks?d.hooks.processAllTokens(m):m).then(m=>d.walkTokens?Promise.all(this.walkTokens(m,d.walkTokens)).then(()=>m):m).then(m=>y(m,d)).then(m=>d.hooks?d.hooks.postprocess(m):m).catch(p);try{d.hooks&&(o=d.hooks.preprocess(o));let m=h(o,d);d.hooks&&(m=d.hooks.processAllTokens(m)),d.walkTokens&&this.walkTokens(m,d.walkTokens);let v=y(m,d);return d.hooks&&(v=d.hooks.postprocess(v)),v}catch(m){return p(m)}}}onError(l,i){return o=>{if(o.message+=`
Please report this to https://github.com/markedjs/marked.`,l){const u="<p>An error occurred:</p><pre>"+$t(o.message+"",!0)+"</pre>";return i?Promise.resolve(u):u}if(i)return Promise.reject(o);throw o}}},jn=new Gg;function ke(l,i){return jn.parse(l,i)}ke.options=ke.setOptions=function(l){return jn.setOptions(l),ke.defaults=jn.defaults,Gd(ke.defaults),ke};ke.getDefaults=Za;ke.defaults=In;ke.use=function(...l){return jn.use(...l),ke.defaults=jn.defaults,Gd(ke.defaults),ke};ke.walkTokens=function(l,i){return jn.walkTokens(l,i)};ke.parseInline=jn.parseInline;ke.Parser=Qt;ke.parser=Qt.parse;ke.Renderer=Ti;ke.TextRenderer=os;ke.Lexer=Vt;ke.lexer=Vt.lex;ke.Tokenizer=bi;ke.Hooks=ki;ke.parse=ke;ke.options;ke.setOptions;ke.use;ke.walkTokens;ke.parseInline;Qt.parse;Vt.lex;const tl={ANALYSIS:{SYSTEM:`You are a linguistic engine for an English learning app. 
        Analyze the text provided by the user. 

        1. **Objective:** Analyze the content deeply (Translation, Insight, Vocabulary).
           - Do NOT split the text. Treat it as a single unit.

        2. **Extract Vocabulary ("knowledge") Comprehensively:**
           - Identify legitimate learning words/phrases across ALL proficiency levels (A1 to C2).
           - **Crucial:** Do NOT ignore simple words (A1-A2). We need them for beginners. 
           - Also ensure advanced words (C1-C2) are captured.
           - Assign a strict CEFR integer difficulty level:
             1 = A1 (Beginner)
             2 = A2 (Elementary)
             3 = B1 (Intermediate)
             4 = B2 (Upper Intermediate)
             5 = C1 (Advanced)
             6 = C2 (Proficiency/Rare)

        3. **Tasks:**
           - **Translate**: specific, natural Chinese translation.
           - **Insight**: Provide a brief linguistic or thematic insight.
           - **X-Ray**: Analyze sentence structure. Focus on complex patterns.
           - **Companion**: Determine if this sentence deserves a reader's note. Pick the BEST type from the list below. If it's an ordinary sentence with nothing special, set companion to null.

        **Companion Types (pick ONE or null):**
           - "famous_quote": Classic opening lines, iconic phrases, or widely-quoted passages.
           - "literary_insight": Rhetorical devices, stylistic choices, or narrative techniques.
           - "plot_turning_point": Key plot developments, foreshadowing, or dramatic reveals.
           - "character_insight": Moments that reveal character personality, motivation, or growth.
           - "historical_context": Real-world historical events or period-specific details.
           - "cultural_reference": Pop culture, mythology, religious allusions, or intertextuality.
           - "scientific_concept": Scientific principles, technical explanations, or research findings.
           - "real_world_connection": How the text relates to modern life or current events.
           - "moral_lesson": Life lessons, ethical themes, or educational takeaways (good for children's books).
           - "fun_fact": Interesting trivia or surprising information.
           - "reading_tip": Guidance on how to approach difficult passages.
           - "author_technique": Notable writing craft or stylistic innovation.

        4. **Return a VALID JSON object**:
        {
          "translation": "Chinese translation...",
          "insight": { "tag": "Theme/Tone", "text": "Brief analysis..." },
          "xray": {
            "pattern": "Sentence pattern name (e.g., 'which ', 'so...that ')",
            "breakdown": "Structure breakdown (e.g., ' + which'). Only for complex sentences.",
            "keyWords": [
              { "word": "which", "role": "" }
            ],
            "explanation": " - "
          },
          "companion": {
             "type": "famous_quote | literary_insight | plot_turning_point | ... | null",
             "text": "Short comment (<40 chars, in Chinese). Set entire object to null if not notable."
          },
          "knowledge": [
            { 
              "key": "unique_word_stem", 
              "word": "Display Word", 
              "ipa": "/ipa/", 
              "def": "Concise Chinese Definition", 
              "clue": "English Synonym/Hint", 
              "diff": 1-6, 
              "context": "Short collocation" 
            }
          ]
        }`},TEXT_SPLIT:{SYSTEM:`You are a linguistic engine. Split the text provided by the user into logical sentences.
        
        1. **Objective:** Split text into sentences.
        2. **Rules:**
           - If a sentence is very short (<6 words), merge with adjacent one unless it's dialogue.
           - Respect dialogue quotes.
        
        3. **Return strictly valid JSON**:
        {
           "sentences": ["Sentence 1...", "Sentence 2..."]
        }`},CHAT:{SYSTEM:l=>`You are an expert reading coach. The user is reading a paragraph. 
            Context Paragraph: "${l}".
            Answer the user's question briefly and helpfully using **Chinese** (you may use English for specific terms or examples). 
            **Constraint: Keep your answer under 80 words and very concise.**
            Focus on vocabulary, nuance, and comprehension.`},CHIPS:[{label:" ",prompt:"5"},{label:" ",prompt:" mental model"},{label:" ",prompt:""},{label:" ",prompt:""}]};function Xg({isVisible:l,onClose:i,contextText:o}){const[u,c]=S.useState([]),[d,p]=S.useState(""),h=S.useRef(null),y=tl.CHIPS;S.useEffect(()=>{l&&(u.length===0&&c([{role:"ai",text:""}]),setTimeout(()=>{var C;return(C=h.current)==null?void 0:C.focus()},100))},[l]);const m=async C=>{if(C.key==="Enter"&&d.trim()){const k=d.trim();p(""),c(P=>[...P,{role:"user",text:k}]),u.length+1,c(P=>[...P,{role:"ai",text:"",isStreaming:!0}]);try{const{aiService:P}=await Pi(async()=>{const{aiService:z}=await Promise.resolve().then(()=>ji);return{aiService:z}},void 0),b=tl.CHAT.SYSTEM(o);await P.chatStream(b,k,(z,T)=>{c(M=>{var V;const D=[...M],A=D.length-1;return(V=D[A])!=null&&V.isStreaming&&(D[A]={role:"ai",text:T+"",isStreaming:!0}),D})}),c(z=>{var D;const T=[...z],M=T.length-1;return(D=T[M])!=null&&D.isStreaming&&(T[M]={role:"ai",text:T[M].text.replace("","")}),T})}catch(P){console.error(P),c(b=>{const z=[...b],T=z.length-1;return z[T]={role:"ai",text:"Error: "+P.message},z})}}},v=async C=>{c(k=>[...k,{role:"user",text:C}]),c(k=>[...k,{role:"ai",text:"",isStreaming:!0}]);try{const{aiService:k}=await Pi(async()=>{const{aiService:b}=await Promise.resolve().then(()=>ji);return{aiService:b}},void 0),P=tl.CHAT.SYSTEM(o);await k.chatStream(P,C,(b,z)=>{c(T=>{var A;const M=[...T],D=M.length-1;return(A=M[D])!=null&&A.isStreaming&&(M[D]={role:"ai",text:z+"",isStreaming:!0}),M})}),c(b=>{var M;const z=[...b],T=z.length-1;return(M=z[T])!=null&&M.isStreaming&&(z[T]={role:"ai",text:z[T].text.replace("","")}),z})}catch(k){c(P=>{const b=[...P],z=b.length-1;return b[z]={role:"ai",text:"Error: "+k.message},b})}};return g.jsxs("div",{className:`ask-bubble ${l?"show":""}`,onClick:C=>C.stopPropagation(),children:[g.jsxs("div",{className:"ask-bubble-header",children:[g.jsx("span",{children:" AI "}),g.jsx("button",{className:"ask-bubble-close",onClick:C=>{C.stopPropagation(),i()},title:"",children:""})]}),g.jsxs("div",{className:"ask-history",children:[u.map((C,k)=>g.jsx("div",{className:C.role==="user"?"msg-user":"msg-ai",dangerouslySetInnerHTML:C.role==="ai"?{__html:ke.parse(C.text)}:void 0,children:C.role==="user"?C.text:null},k)),u.length===1&&g.jsx("div",{className:"suggestion-chips",children:y.map((C,k)=>g.jsx("button",{className:"ask-chip",onClick:P=>{P.stopPropagation(),v(C.prompt)},children:C.label},k))})]}),g.jsx("input",{ref:h,type:"text",className:"ask-input",placeholder:"Ask anything...",value:d,onChange:C=>p(C.target.value),onKeyDown:m,onClick:C=>C.stopPropagation()})]})}function Zg({id:l,data:i,isActive:o}){var q;const{mode:u,level:c,vocabLevel:d,VOCAB_MAP:p,bookData:h,activeSentenceId:y,setActiveId:m,setActiveSentenceId:v}=ur(),[C,k]=S.useState(!1),[P,b]=S.useState(!1),[z,T]=S.useState(!1),[M,D]=S.useState(!1),A=S.useRef(null),V={...i,...h[l]||{}},Q=p[d]||1,te=(V.knowledge||[]).filter($=>$.diff>=Q),{isAnalyzing:ie}=hg({id:l,data:i,isActive:o,isInView:M}),{html:se,handleWordClick:pe}=ag({text:V.text,activePoints:te,mode:u,level:c,paragraphId:l,activeSentenceId:y,sentenceContents:(q=V.sentences)==null?void 0:q.map($=>$.content)}),ve=S.useCallback($=>{if(!$)return;const O=$.getAttribute("data-sentence-id");!O||O===y||v(O)},[y,v]),fe=S.useCallback(()=>{m(l),o&&T($=>!$)},[l,o,m]),je=S.useCallback($=>{pe($),ve($.target.closest(".sentence-unit")),m(l),$.stopPropagation()},[pe,ve,m,l]),me=S.useCallback($=>{ve($.target.closest(".sentence-unit"))},[ve]);S.useEffect(()=>{const $=new IntersectionObserver(([O])=>{O.isIntersecting&&(D(!0),$.disconnect())},{rootMargin:"100px"});return A.current&&$.observe(A.current),()=>$.disconnect()},[]),S.useEffect(()=>{k(c===1)},[c]);const $e=$=>{$.stopPropagation(),c!==1&&k(!C)},Ie=320,ge=$=>{$.stopPropagation();const O=!P;b(O),O?requestAnimationFrame(()=>{const L=A.current;if(L){const x=L.getBoundingClientRect();window.innerWidth-x.right<Ie&&document.body.classList.add("ask-mode")}}):document.body.classList.remove("ask-mode")};return S.useEffect(()=>()=>{document.body.classList.remove("ask-mode")},[]),S.useEffect(()=>{if(!P)return;const $=()=>{const O=A.current;if(O){const L=O.getBoundingClientRect();window.innerWidth-L.right<Ie?document.body.classList.add("ask-mode"):document.body.classList.remove("ask-mode")}};return window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[P]),g.jsxs("div",{ref:A,className:`paragraph ${o?"active":""}`,"data-id":l,onClick:fe,children:[g.jsx("div",{className:"para-text",dangerouslySetInnerHTML:{__html:se},onClick:je,onMouseOver:me}),g.jsxs("div",{className:`para-aux ${o?"active":""}`,children:[g.jsx("div",{className:`inline-trans ${C?"show":""}`,id:`trans-${l}`,children:V.translation||"Translation not available."}),V.companion&&V.companion.text&&g.jsxs("div",{className:`ai-companion ${z?"expanded":"collapsed"}`,children:[g.jsxs("div",{className:"companion-header",onClick:$=>{$.stopPropagation(),T(!z)},children:[g.jsx("span",{className:"companion-icon",children:""}),!z&&g.jsx("span",{className:"companion-hint",children:"View AI Insight"})]}),g.jsx("div",{className:"companion-body",children:g.jsx("span",{className:"companion-text",children:V.companion.text})})]})]}),ie&&g.jsx("div",{style:{fontSize:"0.85rem",color:"var(--theme-primary)",marginTop:"8px",fontStyle:"italic",opacity:.8},children:"AI analyzing..."}),g.jsx("div",{className:"trans-toggle",onClick:$e,title:"Toggle Translation",style:{opacity:c===1?1:void 0},children:""}),g.jsx("div",{className:"ask-trigger",onClick:ge,title:"Ask AI",children:""}),g.jsx(Xg,{isVisible:P,onClose:()=>{b(!1),document.body.classList.remove("ask-mode")},contextText:V.text})]})}const vi=20;function Jg({paragraphs:l,page:i=1,totalPages:o=1,onPageChange:u=null,pageLoading:c=!1}){const{mode:d,activeId:p,activeSentenceId:h,setActiveId:y,setActiveSentenceId:m}=ur(),v=S.useRef(null),[C,k]=S.useState(1),[P,b]=S.useState({top:0,height:0,opacity:0}),[z,T]=S.useState(!0),M=S.useRef(!1),D=S.useRef(null),A=S.useRef(null),V=S.useRef(!1),Q=typeof u=="function",te=Number.isInteger(i)?Math.max(1,i):1,ie=Number.isInteger(o)?Math.max(1,o):1,se=Q?te:C,pe=Q?ie:Math.max(1,Math.ceil(l.length/vi)),ve=(se-1)*vi,fe=Q?l:l.slice(ve,ve+vi);S.useEffect(()=>{if(p){if(!Q){const R=l.findIndex(U=>String(U.id)===String(p));if(R!==-1){const U=Math.floor(R/vi)+1;if(U!==se){k(U),v.current&&(v.current.scrollTop=0);return}}}if(M.current){M.current=!1;return}setTimeout(()=>{var U;const R=(U=v.current)==null?void 0:U.querySelector(`.paragraph[data-id="${p}"]`);R&&R.scrollIntoView({block:"center",behavior:"auto"})},80)}},[p,l,Q,se]),S.useEffect(()=>{if(!p||!v.current)return;const R=`${String(p)}::`;if(typeof h=="string"&&h.startsWith(R))return;const U=v.current.querySelector(`.paragraph[data-id="${p}"]`);if(!U)return;const Y=U.querySelector(".sentence-unit"),X=Y==null?void 0:Y.getAttribute("data-sentence-id");X&&m(X)},[p,h,se,l,m]),S.useEffect(()=>{if(!p||!v.current){b(R=>({...R,opacity:0}));return}requestAnimationFrame(()=>{var U;const R=(U=v.current)==null?void 0:U.querySelector(`.paragraph[data-id="${p}"]`);b(R?{top:R.offsetTop,height:R.offsetHeight,opacity:1}:Y=>({...Y,opacity:0}))})},[p,se,l]),S.useEffect(()=>{v.current&&(v.current.scrollTop=0)},[se]);const je=()=>{D.current||(D.current=setTimeout(()=>{if(D.current=null,!v.current)return;const R=v.current,U=R.getBoundingClientRect(),Y=U.top+U.height*.4;let X=null,oe=null,ne=1/0;if(R.querySelectorAll(".paragraph").forEach(Ze=>{const He=Ze.getBoundingClientRect(),nt=He.top+He.height/2,rt=Math.abs(nt-Y);rt<ne&&(ne=rt,X=Ze.getAttribute("data-id"),oe=Ze)}),X&&X!==p&&(M.current=!0,y(X)),!oe)return;let de=null,Re=1/0;oe.querySelectorAll(".sentence-unit").forEach(Ze=>{const He=Ze.getBoundingClientRect(),nt=He.top+He.height/2,rt=Math.abs(nt-Y);rt<Re&&(Re=rt,de=Ze.getAttribute("data-sentence-id"))}),de&&de!==h&&m(de)},100))};S.useEffect(()=>{const R=U=>{var nt,rt,gn;if(U.key!=="ArrowDown"&&U.key!=="ArrowUp")return;const Y=(rt=(nt=U.target)==null?void 0:nt.tagName)==null?void 0:rt.toLowerCase();if(((gn=U.target)==null?void 0:gn.isContentEditable)||Y==="input"||Y==="textarea"||Y==="select")return;const oe=v.current;if(!oe)return;const ne=Array.from(oe.querySelectorAll(".sentence-unit"));if(ne.length===0)return;U.preventDefault();const ue=U.key==="ArrowDown"?1:-1;let de=ne.findIndex(cr=>cr.getAttribute("data-sentence-id")===String(h));de===-1&&(de=ue>0?-1:ne.length);let Re=de+ue;if(Re=Math.max(0,Math.min(ne.length-1,Re)),Re===de)return;const ct=ne[Re];if(!ct)return;const Ze=ct.getAttribute("data-sentence-id"),He=ct.getAttribute("data-paragraph-id");Ze&&m(Ze),He&&String(He)!==String(p)&&(M.current=!0,y(He)),ct.scrollIntoView({block:"center",behavior:"smooth"})};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[h,p,y,m]);const me=R=>{c||Number.isInteger(R)&&(R<1||R>pe||(Q?u(R):k(R)))},$e=()=>me(se-1),Ie=()=>me(se+1),ge=S.useCallback(()=>{A.current&&(clearTimeout(A.current),A.current=null)},[]),q=S.useCallback((R=1200)=>{d==="flow"&&(ge(),A.current=setTimeout(()=>{V.current||T(!1)},R))},[d,ge]);S.useEffect(()=>{var Y,X;if(d!=="flow"){ge(),T(!0);return}if((X=(Y=window.matchMedia)==null?void 0:Y.call(window,"(pointer: coarse)"))==null?void 0:X.matches){ge(),T(!0);return}T(!1);const U=oe=>{oe.clientY>=window.innerHeight-120&&(T(!0),q(1e3))};return window.addEventListener("mousemove",U,{passive:!0}),()=>{window.removeEventListener("mousemove",U),ge(),V.current=!1}},[d,q,ge]),S.useEffect(()=>()=>ge(),[ge]);const $=pe>1,O=c||se<=1,L=c||se>=pe,x=d!=="flow"||z;return g.jsxs("div",{className:"reader-panel",ref:v,onScroll:je,style:{height:"100vh",overflowY:"auto",width:"100%",scrollBehavior:"smooth",position:"relative"},children:[g.jsxs("div",{className:"reader-content",style:{maxWidth:"800px",margin:"0 auto",padding:"40px 20px",paddingBottom:$?"160px":"80px"},children:[g.jsx("div",{className:`focus-marker ${p?"active":""}`,style:{top:P.top,height:P.height,opacity:P.opacity}}),fe.map(R=>g.jsx(Zg,{id:R.id,data:R,isActive:String(p)===String(R.id)},R.id)),c&&g.jsx("div",{style:{marginTop:"24px",color:"#64748b",fontSize:"0.95rem",textAlign:"center"},children:"..."})]}),$&&g.jsxs("div",{className:`reader-pagination ${x?"is-visible":"is-hidden"}`,onMouseEnter:()=>{V.current=!0,d==="flow"&&(T(!0),ge())},onMouseLeave:()=>{V.current=!1,d==="flow"&&q(180)},children:[g.jsx("button",{onClick:$e,disabled:O,className:"reader-pagination-btn","aria-label":"Previous page",children:""}),g.jsxs("span",{className:"reader-pagination-text",children:[se," / ",pe]}),g.jsx("button",{onClick:Ie,disabled:L,className:"reader-pagination-btn","aria-label":"Next page",children:""})]})]})}function ey({onReanalyze:l,sentenceAnalysisEnabled:i=!0}){const{mode:o,level:u,vocabLevel:c,activeId:d,bookData:p,VOCAB_MAP:h,revealedKeys:y,revealKey:m}=ur(),[v,C]=S.useState(!1);if(o==="flow")return g.jsx("div",{className:"copilot-panel",id:"copilotPanel"});const k=p[d];if(!k)return g.jsx("div",{className:"copilot-panel",id:"copilotPanel",children:g.jsx("div",{className:"dashboard-content",id:"dashboard",children:g.jsx("div",{className:"module-card",children:g.jsx("div",{className:"module-header",children:" Select a paragraph"})})})});const P=h[c]||1,b=(k.knowledge||[]).filter(A=>A.diff>=P),z=A=>{m(A)},T=async()=>{if(!(!i||!l||v)){C(!0);try{await l(d)}catch(A){console.error("Reanalyze failed:",A)}finally{C(!1)}}},M=()=>k.text?k.text.length>60?k.text.slice(0,60)+"...":k.text:"",D=()=>{const A=k.xray;return!A||!A.pattern?null:g.jsxs("div",{className:"module-card xray-card",children:[g.jsx("div",{className:"module-header",children:g.jsx("span",{children:" X"})}),g.jsxs("div",{className:"xray-body",children:[g.jsxs("div",{className:"xray-pattern",children:[g.jsx("span",{className:"xray-pattern-label",children:" "}),g.jsx("span",{className:"xray-pattern-value",children:A.pattern})]}),A.breakdown&&g.jsx("div",{className:"xray-breakdown",children:A.breakdown}),A.keyWords&&A.keyWords.length>0&&g.jsxs("div",{className:"xray-keywords",children:[g.jsx("span",{className:"xray-keywords-label",children:" "}),A.keyWords.map((V,Q)=>g.jsxs("div",{className:"xray-keyword-item",children:[g.jsx("span",{className:"xray-keyword-word",children:V.word}),g.jsx("span",{className:"xray-keyword-role",children:V.role})]},Q))]}),u<3&&A.explanation&&g.jsxs("div",{className:"xray-explanation",children:[g.jsx("span",{className:"xray-explanation-icon",children:""}),g.jsx("span",{className:"xray-explanation-text",children:A.explanation})]})]})]})};return g.jsx("div",{className:"copilot-panel",id:"copilotPanel",children:g.jsxs("div",{className:"dashboard-content",id:"dashboard",children:[g.jsxs("div",{className:"dashboard-header",children:[g.jsx("div",{className:"current-para-info",children:g.jsx("div",{className:"para-preview",children:M()})}),g.jsx("button",{className:"btn-reanalyze-global",onClick:T,disabled:v||!i,title:i?"++":"",children:i?v?" ...":" ":" "})]}),D(),b.length>0&&g.jsxs("div",{className:"module-card",children:[g.jsxs("div",{className:"module-header",children:["  ",g.jsx("span",{children:b.length})]}),g.jsx("div",{children:b.map(A=>{const Q=u>=3&&!y.includes(A.key)?"k-guess-mode":"k-reveal-mode";return g.jsxs("div",{className:`knowledge-item ${Q}`,"data-key":A.key,onClick:()=>z(A.key),children:[g.jsxs("div",{className:"k-top",children:[g.jsx("span",{className:"k-word",children:A.word}),g.jsx("span",{className:"k-ipa",children:A.ipa})]}),g.jsx("div",{className:"k-clue",children:A.clue}),g.jsx("div",{className:"k-def",children:A.def}),g.jsx("div",{className:"k-context",children:A.context})]},A.key)})})]}),k.insight&&!k.xray&&g.jsxs("div",{className:"module-card",children:[g.jsx("div",{className:"module-header",children:" AI Coach Insight"}),g.jsxs("div",{className:"insight-body",children:[g.jsx("span",{className:"insight-tag",children:k.insight.tag}),g.jsx("br",{}),k.insight.text]})]})]})})}const kd="http://localhost:8000",lr=[],Sd=async(l,i="AI request failed")=>{let o=null,u=i;try{o=await l.json(),typeof(o==null?void 0:o.detail)=="string"&&o.detail.trim()?u=o.detail:o!=null&&o.detail&&typeof o.detail=="object"&&(u=o.detail.message||o.detail.code||i)}catch{try{const d=await l.text();d&&d.trim()&&(u=d.trim())}catch{}}const c=new Error(u);return c.status=l.status,o!==null&&(c.payload=o),(o==null?void 0:o.detail)!==void 0&&(c.detail=o.detail),c},ty=l=>{const i=Fa*1e3;for(;lr.length>0&&l-lr[0]>=i;)lr.shift()},Ed=()=>{const l=Date.now();if(ty(l),lr.length>=hd){const i=Fa*1e3,o=lr[0],u=Math.max(0,i-(l-o)),c=Math.max(1,Math.ceil(u/1e3)),d=new Error(`Analysis rate limited: max ${hd} requests in ${Fa}s. Retry in ~${c}s.`);throw d.code="ANALYSIS_RATE_LIMITED",d.retryAfterSeconds=c,d}lr.push(l)};class ny{constructor(){this.config=Jm}getToken(){return localStorage.getItem("access_token")}async chatStream(i,o,u,c="chat"){var k;const d=this.getToken(),p={"Content-Type":"application/json"};d&&(p.Authorization=`Bearer ${d}`);const h=await fetch(`${kd}/ai/chat/stream`,{method:"POST",headers:p,body:JSON.stringify({system_prompt:i,user_query:o,provider:this.config.provider,api_key:((k=this.config[this.config.provider])==null?void 0:k.apiKey)||null,request_type:c})});if(!h.ok)throw await Sd(h,"AI request failed");const y=h.body.getReader(),m=new TextDecoder;let v="",C="";for(;;){const{done:P,value:b}=await y.read();if(P)break;C+=m.decode(b,{stream:!0});const z=C.split(`
`);C=z.pop()||"";for(const T of z)if(T.startsWith("data: ")){const M=T.slice(6);if(M==="[DONE]")continue;if(M.startsWith("[ERROR]"))throw new Error(M.slice(7));v+=M,u&&u(M,v)}}return v}async chat(i,o,u="chat"){var y;const c=this.getToken(),d={"Content-Type":"application/json"};c&&(d.Authorization=`Bearer ${c}`);const p=await fetch(`${kd}/ai/chat`,{method:"POST",headers:d,body:JSON.stringify({system_prompt:i,user_query:o,provider:this.config.provider,api_key:((y=this.config[this.config.provider])==null?void 0:y.apiKey)||null,request_type:u})});if(!p.ok)throw await Sd(p,"AI request failed");return(await p.json()).content}async analyzeText(i){Ed();const o=tl.ANALYSIS.SYSTEM,u=await this.chat(o,i,"analysis");console.log("Raw AI Response:",u);let c=u;const d=u.match(/```(?:json)?\s*([\s\S]*?)\s*```/);d&&(c=d[1]);try{return JSON.parse(c)}catch(p){console.error("AI JSON Parse Error:",p,c);const h=c.indexOf("{"),y=c.lastIndexOf("}");if(h!==-1&&y!==-1)try{return JSON.parse(c.substring(h,y+1))}catch{throw new Error("Failed to parse AI response. "+p.message)}throw new Error("Failed to parse AI response. "+p.message)}}async analyzeSentence(i){Ed();const o=tl.ANALYSIS.SYSTEM,u=await this.chat(o,i,"analysis");let c=u;const d=u.match(/```(?:json)?\s*([\s\S]*?)\s*```/);d&&(c=d[1]);try{return JSON.parse(c)}catch(p){throw console.error("AI Analysis Parse Error:",p,c),new Error("Failed to parse analysis.")}}}const sf=new ny,ji=Object.freeze(Object.defineProperty({__proto__:null,aiService:sf},Symbol.toStringTag,{value:"Module"}));function ry({isOpen:l,onClose:i,onImport:o}){const[u,c]=S.useState("text"),[d,p]=S.useState(""),[h,y]=S.useState(""),[m,v]=S.useState(!1);if(!l)return null;const C=async()=>{if(u==="text"){if(!d.trim())return;v(!0);try{const P=await sf.analyzeText(d);P&&P.paragraphs?(o(P.paragraphs),i()):alert("AI Analysis failed to return valid structure.")}catch(P){if(console.error(P),P.message.includes("Key is missing")){const b=prompt(" API Key Missing. Enter your Google Gemini API Key:");b!=null&&b.trim()&&(localStorage.setItem("GOOGLE_API_KEY",b.trim()),alert("Key saved! Reloading..."),window.location.reload())}else alert("Error: "+P.message)}finally{v(!1)}}else v(!0),setTimeout(()=>{v(!1),i(),alert("URL import coming soon!")},600)},k=P=>{P.target===P.currentTarget&&i()};return g.jsx("div",{className:`modal-overlay ${l?"show":""}`,style:{display:"flex"},onClick:k,children:g.jsxs("div",{className:"modal-content",children:[g.jsx("h2",{children:" Smart Import"}),g.jsxs("div",{className:"import-tabs",children:[g.jsx("button",{className:`tab-btn ${u==="text"?"active":""}`,onClick:()=>c("text"),children:"Text Paste"}),g.jsx("button",{className:`tab-btn ${u==="url"?"active":""}`,onClick:()=>c("url"),children:"URL Fetch"})]}),g.jsx("div",{className:`tab-pane ${u==="text"?"active":""}`,children:g.jsx("textarea",{placeholder:"Paste your article here...",value:d,onChange:P=>p(P.target.value),style:{width:"100%",minHeight:"200px",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"}})}),g.jsxs("div",{className:`tab-pane ${u==="url"?"active":""}`,style:{display:u==="url"?"block":"none"},children:[g.jsx("input",{type:"text",placeholder:"https://example.com/article",value:h,onChange:P=>y(P.target.value),style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"}}),g.jsx("p",{className:"hint-text",children:"Paste a URL to automatically extract and scaffold content."})]}),g.jsxs("div",{className:"modal-actions",children:[g.jsx("button",{className:"btn-secondary",onClick:i,children:"Cancel"}),g.jsx("button",{className:"btn-primary",onClick:C,disabled:m,children:m?"Processing...":"Magic Enhance "})]}),m&&g.jsxs("div",{className:"loading-overlay",children:[g.jsx("div",{className:"spinner"}),g.jsx("p",{children:"AI is digesting content..."})]})]})})}const Si={p1:{knowledge:[{key:"truth",word:"truth",ipa:"/tru/",def:"",clue:"Fact accepted as certain",diff:2,context:"a truth universally acknowledged"},{key:"universally",word:"universally",ipa:"/junvsli/",def:"",clue:"By everyone, everywhere",diff:3,context:"universally acknowledged"},{key:"acknowledged",word:"acknowledged",ipa:"/knldd/",def:"",clue:"Accepted, Recognized",diff:4,context:"truth universally acknowledged"},{key:"single",word:"single",ipa:"/sl/",def:"",clue:"Unmarried, Alone",diff:1,context:"a single man"},{key:"possession",word:"possession",ipa:"/pzen/",def:"",clue:"Ownership, Having",diff:3,context:"in possession of"},{key:"fortune",word:"fortune",ipa:"/ftun/",def:"",clue:"Wealth, Riches",diff:2,context:"a good fortune"},{key:"want",word:"want",ipa:"/wnt/",def:"",clue:"Need, Lack (archaic)",diff:4,context:"in want of"},{key:"wife",word:"wife",ipa:"/waf/",def:"",clue:"Spouse, Partner",diff:1,context:"in want of a wife"}],insight:{tag:"Irony",text:"Jane Austen opens with a statement presented as universal truth but is actually satirical commentary on societal obsession with marriage and wealth."},ambient:null,translation:""},p2:{knowledge:[{key:"feelings",word:"feelings",ipa:"/filz/",def:"",clue:"Emotions",diff:1,context:"feelings or views"},{key:"views",word:"views",ipa:"/vjuz/",def:"",clue:"Opinions, Perspectives",diff:2,context:"feelings or views"},{key:"entering",word:"entering",ipa:"/entr/",def:"",clue:"Coming into",diff:1,context:"entering a neighbourhood"},{key:"neighbourhood",word:"neighbourhood",ipa:"/nebhd/",def:"/",clue:"Local community",diff:2,context:"entering a neighbourhood"},{key:"fixed",word:"fixed",ipa:"/fkst/",def:"",clue:"Firmly established",diff:3,context:"so well fixed in the minds"},{key:"minds",word:"minds",ipa:"/mandz/",def:"",clue:"Thoughts",diff:1,context:"fixed in the minds"},{key:"families",word:"families",ipa:"/fmliz/",def:"",clue:"Households",diff:1,context:"surrounding families"},{key:"property",word:"property",ipa:"/prpti/",def:"",clue:"Possession (ironic: treating man as object)",diff:3,context:"rightful property"},{key:"daughters",word:"daughters",ipa:"/dtz/",def:"",clue:"Female children",diff:1,context:"their daughters"}],insight:{tag:"Social Commentary",text:'Austen satirizes how society reduces wealthy bachelors to commodities, immediately earmarked as "property" for eligible daughters, revealing the transactional nature of marriage.'},ambient:null,translation:""},p3:{knowledge:[{key:"heard",word:"heard",ipa:"/hd/",def:"",clue:"Past of hear",diff:1,context:"have you heard"},{key:"netherfield",word:"Netherfield Park",ipa:"/nefild pk/",def:"",clue:"Estate name (fictional)",diff:5,context:"Netherfield Park is let"},{key:"let",word:"let",ipa:"/let/",def:"",clue:"Rented out (British)",diff:3,context:"is let at last"}],insight:{tag:"Dialogue",text:"Mrs. Bennet's opening line immediately establishes her character - gossip-driven and focused on eligible bachelors for her daughters."},ambient:null,translation:'""""'}},Cd=[{id:"p1",text:"It is a truth universally acknowledged, that a single man in possession of a good fortune, must be in want of a wife.",...Si.p1},{id:"p2",text:"However little known the feelings or views of such a man may be on his first entering a neighbourhood, this truth is so well fixed in the minds of the surrounding families, that he is considered the rightful property of some one or other of their daughters.",...Si.p2},{id:"p3",text:'"My dear Mr. Bennet," said his lady to him one day, "have you heard that Netherfield Park is let at last?"',...Si.p3}];function _d(){const{textId:i}=Jh(),{token:o}=sr(),{mode:u,level:c,vocabLevel:d,activeId:p,activeSentenceId:h,updateBookData:y,setActiveId:m,switchMode:v,changeLevel:C,changeVocabLevel:k}=ur(),[P,b]=S.useState([]),[z,T]=S.useState(1),[M,D]=S.useState(1),[A,V]=S.useState(!0),[Q,te]=S.useState(!1),[ie,se]=S.useState(!1),[pe,ve]=S.useState(""),fe=S.useRef(null),je=S.useCallback(O=>{const L=new Map;return O.forEach(x=>{var X,oe,ne,ue,de,Re,ct,Ze,He;const R=Number.isInteger(x.paragraph_index)?x.paragraph_index:x.sentence_index,U=L.get(R);if(!U){L.set(R,{paragraph_index:R,id:x.id,textParts:[x.content],translationParts:x.translation?[x.translation]:[],sentences:[{id:x.id,sentence_index:x.sentence_index,sentence_in_paragraph:x.sentence_in_paragraph,content:x.content,translation:x.translation||null,analysis:x.analysis||null}],knowledge:((X=x.analysis)==null?void 0:X.knowledge)||[],insight:((oe=x.analysis)==null?void 0:oe.insight)||{tag:"",text:""},xray:((ne=x.analysis)==null?void 0:ne.xray)||null,companion:((ue=x.analysis)==null?void 0:ue.companion)||null});return}U.textParts.push(x.content),x.translation&&U.translationParts.push(x.translation),U.sentences.push({id:x.id,sentence_index:x.sentence_index,sentence_in_paragraph:x.sentence_in_paragraph,content:x.content,translation:x.translation||null,analysis:x.analysis||null}),!U.xray&&((de=x.analysis)!=null&&de.xray)&&(U.xray=x.analysis.xray),!U.companion&&((Re=x.analysis)!=null&&Re.companion)&&(U.companion=x.analysis.companion),((ct=U.insight)==null?void 0:ct.text)===""&&((Ze=x.analysis)!=null&&Ze.insight)&&(U.insight=x.analysis.insight);const Y=((He=x.analysis)==null?void 0:He.knowledge)||[];if(Y.length){const nt=[...U.knowledge];Y.forEach(rt=>{nt.some(gn=>gn.key===rt.key)||nt.push(rt)}),U.knowledge=nt}}),Array.from(L.values()).sort((x,R)=>x.paragraph_index-R.paragraph_index).map(x=>{const R=[...x.sentences].sort((U,Y)=>(U.sentence_index??0)-(Y.sentence_index??0));return{id:x.id,paragraph_index:x.paragraph_index,text:x.textParts.join(" ").replace(/\s+/g," ").trim(),translation:x.translationParts.join(" ").replace(/\s+/g," ").trim()||"",sentences:R,knowledge:x.knowledge,insight:x.insight,xray:x.xray,companion:x.companion}})},[]),me=S.useCallback(O=>{O.forEach(L=>{y(L.id,{text:L.text,knowledge:L.knowledge||[],insight:L.insight||{tag:"",text:""},translation:L.translation||"",xray:L.xray||null,companion:L.companion||null,sentences:L.sentences||[]})})},[y]),$e=S.useCallback(O=>{const L=Array.isArray(O==null?void 0:O.sentences)?O.sentences:[];if(L.length===0)return null;const x=`${String(O.id)}::`;if(typeof h=="string"&&h.startsWith(x)){const R=Number.parseInt(h.slice(x.length),10);if(Number.isInteger(R)&&R>=0&&R<L.length)return L[R]}return L[0]},[h]),Ie=S.useCallback((O,L)=>{const x=je(O);return me(x),b(x),T((L==null?void 0:L.page)||1),D(Math.max(1,(L==null?void 0:L.totalPages)||1)),x},[je,me]);S.useEffect(()=>(document.body.className=`mode-${u}`,()=>{document.body.className=""}),[u]),S.useEffect(()=>{let O=!1;const L=()=>{ve("Demo: Pride and Prejudice"),Cd.forEach(R=>{y(R.id,{...Si[R.id],text:R.text})}),b(Cd),T(1),D(1)};return(async()=>{if(V(!0),i)try{const R=await Fe.getTextById(o,i);if(O)return;ve(R.title),R.reading_mode&&v(R.reading_mode),R.scaffold_level&&C(R.scaffold_level),R.vocab_level&&k(R.vocab_level);const U=Number(R.current_paragraph_id),Y=Number.isInteger(U)&&U>0?{paragraphPageSize:20,aroundSentenceId:U}:{paragraphPageSize:20,paragraphPage:1},{items:X,paging:oe}=await Fe.getSentences(o,i,Y);if(O)return;const ne=Ie(X,oe);R.current_paragraph_id&&ne.some(ue=>String(ue.id)===String(R.current_paragraph_id))?m(R.current_paragraph_id):ne.length>0?m(ne[0].id):m(null)}catch(R){console.error("Failed to load text:",R),L()}else L();O||V(!1)})(),()=>{O=!0}},[i,o,y,v,C,k,m,Ie,20]),S.useEffect(()=>{if(!(!i||!o))return fe.current&&clearTimeout(fe.current),fe.current=setTimeout(()=>{Fe.updateProgress(o,i,{reading_mode:u,scaffold_level:c,vocab_level:d,current_paragraph_id:p}).catch(O=>console.error("Failed to sync progress:",O))},2e3),()=>clearTimeout(fe.current)},[u,c,d,p,i,o]);const ge=S.useCallback(async O=>{if(!(!i||!o||Q)&&!(!Number.isInteger(O)||O<1)&&O!==z){te(!0);try{const{items:L,paging:x}=await Fe.getSentences(o,i,{paragraphPage:O,paragraphPageSize:20}),R=Ie(L,x);R.some(Y=>String(Y.id)===String(p))||m(R.length>0?R[0].id:null)}catch(L){console.error("Failed to switch paragraph page:",L)}finally{te(!1)}}},[i,o,Q,z,20,Ie,p,m]),q=async O=>{const L=O.map((x,R)=>{const U=`import-p${R}`;return y(U,{knowledge:x.knowledge||[],insight:x.insight||{tag:"Analysis",text:"No insight available."},ambient:null,translation:x.translation||"Translation not available."}),{id:U,text:x.text,knowledge:x.knowledge||[],insight:x.insight,translation:x.translation}});b(L),T(1),D(1)},$=S.useCallback(async O=>{if(!Ri||!O)return;const L=P.find(Y=>Y.id==O);if(!L)return;const x=$e(L),R=x==null?void 0:x.id,U=(x==null?void 0:x.content)||L.text;if(U!=null&&U.trim()){console.log(`[ReaderPage] Reanalyzing sentence ${R||"unknown"} in paragraph ${O}...`);try{const{aiService:Y}=await Pi(async()=>{const{aiService:ne}=await Promise.resolve().then(()=>ji);return{aiService:ne}},void 0),X=await Y.analyzeSentence(U);console.log(`[ReaderPage] Reanalysis complete for sentence ${R||"unknown"}`);const oe=Array.isArray(L.sentences)?L.sentences.map(ne=>String(ne.id)!==String(R)?ne:{...ne,translation:X.translation||ne.translation||"No translation",analysis:{knowledge:X.knowledge||[],insight:X.insight||{tag:"Analysis",text:"No insight"},xray:X.xray||null,companion:X.companion||null}}):L.sentences;if(y(O,{knowledge:X.knowledge||[],insight:X.insight||{tag:"Analysis",text:"No insight"},translation:X.translation||"No translation",xray:X.xray||null,companion:X.companion||null,sentences:oe||[]}),o&&typeof R=="number")try{await Fe.updateSentence(o,R,{translation:X.translation,analysis:{knowledge:X.knowledge||[],insight:X.insight,xray:X.xray,companion:X.companion||null}}),console.log("[ReaderPage] Persisted reanalysis to backend")}catch(ne){console.error("[ReaderPage] Failed to persist reanalysis:",ne)}}catch(Y){throw console.error("[ReaderPage] Reanalysis failed:",Y),Y}}},[P,$e,o,y]);return A?g.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.2rem",color:"#64748b"},children:"..."}):g.jsxs(g.Fragment,{children:[g.jsx(lg,{onImport:()=>se(!0)}),g.jsxs("div",{className:"app-container",id:"appContainer",children:[g.jsx(Jg,{paragraphs:P,title:pe,page:z,totalPages:M,onPageChange:i?ge:null,pageLoading:Q}),g.jsx(ey,{onReanalyze:$,sentenceAnalysisEnabled:Ri})]}),g.jsx(ry,{isOpen:ie,onClose:()=>se(!1),onImport:q})]})}function $a({children:l}){const{token:i,loading:o}=sr();return o?g.jsx("div",{children:"Loading..."}):i?l:g.jsx(Ci,{to:"/login",replace:!0})}function ly({children:l}){const{token:i,loading:o}=sr();return o?g.jsx("div",{children:"Loading..."}):i?g.jsx(Ci,{to:"/library",replace:!0}):l}function iy(){return g.jsx(Mm,{children:g.jsx(Ym,{children:g.jsx(Xm,{children:g.jsxs(hm,{children:[g.jsx(Tn,{path:"/login",element:g.jsx(ly,{children:g.jsx(Zm,{})})}),g.jsx(Tn,{path:"/",element:g.jsx(Ci,{to:"/library",replace:!0})}),g.jsx(Tn,{path:"/library",element:g.jsx($a,{children:g.jsx(tg,{})})}),g.jsx(Tn,{path:"/reader",element:g.jsx($a,{children:g.jsx(_d,{})})}),g.jsx(Tn,{path:"/reader/:textId",element:g.jsx($a,{children:g.jsx(_d,{})})}),g.jsx(Tn,{path:"*",element:g.jsx(Ci,{to:"/",replace:!0})})]})})})})}gh.createRoot(document.getElementById("root")).render(g.jsx(ch.StrictMode,{children:g.jsx(iy,{})}));
